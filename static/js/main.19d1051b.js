/*! For license information please see main.19d1051b.js.LICENSE.txt */
(()=>{"use strict";var e={532:(e,t)=>{var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},457:(e,t,n)=>{n(532)},110:(e,t,n)=>{var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},746:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},309:(e,t,n)=>{e.exports=n(746)},463:(e,t,n)=>{var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),x=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case k:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,Ie=null;function ke(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Te(e){Ee?Ie?Ie.push(e):Ie=[e]:Ee=e}function xe(){if(Ee){var e=Ee,t=Ie;if(Ie=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==Ee||null!==Ie)&&(Ae(),xe())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){De=!1}function Le(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Fe=null,je=!1,Ue=null,ze={onError:function(e){Me=!0,Fe=e}};function Ve(e,t,n,r,i,o,a,s,l){Me=!1,Fe=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,Et,It,kt,Tt=!1,xt=[],Ct=null,At=null,Rt=null,Pt=new Map,Nt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function zt(){Tt=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Rt&&jt(Rt)&&(Rt=null),Pt.forEach(Ut),Nt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<xt.length){Vt(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==At&&Vt(At,e),null!==Rt&&Vt(Rt,e),Pt.forEach(t),Nt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=w.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Ht(e,t,n,r){var i=bt,o=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=o}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Mt(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return In}var Tn=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(Tn),Cn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Rn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(Pn),Dn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!On||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Gn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Kn(t,Gn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Ir={};function kr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Er[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=kr("animationend"),xr=kr("animationiteration"),Cr=kr("animationstart"),Ar=kr("transitionend"),Rr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Rr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Or=Pr[Dr];Nr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Nr(Tr,"onAnimationEnd"),Nr(xr,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Fe;Me=!1,Fe=null,je||(je=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,s,c),o=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=o,i=_e(n),a=[];e:{var s=Rr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=xn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Tr:case xr:case Cr:l=vn;break;case Ar:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ne(p,h))&&u.push(Kr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(a,s,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Wn(s))if(Xn)g=ar;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Kn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&zn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}jr(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Kr(e,o,i)),null!=(o=Ne(e,t))&&r.push(Kr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ne(n,o))&&a.unshift(Kr(n,l,s)):i||null!=(l=Ne(n,o))&&a.push(Kr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Si=[],Ei=-1;function Ii(e){return{current:e}}function ki(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function Ti(e,t){Ei++,Si[Ei]=e.current,e.current=t}var xi={},Ci=Ii(xi),Ai=Ii(!1),Ri=xi;function Pi(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){ki(Ai),ki(Ci)}function Oi(e,t,n){if(Ci.current!==xi)throw Error(o(168));Ti(Ci,t),Ti(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ri=Ci.current,Ti(Ci,e),Ti(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(Ci),Ti(Ci,e)):ki(Ai),Ti(Ai,n)}var ji=null,Ui=!1,zi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!zi&&null!==ji){zi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,zi=!1}}return null}var qi=[],Wi=0,Ki=null,Hi=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Hi,qi[Wi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Hi=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ii(null),bo=null,wo=null,_o=null;function So(){_o=wo=bo=null}function Eo(e){var t=yo.current;ki(yo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){bo=e,_o=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var xo=null;function Co(e){null===xo?xo=[e]:xo.push(e)}function Ao(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Co(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ro(e,n)}return null===(i=r.interleaved)?(t.next=t,Co(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ro(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=F({},d,h);break e;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=a,e.lanes=a,e.memoizedState=d}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var zo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(rc(t,e,r,n),Mo(t,e,r))}};function qo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Wo(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Ni(t)?Ri:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zo,No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Ni(t)?Ri:Ci.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===zo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&$o(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case S:return(t=Uc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&$o(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Go(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((o=Mc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=Go(r,o,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uc(a,r.mode,l)).return=r,r=o}return s(r);case N:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(L(a))return g(r,o,a,l);Qo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=jc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Xo=Yo(!0),Jo=Yo(!1),Zo={},ea=Ii(Zo),ta=Ii(Zo),na=Ii(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(Ti(na,t),Ti(ta,e),Ti(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(ea),Ti(ea,t)}function oa(){ki(ea),ki(ta),ki(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Ti(ta,e),Ti(ea,n))}function sa(e){ta.current===e&&(ki(ea),ki(ta))}var la=Ii(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=w.ReactCurrentDispatcher,fa=w.ReactCurrentBatchConfig,pa=0,ma=null,ga=null,va=null,ya=!1,ba=!1,wa=0,_a=0;function Sa(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ia(e,t,n,r,i,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,va=ga=null,t.updateQueue=null,ha.current=cs,e=n(r,i)}while(ba)}if(ha.current=as,t=null!==ga&&null!==ga.next,pa=0,va=ga=ma=null,ya=!1,t)throw Error(o(300));return e}function ka(){var e=0!==wa;return wa=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ma.memoizedState=va=e:va=va.next=e,va}function xa(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===va?ma.memoizedState:va.next;if(null!==t)va=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===va?ma.memoizedState=va=e:va=va.next=e}return va}function Ca(e,t){return"function"===typeof t?t(e):t}function Aa(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,ma.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Fl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ra(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function Na(e,t){var n=ma,r=xa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Wa(La.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Ua(9,Oa.bind(null,n,r,i,t),void 0,null),null===Rl)throw Error(o(349));0!==(30&pa)||Da(n,t,i)}return i}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&Fa(e)}function La(e,t,n){return n((function(){Ma(t)&&Fa(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fa(e){var t=Ro(e,1);null!==t&&rc(t,e,1,-1)}function ja(e){var t=Ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return xa().memoizedState}function Va(e,t,n,r){var i=Ta();ma.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=xa();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}ma.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function qa(e,t){return Va(8390656,8,e,t)}function Wa(e,t){return Ba(2048,8,e,t)}function Ka(e,t){return Ba(4,2,e,t)}function Ha(e,t){return Ba(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ga.bind(null,t,e),n)}function $a(){}function Ya(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,Fl|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{bt=n,fa.transition=r}}function es(){return xa().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ao(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Co(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ao(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:To,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:To,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:ja,useDebugValue:$a,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=Za.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Ta();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Rl)throw Error(o(349));0!==(30&pa)||Da(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(La.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Rl.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_a++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:To,useCallback:Ya,useContext:To,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ka,useLayoutEffect:Ha,useMemo:Xa,useReducer:Aa,useRef:za,useState:function(){return Aa(Ca)},useDebugValue:$a,useDeferredValue:function(e){return Ja(xa(),ga.memoizedState,e)},useTransition:function(){return[Aa(Ca)[0],xa().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Na,useId:es,unstable_isNewReconciler:!1},cs={readContext:To,useCallback:Ya,useContext:To,useEffect:Wa,useImperativeHandle:Qa,useInsertionEffect:Ka,useLayoutEffect:Ha,useMemo:Xa,useReducer:Ra,useRef:za,useState:function(){return Ra(Ca)},useDebugValue:$a,useDeferredValue:function(e){var t=xa();return null===ga?t.memoizedState=e:Ja(t,ga.memoizedState,e)},useTransition:function(){return[Ra(Ca)[0],xa().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Na,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Hl=r),hs(0,t)},n}function ms(e,t,n){(n=Oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oo(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function _s(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=Ia(e,t,n,r,o,i),n=ka(),null===e||ws?(io&&n&&eo(t),t.flags|=1,_s(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Is(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return xs(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ol,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Ol,Dl),Dl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Ol,Dl),Dl|=r;return _s(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xs(e,t,n,r,i){var o=Ni(n)?Ri:Ci.current;return o=Pi(t,o),ko(t,i),n=Ia(e,t,n,r,o,i),r=ka(),null===e||ws?(io&&r&&eo(t),t.flags|=1,_s(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Cs(e,t,n,r,i){if(Ni(n)){var o=!0;Mi(t)}else o=!1;if(ko(t,i),null===t.stateNode)Ws(e,t),Wo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=To(c):c=Pi(t,c=Ni(n)?Ri:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Ko(t,a,r,c),Po=!1;var h=t.memoizedState;a.state=h,jo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ai.current||Po?("function"===typeof u&&(Vo(t,n,u,r),l=t.memoizedState),(s=Po||qo(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Do(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vo(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=To(l):l=Pi(t,l=Ni(n)?Ri:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&Ko(t,a,r,l),Po=!1,h=t.memoizedState,a.state=h,jo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ai.current||Po?("function"===typeof f&&(Vo(t,n,f,r),p=t.memoizedState),(c=Po||qo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,o,i)}function As(e,t,n,r,i,o){Ts(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Ks(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):_s(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ia(e,t.containerInfo)}function Ps(e,t,n,r,i){return po(),mo(i),t.flags|=256,_s(e,t,n,r),t.child}var Ns,Ds,Os,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(la,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fc(l,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):Us(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),ws||l){if(null!==(r=Rl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ro(e,i),rc(r,e,i,-1))}return gc(),zs(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Oc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&mo(r),Xo(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_s(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ni(t.type)&&Di(),Gs(t),null;case 3:return r=t.stateNode,oa(),ki(Ai),ki(Ci),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ds(e,t),Gs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(ki(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return oa(),Ds(e,t),null===e&&Br(t.stateNode.containerInfo),Gs(t),null;case 10:return Eo(t.type._context),Gs(t),null;case 19:if(ki(la),null===(a=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Hs(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,Hs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>ql&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Gs(t),null}else 2*Xe()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=la.current,Ti(la,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $s(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),ki(Ai),ki(Ci),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(ki(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(la),null;case 4:return oa(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xs&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kc(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,fl(e,t,n),Xs=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(a,s,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xe())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,gl(t,e),Xs=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(h=Zs=d;null!==Zs;){switch(p=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(h);continue}}null!==p?(p.return=f,Zs=p):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(o(161))}}catch(s){kc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Zs=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ys;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=a,(Xs=l)&&!c)for(Zs=i;null!==Zs;)l=(a=Zs).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,Zs=l):El(i);for(;null!==o;)Zs=o,wl(o,t,n),o=o.sibling;Zs=i,Ys=s,Xs=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):_l(e)}}function _l(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&ol(t)}catch(f){kc(t,t.return,f)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function Sl(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function El(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{ol(t)}catch(l){kc(t,o,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Il,kl=Math.ceil,Tl=w.ReactCurrentDispatcher,xl=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Al=0,Rl=null,Pl=null,Nl=0,Dl=0,Ol=Ii(0),Ll=0,Ml=null,Fl=0,jl=0,Ul=0,zl=null,Vl=null,Bl=0,ql=1/0,Wl=null,Kl=!1,Hl=null,Gl=null,Ql=!1,$l=null,Yl=0,Xl=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Al)?Xe():-1!==Zl?Zl:Zl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Nl?Nl&-Nl:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(o(185));vt(e,n,r),0!==(2&Al)&&e===Rl||(e===Rl&&(0===(2&Al)&&(jl|=n),4===Ll&&lc(e,Nl)),ic(e,r),1===n&&0===Al&&0===(1&t.mode)&&(ql=Xe()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Rl?Nl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),ai((function(){0===(6&Al)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,ec=0,0!==(6&Al))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Rl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Al;Al|=2;var a=mc();for(Rl===e&&Nl===t||(Wl=null,ql=Xe()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}So(),Tl.current=a,Al=i,null!==Pl?t=0:(Rl=null,Nl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,Xe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,Vl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Vl,Wl),t);break}Sc(e,Vl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Vl,Wl),r);break}Sc(e,Vl,Wl);break;default:throw Error(o(329))}}}return ic(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Vl,Vl=n,null!==t&&sc(t)),e}function sc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Ul,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Al))throw Error(o(327));Ec();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Vl,Wl),ic(e,Xe()),null}function uc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(ql=Xe()+500,Ui&&Bi())}}function dc(e){null!==$l&&0===$l.tag&&0===(6&Al)&&Ec();var t=Al;Al|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Al=t))&&Bi()}}function hc(){Dl=Ol.current,ki(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:oa(),ki(Ai),ki(Ci),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:ki(la);break;case 10:Eo(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Rl=e,Pl=e=Oc(e.current,null),Nl=Dl=t,Ll=0,Ml=null,Ul=jl=Fl=0,Vl=zl=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(r=(n=xo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}xo=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(So(),ha.current=as,ya){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,va=ga=ma=null,ba=!1,wa=0,xl.current=null,null===n||null===n.return){Ll=1,Ml=t,Pl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&gs(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gs(a,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),mo(us(c,l));break e}}a=c=us(c,l),4!==Ll&&(Ll=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ps(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mc(){var e=Tl.current;return Tl.current=as,null===e?as:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Rl||0===(268435455&Fl)&&0===(268435455&jl)||lc(Rl,Nl)}function vc(e,t){var n=Al;Al|=2;var r=mc();for(Rl===e&&Nl===t||(Wl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(So(),Al=n,Tl.current=r,null!==Pl)throw Error(o(261));return Rl=null,Nl=0,Ll}function yc(){for(;null!==Pl;)wc(Pl)}function bc(){for(;null!==Pl&&!$e();)wc(Pl)}function wc(e){var t=Il(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?_c(e):Pl=t,xl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Dl)))return void(Pl=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Sc(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==$l);if(0!==(6&Al))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Rl&&(Pl=Rl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Rc(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var s=bt;bt=1;var l=Al;Al|=4,xl.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Ye(),Al=l,bt=s,Cl.transition=a}else e.current=n;if(Ql&&(Ql=!1,$l=e,Yl=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,e=Hl,Hl=null,e;0!==(1&Yl)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function Ec(){if(null!==$l){var e=wt(Yl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Yl=0,0!==(6&Al))throw Error(o(331));var i=Al;for(Al|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zs=u;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zs=h;else for(;null!==Zs;){var f=(d=Zs).sibling,p=d.return;if(al(d),d===u){Zs=null;break}if(null!==f){f.return=p,Zs=f;break}Zs=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zs=y;break e}Zs=a.return}}var b=e.current;for(Zs=b;null!==Zs;){var w=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Zs=w;else e:for(s=b;null!==Zs;){if(0!==(2048&(l=Zs).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){kc(l,l.return,S)}if(l===s){Zs=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Zs=_;break e}Zs=l.return}}if(Al=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function Ic(e,t,n){e=Lo(e,t=ps(0,t=us(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Lo(t,e=ms(t,e=us(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Nl&n)===n&&(4===Ll||3===Ll&&(130023424&Nl)===Nl&&500>Xe()-Bl?fc(e,0):Ul|=n),ic(e,t)}function xc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ro(e,t))&&(vt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),xc(e,n)}function Rc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Pc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Mc(n.children,i,a,t);case I:s=8,i|=8;break;case k:return(e=Nc(12,n,t,2|i)).elementType=k,e.lanes=a,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=a,e;case R:return(e=Nc(19,n,t,i)).elementType=R,e.lanes=a,e;case D:return Fc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case x:s=9;break e;case C:s=11;break e;case P:s=14;break e;case N:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,a,s,l){return e=new zc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Bc(e){if(!e)return xi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,o,a,s,l){return(e=Vc(n,r,!0,e,0,o,0,s,l)).context=Bc(null),n=e.current,(o=Oo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,a))&&(rc(e,i,a,o),Mo(e,i,a)),a}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Il=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),po();break;case 5:aa(t);break;case 1:Ni(t.type)&&Mi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ti(la,1&la.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ti(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Ks(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,io&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);ko(t,n),i=Ia(null,t,r,e,i,n);var a=ka();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=As(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),_s(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=vo(r,e),i){case 0:t=xs(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Es(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Rs(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Do(e,t),jo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ks(e,t,n);break e}_s(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ts(e,t),_s(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return js(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):_s(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return _s(e,t,t.pendingProps,n),t.child;case 8:case 12:return _s(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ti(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ai.current){t=Ks(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Oo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Io(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Io(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}_s(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=To(i)),t.flags|=1,_s(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Es(e,t,r,i=vo(r.type,i),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Ws(e,t),t.tag=1,Ni(r)?(e=!0,Mi(t)):e=!1,ko(t,n),Wo(t,r,i),Ho(t,r,i,n),As(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Kc(a);s.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Kc(a);o.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(l);s.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return Kc(a)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Al)&&(ql=Xe()+500,Bi()))}break;case 13:dc((function(){var t=Ro(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Ro(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},It=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Ae=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,Te,xe,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},117:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+C(l,0):o,_(a)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+C(s=e[c],c);l+=A(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=A(s=s.value,t,i,u=o+C(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},D={transition:null},O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{e.exports=n(117)},184:(e,t,n)=>{e.exports=n(374)},813:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,D(S);else{var t=r(u);null!==t&&O(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(_,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,I=!1,k=null,T=-1,x=5,C=-1;function A(){return!(t.unstable_now()-C<x)}function R(){if(null!==k){var e=t.unstable_now();C=e;var n=!0;try{n=k(!0,e)}finally{n?E():(I=!1,k=null)}}else I=!1}if("function"===typeof b)E=function(){b(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,N=P.port2;P.port1.onmessage=R,E=function(){N.postMessage(null)}}else E=function(){v(R,0)};function D(e){k=e,I||(I=!0,E())}function O(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(T),T=-1):g=!0,O(_,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,D(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={};n.r(e),n.d(e,{FirebaseError:()=>E,SDK_VERSION:()=>Ne,_DEFAULT_ENTRY_NAME:()=>we,_addComponent:()=>Ie,_addOrOverwriteComponent:()=>ke,_apps:()=>Se,_clearComponents:()=>Ae,_components:()=>Ee,_getProvider:()=>xe,_registerComponent:()=>Te,_removeServiceInstance:()=>Ce,deleteApp:()=>Me,getApp:()=>Oe,getApps:()=>Le,initializeApp:()=>De,onLog:()=>je,registerVersion:()=>Fe,setLogLevel:()=>Ue});var t=n(791),r=n.t(t,2),i=n(250);const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==l)throw new s;const c=t<<2|o>>4;if(r.push(c),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==l){const e=a<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l=function(e){return function(e){const t=o(e);return a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},c=function(e){try{return a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function u(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=u(e[n],t[n]));return e}const d=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,h=()=>{try{return d()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBQ7DwkcP7WXWg54DuahrA9cYAUhidewD4",REACT_APP_FIREBASE_APP_ID:"1:267097892790:web:a1f659386044f338200317",REACT_APP_FIREBASE_AUTH_DOMAIN:"we-are-the-walrus.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://we-are-the-walrus.firebaseio.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-67YXPTTKRG",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"267097892790",REACT_APP_FIREBASE_PROJECT_ID:"we-are-the-walrus",REACT_APP_FIREBASE_STORAGE_BUCKET:"we-are-the-walrus.appspot.com",REACT_APP_PUBLIC_URL:"/"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&c(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},f=()=>{var e;return null===(e=h())||void 0===e?void 0:e.config};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function m(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){var e;const t=null===(e=h())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function v(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function y(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function b(){const e=m();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function w(){try{return"object"===typeof indexedDB}catch(e){return!1}}function _(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}function S(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I.prototype.create)}}class I{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(k,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new E(n,o,t)}}const k=/\{\$([^}]+)}/g;function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function x(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(C(n)&&C(o)){if(!x(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function C(e){return null!==e&&"object"===typeof e}function A(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function R(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function P(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function N(e,t){const n=new D(e,t);return n.subscribe.bind(n)}class D{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function O(){}const L=1e3,M=2,F=144e5,j=.5;function U(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:L)*Math.pow(t,e),r=Math.round(j*n*(Math.random()-.5)*2);return Math.min(F,n+r)}function z(e){return e&&e._delegate?e._delegate:e}class V{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const B="[DEFAULT]";class q{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new p;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:B})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:W(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return this.component?this.component.multipleInstances?e:B:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function W(e){return e===B?void 0:e}class K{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new q(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const H=[];var G;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(G||(G={}));const Q={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},$=G.INFO,Y={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},X=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Y[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class J{constructor(e){this.name=e,this._logLevel=$,this._logHandler=X,this._userLogHandler=null,H.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Q[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...t),this._logHandler(this,G.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...t),this._logHandler(this,G.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.INFO,...t),this._logHandler(this,G.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.WARN,...t),this._logHandler(this,G.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.ERROR,...t),this._logHandler(this,G.ERROR,...t)}}const Z=(e,t)=>t.some((t=>e instanceof t));let ee,te;const ne=new WeakMap,re=new WeakMap,ie=new WeakMap,oe=new WeakMap,ae=new WeakMap;let se={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return re.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ie.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ue(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function le(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(de(this),n),ue(ne.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ue(e.apply(de(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(de(this),t,...r);return ie.set(o,t.sort?t.sort():[t]),ue(o)}}function ce(e){return"function"===typeof e?le(e):(e instanceof IDBTransaction&&function(e){if(re.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));re.set(e,t)}(e),Z(e,ee||(ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,se):e)}function ue(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(ue(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&ne.set(t,e)})).catch((()=>{})),ae.set(t,e),t}(e);if(oe.has(e))return oe.get(e);const t=ce(e);return t!==e&&(oe.set(e,t),ae.set(t,e)),t}const de=e=>ae.get(e);const he=["get","getKey","getAll","getAllKeys","count"],fe=["put","add","delete","clear"],pe=new Map;function me(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(pe.get(t))return pe.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=fe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!he.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return pe.set(t,o),o}se=(e=>({...e,get:(t,n,r)=>me(t,n)||e.get(t,n,r),has:(t,n)=>!!me(t,n)||e.has(t,n)}))(se);class ge{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const ve="@firebase/app",ye="0.9.25",be=new J("@firebase/app"),we="[DEFAULT]",_e={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Se=new Map,Ee=new Map;function Ie(e,t){try{e.container.addComponent(t)}catch(n){be.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ke(e,t){e.container.addOrOverwriteComponent(t)}function Te(e){const t=e.name;if(Ee.has(t))return be.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ee.set(t,e);for(const n of Se.values())Ie(n,e);return!0}function xe(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ce(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:we;xe(e,t).clearInstance(n)}function Ae(){Ee.clear()}const Re=new I("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pe{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new V("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Re.create("app-deleted",{appName:this._name})}}const Ne="10.7.1";function De(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:we,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Re.create("bad-app-name",{appName:String(i)});if(n||(n=f()),!n)throw Re.create("no-options");const o=Se.get(i);if(o){if(x(n,o.options)&&x(r,o.config))return o;throw Re.create("duplicate-app",{appName:i})}const a=new K(i);for(const l of Ee.values())a.addComponent(l);const s=new Pe(n,r,a);return Se.set(i,s),s}function Oe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we;const t=Se.get(e);if(!t&&e===we&&f())return De();if(!t)throw Re.create("no-app",{appName:e});return t}function Le(){return Array.from(Se.values())}async function Me(e){const t=e.name;Se.has(t)&&(Se.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Fe(e,t,n){var r;let i=null!==(r=_e[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void be.warn(e.join(" "))}Te(new V("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function je(e,t){if(null!==e&&"function"!==typeof e)throw Re.create("invalid-log-argument");!function(e,t){for(const n of H){let r=null;t&&t.level&&(r=Q[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];const s=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:G[n].toLowerCase(),message:s,args:o,type:t.name})}}}(e,t)}function Ue(e){var t;t=e,H.forEach((e=>{e.setLogLevel(t)}))}const ze="firebase-heartbeat-database",Ve=1,Be="firebase-heartbeat-store";let qe=null;function We(){return qe||(qe=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=ue(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(ue(a.result),e.oldVersion,e.newVersion,ue(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}(ze,Ve,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Be)}}).catch((e=>{throw Re.create("idb-open",{originalErrorMessage:e.message})}))),qe}async function Ke(e,t){try{const n=(await We()).transaction(Be,"readwrite"),r=n.objectStore(Be);await r.put(t,He(e)),await n.done}catch(n){if(n instanceof E)be.warn(n.message);else{const e=Re.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});be.warn(e.message)}}}function He(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ge{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $e(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Qe();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Qe(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Ye(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ye(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=l(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Qe(){return(new Date).toISOString().substring(0,10)}class $e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!w()&&_().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await We();return await t.transaction(Be).objectStore(Be).get(He(e))}catch(t){if(t instanceof E)be.warn(t.message);else{const e=Re.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});be.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ke(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ke(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ye(e){return l(JSON.stringify({version:2,heartbeats:e})).length}var Xe;Xe="",Te(new V("platform-logger",(e=>new ge(e)),"PRIVATE")),Te(new V("heartbeat",(e=>new Ge(e)),"PRIVATE")),Fe(ve,ye,Xe),Fe(ve,ye,"esm2017"),Fe("fire-js","");class Je{constructor(e,t){this._delegate=e,this.firebase=t,Ie(e,new V("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Me(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Ie(this._delegate,e)}_addOrOverwriteComponent(e){ke(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ze=new I("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const et=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=De(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(T(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Fe,setLogLevel:Ue,onLog:je,apps:null,SDK_VERSION:Ne,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Te(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw Ze.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&u(a,e.serviceProps),r[o]=a,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!T(n,e=e||we))throw Ze.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Je);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){u(n,e)},createSubscribe:N,ErrorFactory:I,deepExtend:u}),n}(),tt=new J("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){tt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&tt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const nt=et;!function(e){Fe("@firebase/app-compat","0.2.25",e)}();nt.registerVersion("firebase","10.7.1","app-compat");var rt,it="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ot={},at=at||{},st=it||self;function lt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ct(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ut="closure_uid_"+(1e9*Math.random()>>>0),dt=0;function ht(e,t,n){return e.call.apply(e.bind,arguments)}function ft(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function pt(e,t,n){return(pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ht:ft).apply(null,arguments)}function mt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function gt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function vt(){this.s=this.s,this.o=this.o}vt.prototype.s=!1,vt.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ut)&&e[ut]||(e[ut]=++dt))},vt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function bt(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function wt(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(lt(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function _t(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!st.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};st.addEventListener("test",e,t),st.removeEventListener("test",e,t)}catch(n){}return e}();function Et(e){return/^[\s\xa0]*$/.test(e)}function It(){var e=st.navigator;return e&&(e=e.userAgent)?e:""}function kt(e){return-1!=It().indexOf(e)}function Tt(e){return Tt[" "](e),e}Tt[" "]=function(){};var xt,Ct,At=kt("Opera"),Rt=kt("Trident")||kt("MSIE"),Pt=kt("Edge"),Nt=Pt||Rt,Dt=kt("Gecko")&&!(-1!=It().toLowerCase().indexOf("webkit")&&!kt("Edge"))&&!(kt("Trident")||kt("MSIE"))&&!kt("Edge"),Ot=-1!=It().toLowerCase().indexOf("webkit")&&!kt("Edge");function Lt(){var e=st.document;return e?e.documentMode:void 0}e:{var Mt="",Ft=function(){var e=It();return Dt?/rv:([^\);]+)(\)|;)/.exec(e):Pt?/Edge\/([\d\.]+)/.exec(e):Rt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ot?/WebKit\/(\S+)/.exec(e):At?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ft&&(Mt=Ft?Ft[1]:""),Rt){var jt=Lt();if(null!=jt&&jt>parseFloat(Mt)){xt=String(jt);break e}}xt=Mt}if(st.document&&Rt){var Ut=Lt();Ct=Ut||(parseInt(xt,10)||void 0)}else Ct=void 0;var zt=Ct;function Vt(e,t){if(_t.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Dt){e:{try{Tt(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Bt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Vt.$.h.call(this)}}gt(Vt,_t);var Bt={2:"touch",3:"pen",4:"mouse"};Vt.prototype.h=function(){Vt.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function Kt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Wt,this.fa=this.ia=!1}function Ht(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Gt(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Qt(e){const t={};for(const n in e)t[n]=e[n];return t}const $t="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yt(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<$t.length;t++)n=$t[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Xt(e){this.src=e,this.g={},this.h=0}function Jt(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=yt(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ht(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Zt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Xt.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Zt(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Kt(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var en="closure_lm_"+(1e6*Math.random()|0),tn={};function nn(e,t,n,r,i){if(r&&r.once)return on(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)nn(e,t[o],n,r,i);return null}return n=hn(n),e&&e[qt]?e.O(t,n,ct(r)?!!r.capture:!!r,i):rn(e,t,n,!1,r,i)}function rn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=ct(i)?!!i.capture:!!i,s=un(e);if(s||(e[en]=s=new Xt(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=cn;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)St||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ln(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function on(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)on(e,t[o],n,r,i);return null}return n=hn(n),e&&e[qt]?e.P(t,n,ct(r)?!!r.capture:!!r,i):rn(e,t,n,!0,r,i)}function an(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)an(e,t[o],n,r,i);else r=ct(r)?!!r.capture:!!r,n=hn(n),e&&e[qt]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Zt(o=e.g[t],n,r,i))&&(Ht(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=un(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Zt(t,n,r,i)),(n=-1<e?t[e]:null)&&sn(n))}function sn(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[qt])Jt(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ln(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=un(t))?(Jt(n,e),0==n.h&&(n.src=null,t[en]=null)):Ht(e)}}}function ln(e){return e in tn?tn[e]:tn[e]="on"+e}function cn(e,t){if(e.fa)e=!0;else{t=new Vt(t,this);var n=e.listener,r=e.la||e.src;e.ia&&sn(e),e=n.call(r,t)}return e}function un(e){return(e=e[en])instanceof Xt?e:null}var dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function hn(e){return"function"===typeof e?e:(e[dn]||(e[dn]=function(t){return e.handleEvent(t)}),e[dn])}function fn(){vt.call(this),this.i=new Xt(this),this.S=this,this.J=null}function pn(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new _t(t,e);else if(t instanceof _t)t.target=t.target||e;else{var i=t;Yt(t=new _t(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=mn(a,r,!0,t)&&i}if(i=mn(a=t.g=e,r,!0,t)&&i,i=mn(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=mn(a=t.g=n[o],r,!1,t)&&i}function mn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,l=a.la||a.src;a.ia&&Jt(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}gt(fn,vt),fn.prototype[qt]=!0,fn.prototype.removeEventListener=function(e,t,n,r){an(this,e,t,n,r)},fn.prototype.N=function(){if(fn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ht(n[r]);delete t.g[e],t.h--}}this.J=null},fn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},fn.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var gn=st.JSON.stringify;function vn(){var e=In;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var yn=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new bn),(e=>e.reset()));class bn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function wn(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _n(e){st.setTimeout((()=>{throw e}),0)}let Sn,En=!1,In=new class{constructor(){this.h=this.g=null}add(e,t){const n=yn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},kn=()=>{const e=st.Promise.resolve(void 0);Sn=()=>{e.then(Tn)}};var Tn=()=>{for(var e;e=vn();){try{e.h.call(e.g)}catch(n){_n(n)}var t=yn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}En=!1};function xn(e,t){fn.call(this),this.h=e||1,this.g=t||st,this.j=pt(this.qb,this),this.l=Date.now()}function Cn(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function An(e,t,n){if("function"===typeof e)n&&(e=pt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=pt(e.handleEvent,e)}return 2147483647<Number(t)?-1:st.setTimeout(e,t||0)}function Rn(e){e.g=An((()=>{e.g=null,e.i&&(e.i=!1,Rn(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}gt(xn,fn),(rt=xn.prototype).ga=!1,rt.T=null,rt.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),pn(this,"tick"),this.ga&&(Cn(this),this.start()))}},rt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.N=function(){xn.$.N.call(this),Cn(this),delete this.g};class Pn extends vt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Rn(this)}N(){super.N(),this.g&&(st.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nn(e){vt.call(this),this.h=e,this.g={}}gt(Nn,vt);var Dn=[];function On(e,t,n,r){Array.isArray(n)||(n&&(Dn[0]=n.toString()),n=Dn);for(var i=0;i<n.length;i++){var o=nn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ln(e){Gt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&sn(e)}),e),e.g={}}function Mn(){this.g=!0}function Fn(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return gn(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Nn.prototype.N=function(){Nn.$.N.call(this),Ln(this)},Nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mn.prototype.Ea=function(){this.g=!1},Mn.prototype.info=function(){};var jn={},Un=null;function zn(){return Un=Un||new fn}function Vn(e){_t.call(this,jn.Ta,e)}function Bn(e){const t=zn();pn(t,new Vn(t))}function qn(e,t){_t.call(this,jn.STAT_EVENT,e),this.stat=t}function Wn(e){const t=zn();pn(t,new qn(t,e))}function Kn(e,t){_t.call(this,jn.Ua,e),this.size=t}function Hn(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return st.setTimeout((function(){e()}),t)}jn.Ta="serverreachability",gt(Vn,_t),jn.STAT_EVENT="statevent",gt(qn,_t),jn.Ua="timingevent",gt(Kn,_t);var Gn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $n(){}function Yn(e){return e.h||(e.h=e.i())}function Xn(){}$n.prototype.h=null;var Jn,Zn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function er(){_t.call(this,"d")}function tr(){_t.call(this,"c")}function nr(){}function rr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Nn(this),this.P=or,e=Nt?125:void 0,this.V=new xn(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}gt(er,_t),gt(tr,_t),gt(nr,$n),nr.prototype.g=function(){return new XMLHttpRequest},nr.prototype.i=function(){return{}},Jn=new nr;var or=45e3,ar={},sr={};function lr(e,t,n){e.L=1,e.A=xr(Sr(t)),e.u=n,e.S=!0,cr(e,null)}function cr(e,t){e.G=Date.now(),fr(e),e.B=Sr(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),zr(n.i,"t",r),e.o=0,n=e.l.J,e.h=new ir,e.g=Vi(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Pn(pt(e.Pa,e,e.g),e.O)),On(e.U,e.g,"readystatechange",e.nb),t=e.I?Qt(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Bn(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function ur(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function dr(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=hr(e,n),r==sr){4==t&&(e.s=4,Wn(14),i=!1),Fn(e.j,e.m,null,"[Incomplete Response]");break}if(r==ar){e.s=4,Wn(15),Fn(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Fn(e.j,e.m,r,null),yr(e,r)}ur(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Wn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Di(t),t.M=!0,Wn(11))):(Fn(e.j,e.m,n,"[Invalid Chunked Response]"),vr(e),gr(e))}function hr(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?sr:(n=Number(t.substring(n,r)),isNaN(n)?ar:(r+=1)+n>t.length?sr:(t=t.slice(r,r+n),e.o=r+n,t))}function fr(e){e.Y=Date.now()+e.P,pr(e,e.P)}function pr(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Hn(pt(e.lb,e),t)}function mr(e){e.C&&(st.clearTimeout(e.C),e.C=null)}function gr(e){0==e.l.H||e.J||Mi(e.l,e)}function vr(e){mr(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Cn(e.V),Ln(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function yr(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Gr(n.i,e)))if(!e.K&&Gr(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Li(n),ki(n)}Ni(n),Wn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Hn(pt(n.ib,n),6e3));if(1>=Hr(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else ji(n,11)}else if((e.K||n.g==e)&&Li(n),!Et(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Qr(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Tr(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=zi(r,r.J?r.pa:null,r.Y),a.K){$r(r.i,a);var s=a,l=r.L;l&&s.setTimeout(l),s.C&&(mr(s),fr(s)),r.g=a}else Pi(r);0<n.j.length&&xi(n)}else"stop"!=c[0]&&"close"!=c[0]||ji(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ji(n,7):Ii(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Bn()}catch(c){}}function br(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(lt(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(lt(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(lt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(rt=rr.prototype).setTimeout=function(e){this.P=e},rt.nb=function(e){e=e.target;const t=this.M;t&&3==yi(e)?t.l():this.Pa(e)},rt.Pa=function(e){try{if(e==this.g)e:{const u=yi(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Nt||this.g&&(this.h.h||this.g.ja()||bi(this.g)))){this.J||4!=u||7==t||Bn(),mr(this);var n=this.g.da();this.ca=n;t:if(ur(this)){var r=bi(this.g);e="";var i=r.length,o=4==yi(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){vr(this),gr(this);var a="";break t}this.h.i=new st.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Et(s)){var c=s;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Wn(12),vr(this),gr(this);break e}Fn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yr(this,n)}this.S?(dr(this,u,a),Nt&&this.i&&3==u&&(On(this.U,this.V,"tick",this.mb),this.V.start())):(Fn(this.j,this.m,a,null),yr(this,a)),4==u&&vr(this),this.i&&!this.J&&(4==u?Mi(this.l,this):(this.i=!1,fr(this)))}else(function(e){const t={};e=(e.g&&2<=yi(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Et(e[r]))continue;var n=wn(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Wn(12)):(this.s=0,Wn(13)),vr(this),gr(this)}}}catch(u){}},rt.mb=function(){if(this.g){var e=yi(this.g),t=this.g.ja();this.o<t.length&&(mr(this),dr(this,e,t),this.i&&4!=e&&fr(this))}},rt.cancel=function(){this.J=!0,vr(this)},rt.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Bn(),Wn(17)),vr(this),this.s=2,gr(this)):pr(this,this.Y-e)};var wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _r(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof _r){this.h=e.h,Er(this,e.j),this.s=e.s,this.g=e.g,Ir(this,e.m),this.l=e.l;var t=e.i,n=new Mr;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),kr(this,n),this.o=e.o}else e&&(t=String(e).match(wr))?(this.h=!1,Er(this,t[1]||"",!0),this.s=Cr(t[2]||""),this.g=Cr(t[3]||"",!0),Ir(this,t[4]),this.l=Cr(t[5]||"",!0),kr(this,t[6]||"",!0),this.o=Cr(t[7]||"")):(this.h=!1,this.i=new Mr(null,this.h))}function Sr(e){return new _r(e)}function Er(e,t,n){e.j=n?Cr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ir(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function kr(e,t,n){t instanceof Mr?(e.i=t,function(e,t){t&&!e.j&&(Fr(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(jr(this,t),zr(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ar(t,Or)),e.i=new Mr(t,e.h))}function Tr(e,t,n){e.i.set(t,n)}function xr(e){return Tr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Cr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ar(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Rr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Rr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}_r.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ar(t,Pr,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ar(t,Pr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ar(n,"/"==n.charAt(0)?Dr:Nr,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ar(n,Lr)),e.join("")};var Pr=/[#\/\?@]/g,Nr=/[#\?:]/g,Dr=/[#\?]/g,Or=/[#\?@]/g,Lr=/#/g;function Mr(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Fr(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function jr(e,t){Fr(e),t=Vr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ur(e,t){return Fr(e),t=Vr(e,t),e.g.has(t)}function zr(e,t,n){jr(e,t),0<n.length&&(e.i=null,e.g.set(Vr(e,t),bt(n)),e.h+=n.length)}function Vr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(rt=Mr.prototype).add=function(e,t){Fr(this),this.i=null,e=Vr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},rt.forEach=function(e,t){Fr(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},rt.ta=function(){Fr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},rt.Z=function(e){Fr(this);let t=[];if("string"===typeof e)Ur(this,e)&&(t=t.concat(this.g.get(Vr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},rt.set=function(e,t){return Fr(this),this.i=null,Ur(this,e=Vr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},rt.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Br=class{constructor(e,t){this.g=e,this.map=t}};function qr(e){this.l=e||Wr,st.PerformanceNavigationTiming?e=0<(e=st.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(st.g&&st.g.Ka&&st.g.Ka()&&st.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Wr=10;function Kr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Hr(e){return e.h?1:e.g?e.g.size:0}function Gr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qr(e,t){e.g?e.g.add(t):e.h=t}function $r(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Yr(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return bt(e.i)}qr.prototype.cancel=function(){if(this.i=Yr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Xr,Jr=class{stringify(e){return st.JSON.stringify(e,void 0)}parse(e){return st.JSON.parse(e,void 0)}};function Zr(){this.g=new Jr}function ei(e,t,n){const r=n||"";try{br(e,(function(e,n){let i=e;ct(e)&&(i=gn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ti(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function ni(e){this.l=e.ec||null,this.j=e.ob||!1}function ri(e,t){fn.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ii,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gt(ni,$n),ni.prototype.g=function(){return new ri(this.l,this.j)},ni.prototype.i=(Xr={},function(){return Xr}),gt(ri,fn);var ii=0;function oi(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ai(e){e.readyState=4,e.l=null,e.j=null,e.A=null,si(e)}function si(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(rt=ri.prototype).open=function(e,t){if(this.readyState!=ii)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,si(this)},rt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||st).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ai(this)),this.readyState=ii},rt.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof st.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oi(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},rt.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ai(this):si(this),3==this.readyState&&oi(this)}},rt.Za=function(e){this.g&&(this.response=this.responseText=e,ai(this))},rt.Ya=function(e){this.g&&(this.response=e,ai(this))},rt.ka=function(){this.g&&ai(this)},rt.setRequestHeader=function(e,t){this.v.append(e,t)},rt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ri.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var li=st.JSON.parse;function ci(e){fn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ui,this.L=this.M=!1}gt(ci,fn);var ui="",di=/^https?$/i,hi=["POST","PUT"];function fi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pi(e),gi(e)}function pi(e){e.F||(e.F=!0,pn(e,"complete"),pn(e,"error"))}function mi(e){if(e.h&&"undefined"!=typeof at&&(!e.C[1]||4!=yi(e)||2!=e.da()))if(e.v&&4==yi(e))An(e.La,0,e);else if(pn(e,"readystatechange"),4==yi(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(wr)[1]||null;!i&&st.self&&st.self.location&&(i=st.self.location.protocol.slice(0,-1)),r=!di.test(i?i.toLowerCase():"")}n=r}if(n)pn(e,"complete"),pn(e,"success");else{e.m=6;try{var o=2<yi(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.da()+"]",pi(e)}}finally{gi(e)}}}function gi(e,t){if(e.g){vi(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||pn(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function vi(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(st.clearTimeout(e.A),e.A=null)}function yi(e){return e.g?e.g.readyState:0}function bi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ui:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(xo){return null}}function wi(e){let t="";return Gt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function _i(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wi(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Tr(e,t,n))}function Si(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ei(e){this.Ga=0,this.j=[],this.l=new Mn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Si("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Si("baseRetryDelayMs",5e3,e),this.hb=Si("retryDelaySeedMs",1e4,e),this.eb=Si("forwardChannelMaxRetries",2,e),this.xa=Si("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new qr(e&&e.concurrentRequestLimit),this.Ja=new Zr,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ii(e){if(Ti(e),3==e.H){var t=e.W++,n=Sr(e.I);if(Tr(n,"SID",e.K),Tr(n,"RID",t),Tr(n,"TYPE","terminate"),Ai(e,n),(t=new rr(e,e.l,t)).L=2,t.A=xr(Sr(n)),n=!1,st.navigator&&st.navigator.sendBeacon)try{n=st.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&st.Image&&((new Image).src=t.A,n=!0),n||(t.g=Vi(t.l,null),t.g.ha(t.A)),t.G=Date.now(),fr(t)}Ui(e)}function ki(e){e.g&&(Di(e),e.g.cancel(),e.g=null)}function Ti(e){ki(e),e.u&&(st.clearTimeout(e.u),e.u=null),Li(e),e.i.cancel(),e.m&&("number"===typeof e.m&&st.clearTimeout(e.m),e.m=null)}function xi(e){if(!Kr(e.i)&&!e.m){e.m=!0;var t=e.Na;Sn||kn(),En||(Sn(),En=!0),In.add(t,e),e.C=0}}function Ci(e,t){var n;n=t?t.m:e.W++;const r=Sr(e.I);Tr(r,"SID",e.K),Tr(r,"RID",n),Tr(r,"AID",e.V),Ai(e,r),e.o&&e.s&&_i(r,e.o,e.s),n=new rr(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ri(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Qr(e.i,n),lr(n,r,t)}function Ai(e,t){e.na&&Gt(e.na,(function(e,n){Tr(t,n,e)})),e.h&&br({},(function(e,n){Tr(t,n,e)}))}function Ri(e,t,n){n=Math.min(e.j.length,n);var r=e.h?pt(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{ei(s,e,"req"+n+"_")}catch(Wa){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Pi(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Sn||kn(),En||(Sn(),En=!0),In.add(t,e),e.A=0}}function Ni(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Hn(pt(e.Ma,e),Fi(e,e.A)),e.A++,!0)}function Di(e){null!=e.B&&(st.clearTimeout(e.B),e.B=null)}function Oi(e){e.g=new rr(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Sr(e.wa);Tr(t,"RID","rpc"),Tr(t,"SID",e.K),Tr(t,"AID",e.V),Tr(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Tr(t,"TO",e.qa),Tr(t,"TYPE","xmlhttp"),Ai(e,t),e.o&&e.s&&_i(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=xr(Sr(t)),n.u=null,n.S=!0,cr(n,e)}function Li(e){null!=e.v&&(st.clearTimeout(e.v),e.v=null)}function Mi(e,t){var n=null;if(e.g==t){Li(e),Di(e),e.g=null;var r=2}else{if(!Gr(e.i,t))return;n=t.F,$r(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;pn(r=zn(),new Kn(r,n)),xi(e)}else Pi(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Hr(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Hn(pt(e.Na,e,t),Fi(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ni(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ji(e,5);break;case 4:ji(e,10);break;case 3:ji(e,6);break;default:ji(e,2)}}function Fi(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ji(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=pt(e.pb,e);n||(n=new _r("//www.google.com/images/cleardot.gif"),st.location&&"http"==st.location.protocol||Er(n,"https"),xr(n)),function(e,t){const n=new Mn;if(st.Image){const r=new Image;r.onload=mt(ti,n,r,"TestLoadImage: loaded",!0,t),r.onerror=mt(ti,n,r,"TestLoadImage: error",!1,t),r.onabort=mt(ti,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=mt(ti,n,r,"TestLoadImage: timeout",!1,t),st.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Wn(2);e.H=0,e.h&&e.h.za(t),Ui(e),Ti(e)}function Ui(e){if(e.H=0,e.ma=[],e.h){const t=Yr(e.i);0==t.length&&0==e.j.length||(wt(e.ma,t),wt(e.ma,e.j),e.i.i.length=0,bt(e.j),e.j.length=0),e.h.ya()}}function zi(e,t,n){var r=n instanceof _r?Sr(n):new _r(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Ir(r,r.m);else{var i=st.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new _r(null);r&&Er(o,r),t&&(o.g=t),i&&Ir(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Tr(r,n,t),Tr(r,"VER",e.ra),Ai(e,r),r}function Vi(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new ci(new ni({ob:n})):new ci(e.va)).Oa(e.J),t}function Bi(){}function qi(){if(Rt&&!(10<=Number(zt)))throw Error("Environmental error: no available transport.")}function Wi(e,t){fn.call(this),this.g=new Ei(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Et(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Et(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Gi(this)}function Ki(e){er.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Hi(){tr.call(this),this.status=1}function Gi(e){this.g=e}function Qi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function $i(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Yi(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(rt=ci.prototype).Oa=function(e){this.M=e},rt.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jn.g(),this.C=this.u?Yn(this.u):Yn(Jn),this.g.onreadystatechange=pt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void fi(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=st.FormData&&e instanceof st.FormData,!(0<=yt(hi,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{vi(this),0<this.B&&((this.L=function(e){return Rt&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.ua,this)):this.A=An(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){fi(this,o)}},rt.ua=function(){"undefined"!=typeof at&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pn(this,"timeout"),this.abort(8))},rt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,pn(this,"complete"),pn(this,"abort"),gi(this))},rt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gi(this,!0)),ci.$.N.call(this)},rt.La=function(){this.s||(this.G||this.v||this.l?mi(this):this.kb())},rt.kb=function(){mi(this)},rt.isActive=function(){return!!this.g},rt.da=function(){try{return 2<yi(this)?this.g.status:-1}catch(Xr){return-1}},rt.ja=function(){try{return this.g?this.g.responseText:""}catch(Xr){return""}},rt.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),li(t)}},rt.Ia=function(){return this.m},rt.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(rt=Ei.prototype).ra=8,rt.H=1,rt.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new rr(this,this.l,e);let o=this.s;if(this.U&&(o?(o=Qt(o),Yt(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ri(this,i,t),Tr(n=Sr(this.I),"RID",e),Tr(n,"CVER",22),this.F&&Tr(n,"X-HTTP-Session-Id",this.F),Ai(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(wi(o)))+"&"+t:this.o&&_i(n,this.o,o)),Qr(this.i,i),this.bb&&Tr(n,"TYPE","init"),this.P?(Tr(n,"$req",t),Tr(n,"SID","null"),i.aa=!0,lr(i,n,null)):lr(i,n,t),this.H=2}}else 3==this.H&&(e?Ci(this,e):0==this.j.length||Kr(this.i)||Ci(this))},rt.Ma=function(){if(this.u=null,Oi(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Hn(pt(this.jb,this),e)}},rt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wn(10),ki(this),Oi(this))},rt.ib=function(){null!=this.v&&(this.v=null,ki(this),Ni(this),Wn(19))},rt.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Wn(2)):(this.l.info("Failed to ping google.com"),Wn(1))},rt.isActive=function(){return!!this.h&&this.h.isActive(this)},(rt=Bi.prototype).Ba=function(){},rt.Aa=function(){},rt.za=function(){},rt.ya=function(){},rt.isActive=function(){return!0},rt.Va=function(){},qi.prototype.g=function(e,t){return new Wi(e,t)},gt(Wi,fn),Wi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Wn(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=zi(e,null,e.Y),xi(e)},Wi.prototype.close=function(){Ii(this.g)},Wi.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=gn(e),e=n);t.j.push(new Br(t.fb++,e)),3==t.H&&xi(t)},Wi.prototype.N=function(){this.g.h=null,delete this.j,Ii(this.g),delete this.g,Wi.$.N.call(this)},gt(Ki,er),gt(Hi,tr),gt(Gi,Bi),Gi.prototype.Ba=function(){pn(this.g,"a")},Gi.prototype.Aa=function(e){pn(this.g,new Ki(e))},Gi.prototype.za=function(e){pn(this.g,new Hi)},Gi.prototype.ya=function(){pn(this.g,"b")},gt(Qi,(function(){this.blockSize=-1})),Qi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qi.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)$i(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){$i(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){$i(this,r),i=0;break}}this.h=i,this.i+=t},Qi.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Xi={};function Ji(e){return-128<=e&&128>e?function(e,t){var n=Xi;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Yi([0|e],0>e?-1:0)})):new Yi([0|e],0>e?-1:0)}function Zi(e){if(isNaN(e)||!isFinite(e))return to;if(0>e)return ao(Zi(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=eo;return new Yi(t,0)}var eo=4294967296,to=Ji(0),no=Ji(1),ro=Ji(16777216);function io(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function oo(e){return-1==e.h}function ao(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Yi(n,~e.h).add(no)}function so(e,t){return e.add(ao(t))}function lo(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function co(e,t){this.g=e,this.h=t}function uo(e,t){if(io(t))throw Error("division by zero");if(io(e))return new co(to,to);if(oo(e))return t=uo(ao(e),t),new co(ao(t.g),ao(t.h));if(oo(t))return t=uo(e,ao(t)),new co(ao(t.g),t.h);if(30<e.g.length){if(oo(e)||oo(t))throw Error("slowDivide_ only works with positive integers.");for(var n=no,r=t;0>=r.X(e);)n=ho(n),r=ho(r);var i=fo(n,1),o=fo(r,1);for(r=fo(r,2),n=fo(n,2);!io(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=fo(r,1),n=fo(n,1)}return t=so(e,i.R(t)),new co(i,t)}for(i=to;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=Zi(n)).R(t);oo(a)||0<a.X(e);)a=(o=Zi(n-=r)).R(t);io(o)&&(o=no),i=i.add(o),e=so(e,a)}return new co(i,e)}function ho(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Yi(n,e.h)}function fo(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Yi(i,e.h)}(rt=Yi.prototype).ea=function(){if(oo(this))return-ao(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:eo+r)*t,t*=eo}return e},rt.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(io(this))return"0";if(oo(this))return"-"+ao(this).toString(e);for(var t=Zi(Math.pow(e,6)),n=this,r="";;){var i=uo(n,t).g,o=((0<(n=so(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(io(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},rt.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},rt.X=function(e){return oo(e=so(this,e))?-1:io(e)?0:1},rt.abs=function(){return oo(this)?ao(this):this},rt.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new Yi(n,-2147483648&n[n.length-1]?-1:0)},rt.R=function(e){if(io(this)||io(e))return to;if(oo(this))return oo(e)?ao(this).R(ao(e)):ao(ao(this).R(e));if(oo(e))return ao(this.R(ao(e)));if(0>this.X(ro)&&0>e.X(ro))return Zi(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,lo(n,2*r+2*i),n[2*r+2*i+1]+=o*l,lo(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,lo(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,lo(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Yi(n,0)},rt.gb=function(e){return uo(this,e).h},rt.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Yi(n,this.h&e.h)},rt.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Yi(n,this.h|e.h)},rt.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Yi(n,this.h^e.h)},qi.prototype.createWebChannel=qi.prototype.g,Wi.prototype.send=Wi.prototype.u,Wi.prototype.open=Wi.prototype.m,Wi.prototype.close=Wi.prototype.close,Gn.NO_ERROR=0,Gn.TIMEOUT=8,Gn.HTTP_ERROR=6,Qn.COMPLETE="complete",Xn.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",fn.prototype.listen=fn.prototype.O,ci.prototype.listenOnce=ci.prototype.P,ci.prototype.getLastError=ci.prototype.Sa,ci.prototype.getLastErrorCode=ci.prototype.Ia,ci.prototype.getStatus=ci.prototype.da,ci.prototype.getResponseJson=ci.prototype.Wa,ci.prototype.getResponseText=ci.prototype.ja,ci.prototype.send=ci.prototype.ha,ci.prototype.setWithCredentials=ci.prototype.Oa,Qi.prototype.digest=Qi.prototype.l,Qi.prototype.reset=Qi.prototype.reset,Qi.prototype.update=Qi.prototype.j,Yi.prototype.add=Yi.prototype.add,Yi.prototype.multiply=Yi.prototype.R,Yi.prototype.modulo=Yi.prototype.gb,Yi.prototype.compare=Yi.prototype.X,Yi.prototype.toNumber=Yi.prototype.ea,Yi.prototype.toString=Yi.prototype.toString,Yi.prototype.getBits=Yi.prototype.D,Yi.fromNumber=Zi,Yi.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ao(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Zi(Math.pow(n,8)),i=to,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=Zi(Math.pow(n,a)),i=i.R(a).add(Zi(s))):i=(i=i.R(r)).add(Zi(s))}return i};var po=ot.createWebChannelTransport=function(){return new qi},mo=ot.getStatEventTarget=function(){return zn()},go=ot.ErrorCode=Gn,vo=ot.EventType=Qn,yo=ot.Event=jn,bo=ot.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wo=(ot.FetchXmlHttpFactory=ni,ot.WebChannel=Xn),_o=ot.XhrIo=ci,So=ot.Md5=Qi,Eo=ot.Integer=Yi;const Io="@firebase/firestore";class ko{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ko.UNAUTHENTICATED=new ko(null),ko.GOOGLE_CREDENTIALS=new ko("google-credentials-uid"),ko.FIRST_PARTY=new ko("first-party-uid"),ko.MOCK_USER=new ko("mock-user");let To="10.7.0";const xo=new J("@firebase/firestore");function Co(){return xo.logLevel}function Ao(e){if(xo.logLevel<=G.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(No);xo.debug("Firestore (".concat(To,"): ").concat(e),...i)}}function Ro(e){if(xo.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(No);xo.error("Firestore (".concat(To,"): ").concat(e),...i)}}function Po(e){if(xo.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(No);xo.warn("Firestore (".concat(To,"): ").concat(e),...i)}}function No(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Do(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(To,") INTERNAL ASSERTION FAILED: ")+e;throw Ro(t),new Error(t)}function Oo(e,t){e||Do()}function Lo(e,t){return e}const Mo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fo extends E{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class jo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Uo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class zo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ko.UNAUTHENTICATED)))}shutdown(){}}class Vo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Bo{constructor(e){this.t=e,this.currentUser=ko.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new jo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new jo,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Ao("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Ao("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new jo)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ao("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Oo("string"==typeof t.accessToken),new Uo(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Oo(null===e||"string"==typeof e),new ko(e)}}class qo{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ko.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Wo{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new qo(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ko.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ko{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ho{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Ao("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Ao("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ao("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ao("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Oo("string"==typeof e.token),this.R=e.token,new Ko(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Go(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Qo{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Go(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function $o(e,t){return e<t?-1:e>t?1:0}function Yo(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Xo(e){return e+"\0"}class Jo{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fo(Mo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fo(Mo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fo(Mo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fo(Mo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jo.fromMillis(Date.now())}static fromDate(e){return Jo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Jo(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$o(this.nanoseconds,e.nanoseconds):$o(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zo{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zo(e)}static min(){return new Zo(new Jo(0,0))}static max(){return new Zo(new Jo(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ea{constructor(e,t,n){void 0===t?t=0:t>e.length&&Do(),void 0===n?n=e.length-t:n>e.length-t&&Do(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ea.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ta extends ea{construct(e,t,n){return new ta(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Fo(Mo.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new ta(e)}static emptyPath(){return new ta([])}}const na=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ra extends ea{construct(e,t,n){return new ra(e,t,n)}static isValidIdentifier(e){return na.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ra.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ra(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Fo(Mo.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Fo(Mo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Fo(Mo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Fo(Mo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ra(t)}static emptyPath(){return new ra([])}}class ia{constructor(e){this.path=e}static fromPath(e){return new ia(ta.fromString(e))}static fromName(e){return new ia(ta.fromString(e).popFirst(5))}static empty(){return new ia(ta.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ta.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ta.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ia(new ta(e.slice()))}}class oa{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function aa(e){return e.fields.find((e=>2===e.kind))}function sa(e){return e.fields.filter((e=>2!==e.kind))}oa.UNKNOWN_ID=-1;class la{constructor(e,t){this.fieldPath=e,this.kind=t}}class ca{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ca(0,ha.min())}}function ua(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Zo.fromTimestamp(1e9===r?new Jo(n+1,0):new Jo(n,r));return new ha(i,ia.empty(),t)}function da(e){return new ha(e.readTime,e.key,-1)}class ha{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ha(Zo.min(),ia.empty(),-1)}static max(){return new ha(Zo.max(),ia.empty(),-1)}}function fa(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ia.comparator(e.documentKey,t.documentKey),0!==n?n:$o(e.largestBatchId,t.largestBatchId))}const pa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ma{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ga(e){if(e.code!==Mo.FAILED_PRECONDITION||e.message!==pa)throw e;Ao("LocalStore","Unexpectedly lost primary lease")}class va{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Do(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new va(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof va?t:va.resolve(t)}catch(e){return va.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):va.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):va.reject(t)}static resolve(e){return new va(((t,n)=>{t(e)}))}static reject(e){return new va(((t,n)=>{n(e)}))}static waitFor(e){return new va(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=va.resolve(!1);for(const n of e)t=t.next((e=>e?va.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new va(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new va(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class ya{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new jo,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new _a(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Ta(t.target.error);this.V.reject(new _a(e,n))}}static open(e,t,n,r){try{return new ya(t,e.transaction(r,n))}catch(e){throw new _a(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ao("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ea(t)}}class ba{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===ba.S(m())&&Ro("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ao("SimpleDb","Removing database:",e),Ia(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!w())return!1;if(ba.C())return!0;const e=m(),t=ba.S(e),n=0<t&&t<10,r=ba.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBQ7DwkcP7WXWg54DuahrA9cYAUhidewD4",REACT_APP_FIREBASE_APP_ID:"1:267097892790:web:a1f659386044f338200317",REACT_APP_FIREBASE_AUTH_DOMAIN:"we-are-the-walrus.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://we-are-the-walrus.firebaseio.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-67YXPTTKRG",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"267097892790",REACT_APP_FIREBASE_PROJECT_ID:"we-are-the-walrus",REACT_APP_FIREBASE_STORAGE_BUCKET:"we-are-the-walrus.appspot.com",REACT_APP_PUBLIC_URL:"/"})||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Ao("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new _a(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Fo(Mo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Fo(Mo.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new _a(e,r))},r.onupgradeneeded=e=>{Ao("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Ao("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=ya.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),va.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Ao("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class wa{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ia(this.k.delete())}}class _a extends Fo{constructor(e,t){super(Mo.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Sa(e){return"IndexedDbTransactionError"===e.name}class Ea{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Ao("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ao("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ia(n)}add(e){return Ao("SimpleDb","ADD",this.store.name,e,e),Ia(this.store.add(e))}get(e){return Ia(this.store.get(e)).next((t=>(void 0===t&&(t=null),Ao("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Ao("SimpleDb","DELETE",this.store.name,e),Ia(this.store.delete(e))}count(){return Ao("SimpleDb","COUNT",this.store.name),Ia(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new va(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new va(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Ao("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new va(((n,r)=>{t.onerror=e=>{const t=Ta(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new va(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new wa(i),a=t(i.primaryKey,i.value,o);if(a instanceof va){const e=a.catch((e=>(o.done(),va.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>va.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ia(e){return new va(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ta(e.target.error);n(t)}}))}let ka=!1;function Ta(e){const t=ba.S(m());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Fo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ka||(ka=!0,setTimeout((()=>{throw e}),0)),e}}return e}class xa{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Ao("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Ao("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(e){Sa(e)?Ao("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await ga(e)}await this.ee(6e4)}))}}class Ca{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return va.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Ao("IndexBackiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Ao("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=da(t);fa(r,n)>0&&(n=r)})),new ha(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Aa{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Ra(e){return null==e}function Pa(e){return 0===e&&1/e==-1/0}function Na(e){return"number"==typeof e&&Number.isInteger(e)&&!Pa(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Da(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=La(t)),t=Oa(e.get(n),t);return La(t)}function Oa(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function La(e){return e+"\x01\x01"}function Ma(e){const t=e.length;if(Oo(t>=2),2===t)return Oo("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ta.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&Do(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Do()}o=t+2}return new ta(r)}Aa._e=-1;const Fa=["userId","batchId"];function ja(e,t){return[e,Da(t)]}function Ua(e,t,n){return[e,Da(t),n]}const za={},Va=["prefixPath","collectionGroup","readTime","documentId"],Ba=["prefixPath","collectionGroup","documentId"],qa=["collectionGroup","readTime","prefixPath","documentId"],Wa=["canonicalId","targetId"],Ka=["targetId","path"],Ha=["path","targetId"],Ga=["collectionId","parent"],Qa=["indexId","uid"],$a=["uid","sequenceNumber"],Ya=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Xa=["indexId","uid","orderedDocumentKey"],Ja=["userId","collectionPath","documentId"],Za=["userId","collectionPath","largestBatchId"],es=["userId","collectionGroup","largestBatchId"],ts=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ns=[...ts,"documentOverlays"],rs=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],is=rs,os=[...is,"indexConfiguration","indexState","indexEntries"];class as extends ma{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function ss(e,t){const n=Lo(e);return ba.M(n.ae,t)}function ls(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function cs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function us(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ds{constructor(e,t){this.comparator=e,this.root=t||fs.EMPTY}insert(e,t){return new ds(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fs.BLACK,null,null))}remove(e){return new ds(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hs(this.root,e,this.comparator,!1)}getReverseIterator(){return new hs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hs(this.root,e,this.comparator,!0)}}class hs{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fs{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:fs.RED,this.left=null!=r?r:fs.EMPTY,this.right=null!=i?i:fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new fs(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return fs.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Do();if(this.right.isRed())throw Do();const e=this.left.check();if(e!==this.right.check())throw Do();return e+(this.isRed()?0:1)}}fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1,fs.EMPTY=new class{constructor(){this.size=0}get key(){throw Do()}get value(){throw Do()}get color(){throw Do()}get left(){throw Do()}get right(){throw Do()}copy(e,t,n,r,i){return this}insert(e,t,n){return new fs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ps{constructor(e){this.comparator=e,this.data=new ds(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ms(this.data.getIterator())}getIteratorFrom(e){return new ms(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ps))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ps(this.comparator);return t.data=e,t}}class ms{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gs(e){return e.hasNext()?e.getNext():void 0}class vs{constructor(e){this.fields=e,e.sort(ra.comparator)}static empty(){return new vs([])}unionWith(e){let t=new ps(ra.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new vs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ys extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ys("Invalid base64 string: "+e):e}}(e);return new bs(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new bs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $o(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bs.EMPTY_BYTE_STRING=new bs("");const ws=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(e){if(Oo(!!e),"string"==typeof e){let t=0;const n=ws.exec(e);if(Oo(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ss(e.seconds),nanos:Ss(e.nanos)}}function Ss(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Es(e){return"string"==typeof e?bs.fromBase64String(e):bs.fromUint8Array(e)}function Is(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ks(e){const t=e.mapValue.fields.__previous_value__;return Is(t)?ks(t):t}function Ts(e){const t=_s(e.mapValue.fields.__local_write_time__.timestampValue);return new Jo(t.seconds,t.nanos)}class xs{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class Cs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Cs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Cs&&e.projectId===this.projectId&&e.database===this.database}}const As={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Rs={nullValue:"NULL_VALUE"};function Ps(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Is(e)?4:Ks(e)?9007199254740991:10:Do()}function Ns(e,t){if(e===t)return!0;const n=Ps(e);if(n!==Ps(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ts(e).isEqual(Ts(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=_s(e.timestampValue),r=_s(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Es(e.bytesValue).isEqual(Es(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ss(e.geoPointValue.latitude)===Ss(t.geoPointValue.latitude)&&Ss(e.geoPointValue.longitude)===Ss(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ss(e.integerValue)===Ss(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ss(e.doubleValue),r=Ss(t.doubleValue);return n===r?Pa(n)===Pa(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Yo(e.arrayValue.values||[],t.arrayValue.values||[],Ns);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ls(n)!==ls(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ns(n[i],r[i])))return!1;return!0}(e,t);default:return Do()}}function Ds(e,t){return void 0!==(e.values||[]).find((e=>Ns(e,t)))}function Os(e,t){if(e===t)return 0;const n=Ps(e),r=Ps(t);if(n!==r)return $o(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $o(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ss(e.integerValue||e.doubleValue),r=Ss(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ls(e.timestampValue,t.timestampValue);case 4:return Ls(Ts(e),Ts(t));case 5:return $o(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Es(e),r=Es(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=$o(n[i],r[i]);if(0!==e)return e}return $o(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=$o(Ss(e.latitude),Ss(t.latitude));return 0!==n?n:$o(Ss(e.longitude),Ss(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Os(n[i],r[i]);if(e)return e}return $o(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===As.mapValue&&t===As.mapValue)return 0;if(e===As.mapValue)return 1;if(t===As.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=$o(r[a],o[a]);if(0!==e)return e;const t=Os(n[r[a]],i[o[a]]);if(0!==t)return t}return $o(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Do()}}function Ls(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return $o(e,t);const n=_s(e),r=_s(t),i=$o(n.seconds,r.seconds);return 0!==i?i:$o(n.nanos,r.nanos)}function Ms(e){return Fs(e)}function Fs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=_s(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Es(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ia.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Fs(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Fs(e.fields[i]));return n+"}"}(e.mapValue):Do()}function js(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Us(e){return!!e&&"integerValue"in e}function zs(e){return!!e&&"arrayValue"in e}function Vs(e){return!!e&&"nullValue"in e}function Bs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qs(e){return!!e&&"mapValue"in e}function Ws(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return cs(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ws(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ws(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ks(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Hs(e){return"nullValue"in e?Rs:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?js(Cs.empty(),ia.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Do()}function Gs(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?js(Cs.empty(),ia.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?As:Do()}function Qs(e,t){const n=Os(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function $s(e,t){const n=Os(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Ys{constructor(e){this.value=e}static empty(){return new Ys({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!qs(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ws(t)}setAll(e){let t=ra.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ws(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());qs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];qs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){cs(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ys(Ws(this.value))}}function Xs(e){const t=[];return cs(e.fields,((e,n)=>{const r=new ra([e]);if(qs(n)){const e=Xs(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new vs(t)}class Js{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Js(e,0,Zo.min(),Zo.min(),Zo.min(),Ys.empty(),0)}static newFoundDocument(e,t,n,r){return new Js(e,1,t,Zo.min(),n,r,0)}static newNoDocument(e,t){return new Js(e,2,t,Zo.min(),Zo.min(),Ys.empty(),0)}static newUnknownDocument(e,t){return new Js(e,3,t,Zo.min(),Zo.min(),Ys.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Zo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ys.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zo.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Js&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Js(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Zs{constructor(e,t){this.position=e,this.inclusive=t}}function el(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ia.comparator(ia.fromName(a.referenceValue),n.key):Os(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function tl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ns(e.position[n],t.position[n]))return!1;return!0}class nl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function rl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class il{}class ol extends il{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ml(e,t,n):"array-contains"===t?new bl(e,n):"in"===t?new wl(e,n):"not-in"===t?new _l(e,n):"array-contains-any"===t?new Sl(e,n):new ol(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new gl(e,n):new vl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Os(t,this.value)):null!==t&&Ps(this.value)===Ps(t)&&this.matchesComparison(Os(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Do()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class al extends il{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new al(e,t)}matches(e){return sl(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function sl(e){return"and"===e.op}function ll(e){return"or"===e.op}function cl(e){return ul(e)&&sl(e)}function ul(e){for(const t of e.filters)if(t instanceof al)return!1;return!0}function dl(e){if(e instanceof ol)return e.field.canonicalString()+e.op.toString()+Ms(e.value);if(cl(e))return e.filters.map((e=>dl(e))).join(",");{const t=e.filters.map((e=>dl(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function hl(e,t){return e instanceof ol?function(e,t){return t instanceof ol&&e.op===t.op&&e.field.isEqual(t.field)&&Ns(e.value,t.value)}(e,t):e instanceof al?function(e,t){return t instanceof al&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&hl(n,t.filters[r])),!0)}(e,t):void Do()}function fl(e,t){const n=e.filters.concat(t);return al.create(n,e.op)}function pl(e){return e instanceof ol?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ms(e.value))}(e):e instanceof al?function(e){return e.op.toString()+" {"+e.getFilters().map(pl).join(" ,")+"}"}(e):"Filter"}class ml extends ol{constructor(e,t,n){super(e,t,n),this.key=ia.fromName(n.referenceValue)}matches(e){const t=ia.comparator(e.key,this.key);return this.matchesComparison(t)}}class gl extends ol{constructor(e,t){super(e,"in",t),this.keys=yl("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class vl extends ol{constructor(e,t){super(e,"not-in",t),this.keys=yl("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function yl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ia.fromName(e.referenceValue)))}class bl extends ol{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zs(t)&&Ds(t.arrayValue,this.value)}}class wl extends ol{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ds(this.value.arrayValue,t)}}class _l extends ol{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ds(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ds(this.value.arrayValue,t)}}class Sl extends ol{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zs(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ds(this.value.arrayValue,e)))}}class El{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function Il(e){return new El(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function kl(e){const t=Lo(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>dl(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ra(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ms(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ms(e))).join(",")),t.ce=e}return t.ce}function Tl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!rl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!hl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tl(e.startAt,t.startAt)&&tl(e.endAt,t.endAt)}function xl(e){return ia.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Cl(e,t){return e.filters.filter((e=>e instanceof ol&&e.field.isEqual(t)))}function Al(e,t,n){let r=Rs,i=!0;for(const o of Cl(e,t)){let e=Rs,t=!0;switch(o.op){case"<":case"<=":e=Hs(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Rs}Qs({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Qs({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Rl(e,t,n){let r=As,i=!0;for(const o of Cl(e,t)){let e=As,t=!0;switch(o.op){case">=":case">":e=Gs(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=As}$s({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];$s({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Pl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Nl(e,t,n,r,i,o,a,s){return new Pl(e,t,n,r,i,o,a,s)}function Dl(e){return new Pl(e)}function Ol(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ll(e){return null!==e.collectionGroup}function Ml(e){const t=Lo(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ps(ra.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new nl(r,n))})),e.has(ra.keyField().canonicalString())||t.le.push(new nl(ra.keyField(),n))}return t.le}function Fl(e){const t=Lo(e);return t.he||(t.he=jl(t,Ml(e))),t.he}function jl(e,t){if("F"===e.limitType)return Il(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new nl(e.field,t)}));const n=e.endAt?new Zs(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Zs(e.startAt.position,e.startAt.inclusive):null;return Il(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ul(e,t){const n=e.filters.concat([t]);return new Pl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function zl(e,t,n){return new Pl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vl(e,t){return Tl(Fl(e),Fl(t))&&e.limitType===t.limitType}function Bl(e){return"".concat(kl(Fl(e)),"|lt:").concat(e.limitType)}function ql(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>pl(e))).join(", "),"]")),Ra(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ms(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ms(e))).join(",")),"Target(".concat(t,")")}(Fl(e)),"; limitType=").concat(e.limitType,")")}function Wl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ia.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ml(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=el(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ml(e),t))&&!(e.endAt&&!function(e,t,n){const r=el(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ml(e),t))}(e,t)}function Kl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Hl(e){return(t,n)=>{let r=!1;for(const i of Ml(e)){const e=Gl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Gl(e,t,n){const r=e.field.isKeyField()?ia.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Os(r,i):Do()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Do()}}class Ql{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return us(this.inner)}size(){return this.innerSize}}const $l=new ds(ia.comparator);function Yl(){return $l}const Xl=new ds(ia.comparator);function Jl(){let e=Xl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Zl(e){let t=Xl;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ec(){return nc()}function tc(){return nc()}function nc(){return new Ql((e=>e.toString()),((e,t)=>e.isEqual(t)))}const rc=new ds(ia.comparator),ic=new ps(ia.comparator);function oc(){let e=ic;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ac=new ps($o);function sc(){return ac}function lc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pa(t)?"-0":t}}function cc(e){return{integerValue:""+e}}function uc(e,t){return Na(t)?cc(t):lc(e,t)}class dc{constructor(){this._=void 0}}function hc(e,t,n){return e instanceof mc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Is(t)&&(t=ks(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof gc?vc(e,t):e instanceof yc?bc(e,t):function(e,t){const n=pc(e,t),r=_c(n)+_c(e.Ie);return Us(n)&&Us(e.Ie)?cc(r):lc(e.serializer,r)}(e,t)}function fc(e,t,n){return e instanceof gc?vc(e,t):e instanceof yc?bc(e,t):n}function pc(e,t){return e instanceof wc?function(e){return Us(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class mc extends dc{}class gc extends dc{constructor(e){super(),this.elements=e}}function vc(e,t){const n=Sc(t);for(const r of e.elements)n.some((e=>Ns(e,r)))||n.push(r);return{arrayValue:{values:n}}}class yc extends dc{constructor(e){super(),this.elements=e}}function bc(e,t){let n=Sc(t);for(const r of e.elements)n=n.filter((e=>!Ns(e,r)));return{arrayValue:{values:n}}}class wc extends dc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function _c(e){return Ss(e.integerValue||e.doubleValue)}function Sc(e){return zs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ec{constructor(e,t){this.field=e,this.transform=t}}class Ic{constructor(e,t){this.version=e,this.transformResults=t}}class kc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kc}static exists(e){return new kc(void 0,e)}static updateTime(e){return new kc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xc{}function Cc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new jc(e.key,kc.none()):new Dc(e.key,e.data,kc.none());{const n=e.data,r=Ys.empty();let i=new ps(ra.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Oc(e.key,r,new vs(i.toArray()),kc.none())}}function Ac(e,t,n){e instanceof Dc?function(e,t,n){const r=e.value.clone(),i=Mc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Oc?function(e,t,n){if(!Tc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Mc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Lc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Rc(e,t,n,r){return e instanceof Dc?function(e,t,n,r){if(!Tc(e.precondition,t))return n;const i=e.value.clone(),o=Fc(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Oc?function(e,t,n,r){if(!Tc(e.precondition,t))return n;const i=Fc(e.fieldTransforms,r,t),o=t.data;return o.setAll(Lc(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Tc(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Pc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=pc(r.transform,e||null);null!=i&&(null===n&&(n=Ys.empty()),n.set(r.field,i))}return n||null}function Nc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Yo(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof gc&&t instanceof gc||e instanceof yc&&t instanceof yc?Yo(e.elements,t.elements,Ns):e instanceof wc&&t instanceof wc?Ns(e.Ie,t.Ie):e instanceof mc&&t instanceof mc}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Dc extends xc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Oc extends xc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Lc(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Mc(e,t,n){const r=new Map;Oo(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,fc(a,s,n[i]))}return r}function Fc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,hc(e,o,t))}return r}class jc extends xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uc extends xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ac(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Rc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Rc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=tc();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=Cc(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Zo.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),oc())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((e,t)=>Nc(e,t)))&&Yo(this.baseMutations,e.baseMutations,((e,t)=>Nc(e,t)))}}class Vc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Oo(e.mutations.length===n.length);let r=rc;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Vc(e,t,n,r)}}class Bc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class qc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Wc,Kc;function Hc(e){switch(e){default:return Do();case Mo.CANCELLED:case Mo.UNKNOWN:case Mo.DEADLINE_EXCEEDED:case Mo.RESOURCE_EXHAUSTED:case Mo.INTERNAL:case Mo.UNAVAILABLE:case Mo.UNAUTHENTICATED:return!1;case Mo.INVALID_ARGUMENT:case Mo.NOT_FOUND:case Mo.ALREADY_EXISTS:case Mo.PERMISSION_DENIED:case Mo.FAILED_PRECONDITION:case Mo.ABORTED:case Mo.OUT_OF_RANGE:case Mo.UNIMPLEMENTED:case Mo.DATA_LOSS:return!0}}function Gc(e){if(void 0===e)return Ro("GRPC error has no .code"),Mo.UNKNOWN;switch(e){case Wc.OK:return Mo.OK;case Wc.CANCELLED:return Mo.CANCELLED;case Wc.UNKNOWN:return Mo.UNKNOWN;case Wc.DEADLINE_EXCEEDED:return Mo.DEADLINE_EXCEEDED;case Wc.RESOURCE_EXHAUSTED:return Mo.RESOURCE_EXHAUSTED;case Wc.INTERNAL:return Mo.INTERNAL;case Wc.UNAVAILABLE:return Mo.UNAVAILABLE;case Wc.UNAUTHENTICATED:return Mo.UNAUTHENTICATED;case Wc.INVALID_ARGUMENT:return Mo.INVALID_ARGUMENT;case Wc.NOT_FOUND:return Mo.NOT_FOUND;case Wc.ALREADY_EXISTS:return Mo.ALREADY_EXISTS;case Wc.PERMISSION_DENIED:return Mo.PERMISSION_DENIED;case Wc.FAILED_PRECONDITION:return Mo.FAILED_PRECONDITION;case Wc.ABORTED:return Mo.ABORTED;case Wc.OUT_OF_RANGE:return Mo.OUT_OF_RANGE;case Wc.UNIMPLEMENTED:return Mo.UNIMPLEMENTED;case Wc.DATA_LOSS:return Mo.DATA_LOSS;default:return Do()}}(Kc=Wc||(Wc={}))[Kc.OK=0]="OK",Kc[Kc.CANCELLED=1]="CANCELLED",Kc[Kc.UNKNOWN=2]="UNKNOWN",Kc[Kc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kc[Kc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kc[Kc.NOT_FOUND=5]="NOT_FOUND",Kc[Kc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kc[Kc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kc[Kc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kc[Kc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kc[Kc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kc[Kc.ABORTED=10]="ABORTED",Kc[Kc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kc[Kc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kc[Kc.INTERNAL=13]="INTERNAL",Kc[Kc.UNAVAILABLE=14]="UNAVAILABLE",Kc[Kc.DATA_LOSS=15]="DATA_LOSS";let Qc=null;function $c(){return new TextEncoder}const Yc=new Eo([4294967295,4294967295],0);function Xc(e){const t=$c().encode(e),n=new So;return n.update(t),new Uint8Array(n.digest())}function Jc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Eo([n,r],0),new Eo([i,o],0)]}class Zc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new eu("Invalid padding: ".concat(t));if(n<0)throw new eu("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new eu("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new eu("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Eo.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Eo.fromNumber(n)));return 1===r.compare(Yc)&&(r=new Eo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Xc(e),[n,r]=Jc(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Zc(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=Xc(e),[n,r]=Jc(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new tu(Zo.min(),r,new ds($o),Yl(),oc())}}class nu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new nu(n,t,oc(),oc(),oc())}}class ru{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class iu{constructor(e,t){this.targetId=e,this.fe=t}}class ou{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bs.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class au{constructor(){this.ge=0,this.pe=cu(),this.ye=bs.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=oc(),t=oc(),n=oc();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Do()}})),new nu(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=cu()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Oo(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class su{constructor(e){this.Le=e,this.ke=new Map,this.qe=Yl(),this.Qe=lu(),this.Ke=new ds($o)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Do()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(xl(i))if(0===n){const e=new ia(i.path);this.We(t,e,Js.newNoDocument(e,Zo.min()))}else Oo(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Qc||Qc.tt(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=Es(n).toUint8Array()}catch(e){if(e instanceof ys)return Po("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Zc(o,r,i)}catch(e){return Po(e instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&xl(i.target)){const t=new ia(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Js.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=oc();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new tu(e,t,this.Ke,this.qe,n);return this.qe=Yl(),this.Qe=lu(),this.Ke=new ds($o),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new au,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new ps($o),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Ao("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new au),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function lu(){return new ds(ia.comparator)}function cu(){return new ds(ia.comparator)}const uu={asc:"ASCENDING",desc:"DESCENDING"},du={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hu={and:"AND",or:"OR"};class fu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pu(e,t){return e.useProto3Json||Ra(t)?t:{value:t}}function mu(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function gu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vu(e,t){return mu(e,t.toTimestamp())}function yu(e){return Oo(!!e),Zo.fromTimestamp(function(e){const t=_s(e);return new Jo(t.seconds,t.nanos)}(e))}function bu(e,t){return function(e){return new ta(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function wu(e){const t=ta.fromString(e);return Oo(Bu(t)),t}function _u(e,t){return bu(e.databaseId,t.path)}function Su(e,t){const n=wu(t);if(n.get(1)!==e.databaseId.projectId)throw new Fo(Mo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fo(Mo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ia(Tu(n))}function Eu(e,t){return bu(e.databaseId,t)}function Iu(e){const t=wu(e);return 4===t.length?ta.emptyPath():Tu(t)}function ku(e){return new ta(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Tu(e){return Oo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function xu(e,t,n){return{name:_u(e,t),fields:n.value.mapValue.fields}}function Cu(e,t,n){const r=Su(e,t.name),i=yu(t.updateTime),o=t.createTime?yu(t.createTime):Zo.min(),a=new Ys({mapValue:{fields:t.fields}}),s=Js.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Au(e,t){let n;if(t instanceof Dc)n={update:xu(e,t.key,t.value)};else if(t instanceof jc)n={delete:_u(e,t.key)};else if(t instanceof Oc)n={update:xu(e,t.key,t.data),updateMask:Vu(t.fieldMask)};else{if(!(t instanceof Uc))return Do();n={verify:_u(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof mc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof gc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wc)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Do()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Do()}(e,t.precondition)),n}function Ru(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?kc.updateTime(yu(e.updateTime)):void 0!==e.exists?kc.exists(e.exists):kc.none()}(t.currentDocument):kc.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Oo("REQUEST_TIME"===t.setToServerValue),n=new mc;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new gc(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new yc(e)}else"increment"in t?n=new wc(e,t.increment):Do();const r=ra.fromServerFormat(t.fieldPath);return new Ec(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Su(e,t.update.name),o=new Ys({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new vs(t.map((e=>ra.fromServerFormat(e))))}(t.updateMask);return new Oc(i,o,e,n,r)}return new Dc(i,o,n,r)}if(t.delete){const r=Su(e,t.delete);return new jc(r,n)}if(t.verify){const r=Su(e,t.verify);return new Uc(r,n)}return Do()}function Pu(e,t){return{documents:[Eu(e,t.path)]}}function Nu(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Eu(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Eu(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return zu(al.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ju(e.field),direction:Lu(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=pu(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Du(e){let t=Iu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oo(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Ou(e);return t instanceof al&&cl(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new nl(Uu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Ra(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Zs(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Zs(n,t)}(n.endAt)),Nl(t,i,a,o,s,"F",l,c)}function Ou(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Uu(e.unaryFilter.field);return ol.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Uu(e.unaryFilter.field);return ol.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Uu(e.unaryFilter.field);return ol.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Uu(e.unaryFilter.field);return ol.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Do()}}(e):void 0!==e.fieldFilter?function(e){return ol.create(Uu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Do()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return al.create(e.compositeFilter.filters.map((e=>Ou(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Do()}}(e.compositeFilter.op))}(e):Do()}function Lu(e){return uu[e]}function Mu(e){return du[e]}function Fu(e){return hu[e]}function ju(e){return{fieldPath:e.canonicalString()}}function Uu(e){return ra.fromServerFormat(e.fieldPath)}function zu(e){return e instanceof ol?function(e){if("=="===e.op){if(Bs(e.value))return{unaryFilter:{field:ju(e.field),op:"IS_NAN"}};if(Vs(e.value))return{unaryFilter:{field:ju(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bs(e.value))return{unaryFilter:{field:ju(e.field),op:"IS_NOT_NAN"}};if(Vs(e.value))return{unaryFilter:{field:ju(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ju(e.field),op:Mu(e.op),value:e.value}}}(e):e instanceof al?function(e){const t=e.getFilters().map((e=>zu(e)));return 1===t.length?t[0]:{compositeFilter:{op:Fu(e.op),filters:t}}}(e):Do()}function Vu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Bu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class qu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Zo.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Zo.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:bs.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new qu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Wu{constructor(e){this.ut=e}}function Ku(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Hu(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:_u(e,t.key),fields:t.data.value.mapValue.fields,updateTime:mu(e,t.version.toTimestamp()),createTime:mu(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Gu(t.version)};else{if(!t.isUnknownDocument())return Do();r.unknownDocument={path:n.path.toArray(),version:Gu(t.version)}}return r}function Hu(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Gu(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Qu(e){const t=new Jo(e.seconds,e.nanoseconds);return Zo.fromTimestamp(t)}function $u(e,t){const n=(t.baseMutations||[]).map((t=>Ru(e.ut,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Ru(e.ut,t))),i=Jo.fromMillis(t.localWriteTimeMs);return new zc(t.batchId,i,n,r)}function Yu(e){const t=Qu(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Qu(e.lastLimboFreeSnapshotVersion):Zo.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Oo(1===e.documents.length),Fl(Dl(Iu(e.documents[0])))}(e.query):function(e){return Fl(Du(e))}(e.query),new qu(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,bs.fromBase64String(e.resumeToken))}function Xu(e,t){const n=Gu(t.snapshotVersion),r=Gu(t.lastLimboFreeSnapshotVersion);let i;i=xl(t.target)?Pu(e.ut,t.target):Nu(e.ut,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:kl(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ju(e){const t=Du({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?zl(t,t.limit,"L"):t}function Zu(e,t){return new Bc(t.largestBatchId,Ru(e.ut,t.overlayMutation))}function ed(e,t){const n=t.path.lastSegment();return[e,Da(t.path.popLast()),n]}function td(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Gu(r.readTime),documentKey:Da(r.documentKey.path),largestBatchId:r.largestBatchId}}class nd{getBundleMetadata(e,t){return rd(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Qu(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return rd(e).put(function(e){return{bundleId:e.id,createTime:Gu(yu(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return id(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Ju(e.bundledQuery),readTime:Qu(e.readTime)}}(e)}))}saveNamedQuery(e,t){return id(e).put(function(e){return{name:e.name,readTime:Gu(yu(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function rd(e){return ss(e,"bundles")}function id(e){return ss(e,"namedQueries")}class od{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new od(e,n)}getOverlay(e,t){return ad(e).get(ed(this.userId,t)).next((e=>e?Zu(this.serializer,e):null))}getOverlays(e,t){const n=ec();return va.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new Bc(t,i);r.push(this.lt(e,o))})),va.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Da(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(ad(e).H("collectionPathOverlayIndex",r))})),va.waitFor(i)}getOverlaysForCollection(e,t,n){const r=ec(),i=Da(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ad(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=Zu(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=ec();let o;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ad(e).Y({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=Zu(this.serializer,t);i.size()<r||a.largestBatchId===o?(i.set(a.getKey(),a),o=a.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return ad(e).put(function(e,t,n){const[r,i,o]=ed(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Au(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function ad(e){return ss(e,"documentOverlays")}class sd{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Ss(e.integerValue));else if("doubleValue"in e){const n=Ss(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Pa(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Es(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?Ks(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Do()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),ia.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function ld(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function cd(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=ld(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}sd.St=new sd;class ud{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e),n=cd(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),n=cd(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class dd{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class hd{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class fd{constructor(){this.Wt=new ud,this.Gt=new dd(this.Wt),this.zt=new hd(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class pd{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new pd(this.indexId,this.documentKey,this.arrayValue,n)}}function md(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=gd(e.arrayValue,t.arrayValue),0!==n?n:(n=gd(e.directionalValue,t.directionalValue),0!==n?n:ia.comparator(e.documentKey,t.documentKey)))}function gd(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class vd{constructor(e){this.Jt=new ps(((e,t)=>ra.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(Oo(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=aa(e);if(void 0!==t&&!this.tn(t))return!1;const n=sa(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Yt.length||!this.rn(this.Yt[o++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new ps(ra.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new la(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new la(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new la(n.field,"asc"===n.dir?0:1)));return new oa(oa.UNKNOWN_ID,this.collectionId,t,ca.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function yd(e){var t,n;if(Oo(e instanceof ol||e instanceof al),e instanceof ol){if(e instanceof wl){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>ol.create(e.field,"==",t))))||[];return al.create(r,"or")}return e}const r=e.filters.map((e=>yd(e)));return al.create(r,e.op)}function bd(e){if(0===e.getFilters().length)return[];const t=Ed(yd(e));return Oo(Sd(t)),wd(t)||_d(t)?[t]:t.getFilters()}function wd(e){return e instanceof ol}function _d(e){return e instanceof al&&cl(e)}function Sd(e){return wd(e)||_d(e)||function(e){if(e instanceof al&&ll(e)){for(const t of e.getFilters())if(!wd(t)&&!_d(t))return!1;return!0}return!1}(e)}function Ed(e){if(Oo(e instanceof ol||e instanceof al),e instanceof ol)return e;if(1===e.filters.length)return Ed(e.filters[0]);const t=e.filters.map((e=>Ed(e)));let n=al.create(t,e.op);return n=Td(n),Sd(n)?n:(Oo(n instanceof al),Oo(sl(n)),Oo(n.filters.length>1),n.filters.reduce(((e,t)=>Id(e,t))))}function Id(e,t){let n;return Oo(e instanceof ol||e instanceof al),Oo(t instanceof ol||t instanceof al),n=e instanceof ol?t instanceof ol?function(e,t){return al.create([e,t],"and")}(e,t):kd(e,t):t instanceof ol?kd(t,e):function(e,t){if(Oo(e.filters.length>0&&t.filters.length>0),sl(e)&&sl(t))return fl(e,t.getFilters());const n=ll(e)?e:t,r=ll(e)?t:e,i=n.filters.map((e=>Id(e,r)));return al.create(i,"or")}(e,t),Td(n)}function kd(e,t){if(sl(t))return fl(t,e.getFilters());{const n=t.filters.map((t=>Id(e,t)));return al.create(n,"or")}}function Td(e){if(Oo(e instanceof ol||e instanceof al),e instanceof ol)return e;const t=e.getFilters();if(1===t.length)return Td(t[0]);if(ul(e))return e;const n=t.map((e=>Td(e))),r=[];return n.forEach((t=>{t instanceof ol?r.push(t):t instanceof al&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:al.create(r,e.op)}class xd{constructor(){this.on=new Cd}addToCollectionParentIndex(e,t){return this.on.add(t),va.resolve()}getCollectionParents(e,t){return va.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return va.resolve()}deleteFieldIndex(e,t){return va.resolve()}deleteAllFieldIndexes(e){return va.resolve()}createTargetIndexes(e,t){return va.resolve()}getDocumentsMatchingTarget(e,t){return va.resolve(null)}getIndexType(e,t){return va.resolve(0)}getFieldIndexes(e,t){return va.resolve([])}getNextCollectionGroupToUpdate(e){return va.resolve(null)}getMinOffset(e,t){return va.resolve(ha.min())}getMinOffsetFromCollectionGroup(e,t){return va.resolve(ha.min())}updateCollectionGroup(e,t,n){return va.resolve()}updateIndexEntries(e,t){return va.resolve()}}class Cd{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ps(ta.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ps(ta.comparator)).toArray()}}const Ad=new Uint8Array(0);class Rd{constructor(e,t){this.user=e,this.databaseId=t,this._n=new Cd,this.an=new Ql((e=>kl(e)),((e,t)=>Tl(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:Da(r)};return Pd(e).put(i)}return va.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Xo(t),""],!1,!0);return Pd(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ma(r.parent))}return n}))}addFieldIndex(e,t){const n=Dd(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Od(e);return i.next((e=>{n.put(td(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Dd(e),r=Od(e),i=Nd(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Dd(e),n=Nd(e),r=Od(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return va.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new vd(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Nd(e);let r=!0;const i=new Map;return va.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=oc();const r=[];return va.forEach(i,((i,o)=>{Ao("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(kl(t)));const a=function(e,t){const n=aa(t);if(void 0===n)return null;for(const r of Cl(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),s=function(e,t){const n=new Map;for(const r of sa(t))for(const t of Cl(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of sa(t)){const t=0===i.kind?Al(e,i.fieldPath,e.startAt):Rl(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Zs(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of sa(t)){const t=0===i.kind?Rl(e,i.fieldPath,e.endAt):Al(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Zs(n,r)}(o,i),u=this.ln(i,o,l),d=this.ln(i,o,c),h=this.hn(i,o,s),f=this.Pn(i.indexId,a,u,l.inclusive,d,c.inclusive,h);return va.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=ia.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return va.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:bd(al.create(e.filters,"and")).map((t=>Il(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,o,a){const s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),c=[];for(let u=0;u<s;++u){const s=t?this.In(t[u/l]):Ad,d=this.Tn(e,s,n[u%l],r),h=this.En(e,s,i[u%l],o),f=a.map((t=>this.Tn(e,s,t,!0)));c.push(...this.createRange(d,h,f))}return c}Tn(e,t,n,r){const i=new pd(e,ia.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new pd(e,ia.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new vd(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return va.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new ps(ra.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new fd;for(const r of sa(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);sd.St.ht(e,i)}return n.Ut()}In(e){const t=new fd;return sd.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new fd;return sd.St.ht(js(this.databaseId,t),n.jt(function(e){const t=sa(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new fd);let i=0;for(const o of sa(e)){const e=n[i++];for(const n of r)if(this.Rn(t,o.fieldPath)&&zs(e))r=this.Vn(r,o,e);else{const t=n.jt(o.kind);sd.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new fd;n.seed(e.Ut()),sd.St.ht(o,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof ol&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Dd(e),r=Od(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return va.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new ca(t.sequenceNumber,new ha(Qu(t.readTime),new ia(Ma(t.documentKey)),t.largestBatchId)):ca.empty(),r=e.fields.map((e=>{let[t,n]=e;return new la(ra.fromServerFormat(t),n)}));return new oa(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:$o(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Dd(e),i=Od(e);return this.fn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>va.forEach(t,(t=>i.put(td(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return va.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?va.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),va.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?va.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return Nd(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return Nd(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=Nd(e);let i=new ps(md);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new pd(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new ps(md);const r=this.dn(t,e);if(null==r)return n;const i=aa(t);if(null!=i){const o=e.data.field(i.fieldPath);if(zs(o))for(const i of o.arrayValue.values||[])n=n.add(new pd(t.indexId,e.key,this.In(i),r))}else n=n.add(new pd(t.indexId,e.key,Ad,r));return n}yn(e,t,n,r,i){Ao("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),a=t.getIterator();let s=gs(o),l=gs(a);for(;s||l;){let e=!1,t=!1;if(s&&l){const r=n(s,l);r<0?t=!0:r>0&&(e=!0)}else null!=s?t=!0:e=!0;e?(r(l),l=gs(a)):t?(i(s),s=gs(o)):(s=gs(o),l=gs(a))}}(r,i,md,(r=>{o.push(this.wn(e,t,n,r))}),(r=>{o.push(this.Sn(e,t,n,r))})),va.waitFor(o)}fn(e){let t=1;return Od(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>md(e,t))).filter(((e,t,n)=>!t||0!==md(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=md(o,e),i=md(o,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(o),r.push(o.Ht());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Ad,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Ad,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return md(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ld)}getMinOffset(e,t){return va.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||Do())))).next(Ld)}}function Pd(e){return ss(e,"collectionParents")}function Nd(e){return ss(e,"indexEntries")}function Dd(e){return ss(e,"indexConfiguration")}function Od(e){return ss(e,"indexState")}function Ld(e){Oo(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;fa(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ha(t.readTime,t.documentKey,n)}const Md={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fd{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Fd(e,Fd.DEFAULT_COLLECTION_PERCENTILE,Fd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function jd(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const l=r.Y({range:a},((e,t,n)=>(s++,n.delete())));o.push(l.next((()=>{Oo(1===s)})));const c=[];for(const u of n.mutations){const e=Ua(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return va.waitFor(o).next((()=>c))}function Ud(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Do();t=e.noDocument}return JSON.stringify(t).length}Fd.DEFAULT_COLLECTION_PERCENTILE=10,Fd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fd.DEFAULT=new Fd(41943040,Fd.DEFAULT_COLLECTION_PERCENTILE,Fd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fd.DISABLED=new Fd(-1,0,0);class zd{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){Oo(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new zd(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bd(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=qd(e),o=Bd(e);return o.add({}).next((a=>{Oo("number"==typeof a);const s=new zc(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Au(e.ut,t))),i=n.mutations.map((t=>Au(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,s),c=[];let u=new ps(((e,t)=>$o(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Ua(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,za))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[a]=s.keys()})),va.waitFor(c).next((()=>s))}))}lookupMutationBatch(e,t){return Bd(e).get(t).next((e=>e?(Oo(e.userId===this.userId),$u(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?va.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Bd(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Oo(t.batchId>=n),i=$u(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Bd(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bd(e).W("userMutationsIndex",t).next((e=>e.map((e=>$u(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=ja(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return qd(e).Y({range:r},((n,r,o)=>{const[a,s,l]=n,c=Ma(s);if(a===this.userId&&t.path.isEqual(c))return Bd(e).get(l).next((e=>{if(!e)throw Do();Oo(e.userId===this.userId),i.push($u(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ps($o);const r=[];return t.forEach((t=>{const i=ja(this.userId,t.path),o=IDBKeyRange.lowerBound(i),a=qd(e).Y({range:o},((e,r,i)=>{const[o,a,s]=e,l=Ma(a);o===this.userId&&t.path.isEqual(l)?n=n.add(s):i.done()}));r.push(a)})),va.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=ja(this.userId,n),o=IDBKeyRange.lowerBound(i);let a=new ps($o);return qd(e).Y({range:o},((e,t,i)=>{const[o,s,l]=e,c=Ma(s);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):i.done()})).next((()=>this.vn(e,a)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Bd(e).get(t).next((e=>{if(null===e)throw Do();Oo(e.userId===this.userId),n.push($u(this.serializer,e))})))})),va.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return jd(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),va.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return va.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return qd(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Ma(e[1]);r.push(t)}else n.done()})).next((()=>{Oo(0===r.length)}))}))}containsKey(e,t){return Vd(e,this.userId,t)}Mn(e){return Wd(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Vd(e,t,n){const r=ja(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return qd(e).Y({range:o,J:!0},((e,n,r)=>{const[o,s,l]=e;o===t&&s===i&&(a=!0),r.done()})).next((()=>a))}function Bd(e){return ss(e,"mutations")}function qd(e){return ss(e,"documentMutations")}function Wd(e){return ss(e,"mutationQueues")}class Kd{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Kd(0)}static Nn(){return new Kd(-1)}}class Hd{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new Kd(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>Zo.fromTimestamp(new Jo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Ln(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Gd(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(Oo(t.targetCount>0),t.targetCount-=1,this.Ln(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Gd(e).Y(((o,a)=>{const s=Yu(a);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r++,i.push(this.removeTargetData(e,s)))})).next((()=>va.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Gd(e).Y(((e,n)=>{const r=Yu(n);t(r)}))}Bn(e){return Qd(e).get("targetGlobalKey").next((e=>(Oo(null!==e),e)))}Ln(e,t){return Qd(e).put("targetGlobalKey",t)}kn(e,t){return Gd(e).put(Xu(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=kl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Gd(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=Yu(n);Tl(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=$d(e);return t.forEach((t=>{const o=Da(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),va.waitFor(r)}removeMatchingKeys(e,t,n){const r=$d(e);return va.forEach(t,(t=>{const i=Da(t.path);return va.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=$d(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$d(e);let i=oc();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Ma(e[1]),o=new ia(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Da(t.path),r=IDBKeyRange.bound([n],[Xo(n)],!1,!0);let i=0;return $d(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return Gd(e).get(t).next((e=>e?Yu(e):null))}}function Gd(e){return ss(e,"targets")}function Qd(e){return ss(e,"targetGlobal")}function $d(e){return ss(e,"targetDocuments")}function Yd(e,t){let[n,r]=e,[i,o]=t;const a=$o(n,i);return 0===a?$o(r,o):a}class Xd{constructor(e){this.Qn=e,this.buffer=new ps(Yd),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Yd(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Jd{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){Ao("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Sa(e)?Ao("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ga(e)}await this.Gn(3e5)}))}}class Zd{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return va.resolve(Aa._e);const n=new Xd(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ao("LruGarbageCollector","Garbage collection skipped; disabled"),va.resolve(Md)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ao("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Md):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Ao("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Co()<=G.DEBUG&&Ao("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),va.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function eh(e,t){return new Zd(e,t)}class th{constructor(e,t){this.db=e,this.garbageCollector=eh(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return nh(e,n)}removeReference(e,t,n){return nh(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return nh(e,t)}Xn(e,t){return function(e,t){let n=!1;return Wd(e).Z((r=>Vd(e,r,t).next((e=>(e&&(n=!0),va.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((o,a)=>{if(a<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,Zo.min()),$d(e).delete(function(e){return[0,Da(e.path)]}(o)))))}));r.push(t)}})).next((()=>va.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return nh(e,t)}Zn(e,t){const n=$d(e);let r,i=Aa._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[o,a]=e,{path:s,sequenceNumber:l}=n;0===o?(i!==Aa._e&&t(new ia(Ma(r)),i),i=l,r=s):i=Aa._e})).next((()=>{i!==Aa._e&&t(new ia(Ma(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nh(e,t){return $d(e).put(function(e,t){return{targetId:0,path:Da(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class rh{constructor(){this.changes=new Ql((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Js.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?va.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ih{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return lh(e).put(n)}removeEntry(e,t,n){return lh(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Hu(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=Js.newInvalidDocument(t);return lh(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ch(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:Js.newInvalidDocument(t)};return lh(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ch(t))},((e,r)=>{n={document:this.tr(t,r),size:Ud(r)}})).next((()=>n))}getEntries(e,t){let n=Yl();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=Yl(),r=new ds(ia.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,Ud(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return va.resolve();let r=new ps(dh);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(ch(r.first()),ch(r.last())),o=r.getIterator();let a=o.getNext();return lh(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=ia.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&dh(a,i)<0;)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.U(ch(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),Hu(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lh(e).W(IDBKeyRange.bound(a,s,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Yl();for(const i of e){const e=this.tr(ia.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Wl(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Yl();const o=uh(t,n),a=uh(t,ha.max());return lh(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},((e,t,n)=>{const o=this.tr(ia.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new ah(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return sh(e).get("remoteDocumentGlobalKey").next((e=>(Oo(!!e),e)))}er(e,t){return sh(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Cu(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=ia.fromSegments(t.noDocument.path),r=Qu(t.noDocument.readTime);n=Js.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Do();{const e=ia.fromSegments(t.unknownDocument.path),r=Qu(t.unknownDocument.version);n=Js.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Jo(e[0],e[1]);return Zo.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Zo.min()))return e}return Js.newInvalidDocument(e)}}function oh(e){return new ih(e)}class ah extends rh{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Ql((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new ps(((e,t)=>$o(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const a=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,a.readTime)),o.isValidDocument()){const s=Ku(this._r.serializer,o);r=r.add(i.path.popLast());const l=Ud(s);n+=l-a.size,t.push(this._r.addEntry(e,i,s))}else if(n-=a.size,this.trackRemovals){const n=Ku(this._r.serializer,o.convertToNoDocument(Zo.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),va.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function sh(e){return ss(e,"remoteDocumentGlobal")}function lh(e){return ss(e,"remoteDocumentsV14")}function ch(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function uh(e,t){const n=t.documentKey.path.toArray();return[e,Hu(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function dh(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=$o(n[o],r[o]),i)return i;return i=$o(n.length,r.length),i||(i=$o(n[n.length-2],r[r.length-2]),i||$o(n[n.length-1],r[r.length-1]))}class hh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Rc(n.mutation,e,vs.empty(),Jo.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,oc()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oc();const r=ec();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Jl();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ec();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,oc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Yl();const o=nc(),a=nc();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Oc)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Rc(a.mutation,t,a.mutation.getFieldMask(),Jo.now())):o.set(t.key,vs.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new hh(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=nc();let r=new ds(((e,t)=>e-t)),i=oc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||vs.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||oc()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=tc();l.forEach((e=>{if(!i.has(e)){const r=Cc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return va.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ia.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ll(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):va.resolve(ec());let a=-1,s=i;return o.next((t=>va.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?va.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,oc()))).next((e=>({batchId:a,changes:Zl(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ia(t)).next((e=>{let t=Jl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Jl();return this.indexManager.getCollectionParents(e,i).next((a=>va.forEach(a,(a=>{const s=function(e,t){return new Pl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Js.newInvalidDocument(r)))}));let n=Jl();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Rc(o.mutation,r,vs.empty(),Jo.now()),Wl(t,r)&&(n=n.insert(e,r))})),n}))}}class ph{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return va.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:yu(e.createTime)}}(t)),va.resolve()}getNamedQuery(e,t){return va.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:Ju(e.bundledQuery),readTime:yu(e.readTime)}}(t)),va.resolve()}}class mh{constructor(){this.overlays=new ds(ia.comparator),this.lr=new Map}getOverlay(e,t){return va.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ec();return va.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),va.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),va.resolve()}getOverlaysForCollection(e,t,n){const r=ec(),i=t.length+1,o=new ia(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return va.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ds(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ec(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ec(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return va.resolve(a)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Bc(t,n));let i=this.lr.get(t);void 0===i&&(i=oc(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class gh{constructor(){this.hr=new ps(vh.Pr),this.Ir=new ps(vh.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new vh(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new vh(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new ia(new ta([])),n=new vh(t,e),r=new vh(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ia(new ta([])),n=new vh(t,e),r=new vh(t,e+1);let i=oc();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new vh(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class vh{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ia.comparator(e.key,t.key)||$o(e.gr,t.gr)}static Tr(e,t){return $o(e.gr,t.gr)||ia.comparator(e.key,t.key)}}class yh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new ps(vh.Pr)}checkEmpty(e){return va.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zc(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new vh(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return va.resolve(o)}lookupMutationBatch(e,t){return va.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return va.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return va.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return va.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new vh(t,0),r=new vh(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),va.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ps($o);return t.forEach((e=>{const t=new vh(e,0),r=new vh(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),va.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ia.isDocumentKey(i)||(i=i.child(""));const o=new vh(new ia(i),0);let a=new ps($o);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.gr)),!0)}),o),va.resolve(this.br(a))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Oo(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return va.forEach(t.mutations,(r=>{const i=new vh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new vh(t,0),r=this.yr.firstAfterOrEqual(n);return va.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,va.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bh{constructor(e){this.Cr=e,this.docs=new ds(ia.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return va.resolve(n?n.document.mutableCopy():Js.newInvalidDocument(t))}getEntries(e,t){let n=Yl();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Js.newInvalidDocument(e))})),va.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Yl();const o=t.path,a=new ia(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||fa(da(a),n)<=0||(r.has(a.key)||Wl(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return va.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Do()}vr(e,t){return va.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new wh(this)}getSize(e){return va.resolve(this.size)}}class wh extends rh{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),va.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class _h{constructor(e){this.persistence=e,this.Fr=new Ql((e=>kl(e)),Tl),this.lastRemoteSnapshotVersion=Zo.min(),this.highestTargetId=0,this.Mr=0,this.Or=new gh,this.targetCount=0,this.Nr=Kd.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),va.resolve()}getLastRemoteSnapshotVersion(e){return va.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return va.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),va.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),va.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Kd(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,va.resolve()}updateTargetData(e,t){return this.kn(t),va.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,va.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),va.waitFor(i).next((()=>r))}getTargetCount(e){return va.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return va.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),va.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),va.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),va.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return va.resolve(n)}containsKey(e,t){return va.resolve(this.Or.containsKey(t))}}class Sh{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Aa(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new _h(this),this.indexManager=new xd,this.remoteDocumentCache=function(e){return new bh(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new Wu(t),this.Kr=new ph(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new yh(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Ao("MemoryPersistence","Starting transaction:",e);const r=new Eh(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return va.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Eh extends ma{constructor(e){super(),this.currentSequenceNumber=e}}class Ih{constructor(e){this.persistence=e,this.Gr=new gh,this.zr=null}static jr(e){return new Ih(e)}get Hr(){if(this.zr)return this.zr;throw Do()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),va.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),va.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),va.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return va.forEach(this.Hr,(n=>{const r=ia.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,Zo.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return va.or([()=>va.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class kh{constructor(e){this.serializer=e}N(e,t,n,r){const i=new ya("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fa,{unique:!0}),e.createObjectStore("documentMutations")}(e),Th(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=va.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Th(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zo.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fa,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return va.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Zr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(o=o.next((()=>this.ei(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ni(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Ja});t.createIndex("collectionPathOverlayIndex",Za,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",es,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Va});t.createIndex("documentKeyIndex",Ba),t.createIndex("collectionGroupIndex",qa)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ii(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Qa}).createIndex("sequenceNumberIndex",$a,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ya}).createIndex("documentKeyIndex",Xa,{unique:!1})}(e)))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=Ud(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>va.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>va.forEach(n,(n=>{Oo(n.userId===t.userId);const r=$u(this.serializer,n);return jd(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const o=new ta(n),a=function(e){return[0,Da(e)]}(o);r.push(t.get(a).next((n=>n?va.resolve():(n=>t.put({targetId:0,path:Da(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>va.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Ga});const n=t.store("collectionParents"),r=new Cd,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Da(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new ta(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,o]=e;const a=Ma(r);return i(a.popLast())}))))}ni(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=Yu(n),i=Xu(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new ia(ta.fromString(e.document.name).popFirst(5)):e.noDocument?ia.fromSegments(e.noDocument.path):e.unknownDocument?ia.fromSegments(e.unknownDocument.path):Do()}(n).path.toArray(),a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>va.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=oh(this.serializer),i=new Sh(Ih.jr,this.serializer.ut);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:oc();$u(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),va.forEach(n,((e,n)=>{const o=new ko(n),a=od.ct(this.serializer,o),s=i.getIndexManager(o),l=zd.ct(o,this.serializer,s,i.referenceDelegate);return new fh(r,l,a,s).recalculateAndSaveOverlaysForDocumentKeys(new as(t,Aa._e),e).next()}))}))}}function Th(e){e.createObjectStore("targetDocuments",{keyPath:Ka}).createIndex("documentTargetsIndex",Ha,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Wa,{unique:!0}),e.createObjectStore("targetGlobal")}const xh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ch{constructor(e,t,n,r,i,o,a,s,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=o,this.document=a,this.oi=l,this._i=c,this.ai=u,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!Ch.D())throw new Fo(Mo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new th(this,r),this.Ii=t+"main",this.serializer=new Wu(s),this.Ti=new ba(this.Ii,this.ai,new kh(this.serializer)),this.qr=new Hd(this.referenceDelegate,this.serializer),this.remoteDocumentCache=oh(this.serializer),this.Kr=new nd,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===c&&Ro("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fo(Mo.FAILED_PRECONDITION,xh);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Lr=new Aa(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Rh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(Sa(e))return Ao("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ao("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return Ah(e).get("owner").next((e=>va.resolve(this.wi(e))))}Si(e){return Rh(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=ss(e,"clientMetadata");return t.W().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return va.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?va.resolve(!0):Ah(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new Fo(Mo.FAILED_PRECONDITION,xh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rh(e).W().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Ao("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new as(e,Aa._e);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>Rh(e).W().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return zd.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Rd(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return od.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){Ao("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?os:14===e?is:13===e?rs:12===e?ns:11===e?ts:void Do()}(this.ai);let o;return this.Ti.runTransaction(e,r,i,(r=>(o=new as(r,this.Lr?this.Lr.next():Aa._e),"readwrite-primary"===t?this.fi(o).next((e=>!!e||this.gi(o))).next((t=>{if(!t)throw Ro("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new Fo(Mo.FAILED_PRECONDITION,pa);return n(o)})).next((e=>this.yi(o).next((()=>e)))):this.Li(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Li(e){return Ah(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Fo(Mo.FAILED_PRECONDITION,xh)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ah(e).put("owner",t)}static D(){return ba.D()}pi(e){const t=Ah(e);return t.get("owner").next((e=>this.wi(e)?(Ao("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):va.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Ro("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;!g()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Ao("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ro("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Ro("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Ah(e){return ss(e,"owner")}function Rh(e){return ss(e,"clientMetadata")}function Ph(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Nh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=oc(),r=oc();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Nh(e,t.fromCache,n,r)}}class Dh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Oh{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Dh;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Co()<=G.DEBUG&&Ao("QueryEngine","SDK will not create cache indexes for query:",ql(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),va.resolve()):(Co()<=G.DEBUG&&Ao("QueryEngine","Query:",ql(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Co()<=G.DEBUG&&Ao("QueryEngine","The SDK decides to create cache indexes for query:",ql(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fl(t))):va.resolve())}zi(e,t){if(Ol(t))return va.resolve(null);let n=Fl(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=zl(t,null,"F"),n=Fl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=oc(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,zl(t,null,"F")):this.Xi(e,o,t,n)}))))})))))}ji(e,t,n,r){return Ol(t)||r.isEqual(Zo.min())?va.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?va.resolve(null):(Co()<=G.DEBUG&&Ao("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ql(t)),this.Xi(e,o,t,ua(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new ps(Hl(e));return t.forEach(((t,r)=>{Wl(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Co()<=G.DEBUG&&Ao("QueryEngine","Using full collection scan to execute query:",ql(t)),this.Gi.getDocumentsMatchingQuery(e,t,ha.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Lh{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new ds($o),this.ns=new Ql((e=>kl(e)),Tl),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fh(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function Mh(e,t,n,r){return new Lh(e,t,n,r)}async function Fh(e,t){const n=Lo(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=oc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function jh(e){const t=Lo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function Uh(e,t,n){let r=oc(),i=oc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Yl();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Zo.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Ao("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{us:r,cs:i}}))}function zh(e,t){const n=Lo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Vh(e,t){const n=Lo(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,va.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new qu(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function Bh(e,t,n){const r=Lo(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Sa(e))throw e;Ao("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function qh(e,t,n){const r=Lo(e);let i=Zo.min(),o=oc();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Lo(e),i=r.ns.get(n);return void 0!==i?va.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,Fl(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:Zo.min(),n?o:oc()))).next((e=>(Hh(r,Kl(t),e),{documents:e,ls:o})))))}function Wh(e,t){const n=Lo(e),r=Lo(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function Kh(e,t){const n=Lo(e),r=n.rs.get(t)||Zo.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,ua(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Hh(n,t,e),e)))}function Hh(e,t,n){let r=e.rs.get(t)||Zo.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function Gh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oc();const r=await Vh(e,Fl(Ju(t.bundledQuery))),i=Lo(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=yu(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(e,t);const a=r.withResumeToken(bs.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(e,a).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function Qh(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function $h(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Yh(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Xh{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Fo(r.error.code,r.error.message))),o?new Xh(e,t,r.state,i):(Ro("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jh{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Fo(n.error.code,n.error.message))),i?new Jh(e,n.state,r):(Ro("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=sc();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Na(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Zh(e,i):(Ro("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class ef{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ef(t.clientId,t.onlineState):(Ro("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class tf{constructor(){this.activeTargetIds=sc()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nf{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new ds($o),this.started=!1,this.ps=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=Qh(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new tf),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(Qh(this.persistenceKey,n));if(e){const t=Zh.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Yh(this.persistenceKey,e));if(n){const r=Jh.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Yh(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ao("SharedClientState","READ",e,t),t}setItem(e,t){Ao("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ao("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(Ao("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void Ro("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=Aa._e;if(null!=e)try{const n=JSON.parse(e);Oo("number"==typeof n),t=n}catch(e){Ro("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Aa._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const r=new Xh(this.currentUser,e,t,n),i=$h(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Bs(e){const t=$h(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=Yh(this.persistenceKey,e),i=new Jh(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return Zh.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Xh.Ts(new ko(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return Jh.Ts(r,t)}Ms(e){return ef.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Ao("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),o=[],a=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.Xs(o,a).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=sc();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class rf{constructor(){this.eo=new tf,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new tf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class of{ro(e){}shutdown(){}}class af{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ao("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ao("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sf=null;function lf(){return null===sf?sf=268435456+Math.round(2147483648*Math.random()):sf++,"0x"+sf.toString(16)}const cf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uf{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const df="WebChannelConnection";class hf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const o=lf(),a=this.So(e,t);Ao("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(s,r,i),this.Do(e,a,s,n).then((t=>(Ao("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Po("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t}))}Co(e,t,n,r,i,o){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+To,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=cf[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=lf();return new Promise(((o,a)=>{const s=new _o;s.setWithCredentials(!0),s.listenOnce(vo.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case go.NO_ERROR:const t=s.getResponseJson();Ao(df,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case go.TIMEOUT:Ao(df,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Fo(Mo.DEADLINE_EXCEEDED,"Request time out"));break;case go.HTTP_ERROR:const n=s.getStatus();if(Ao(df,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Mo).indexOf(t)>=0?t:Mo.UNKNOWN}(t.status);a(new Fo(e,t.message))}else a(new Fo(Mo.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Fo(Mo.UNAVAILABLE,"Connection failed."));break;default:Do()}}finally{Ao(df,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Ao(df,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",l,n,15)}))}vo(e,t,n){const r=lf(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=po(),a=mo(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.bo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Ao(df,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new uf({co:t=>{h?Ao(df,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Ao(df,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Ao(df,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,wo.EventType.OPEN,(()=>{h||Ao(df,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,wo.EventType.CLOSE,(()=>{h||(h=!0,Ao(df,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,wo.EventType.ERROR,(t=>{h||(h=!0,Po(df,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new Fo(Mo.UNAVAILABLE,"The operation could not be completed")))})),p(u,wo.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Oo(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Ao(df,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Wc[e];if(void 0!==t)return Gc(t)}(t),i=a.message;void 0===n&&(n=Mo.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Ro(new Fo(n,i)),u.close()}else Ao(df,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(a,yo.STAT_EVENT,(t=>{t.stat===bo.PROXY?Ao(df,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===bo.NOPROXY&&Ao(df,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function ff(){return"undefined"!=typeof window?window:null}function pf(){return"undefined"!=typeof document?document:null}function mf(e){return new fu(e,!0)}class gf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Ao("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class vf{constructor(e,t,n,r,i,o,a,s){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new gf(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===Mo.RESOURCE_EXHAUSTED?(Ro(t.toString()),Ro("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===Mo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new Fo(Mo.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return Ao("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(Ao("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yf extends vf{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Do()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(Oo(void 0===t||"string"==typeof t),bs.fromBase64String(t||"")):(Oo(void 0===t||t instanceof Uint8Array),bs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Mo.UNKNOWN:Gc(e.code);return new Fo(t,e.message||"")}(a);n=new ou(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Su(e,r.document.name),o=yu(r.document.updateTime),a=r.document.createTime?yu(r.document.createTime):Zo.min(),s=new Ys({mapValue:{fields:r.document.fields}}),l=Js.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ru(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Su(e,r.document),o=r.readTime?yu(r.readTime):Zo.min(),a=Js.newNoDocument(i,o),s=r.removedTargetIds||[];n=new ru([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Su(e,r.document),o=r.removedTargetIds||[];n=new ru([],o,i,null)}else{if(!("filter"in t))return Do();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new qc(r,i),a=e.targetId;n=new iu(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Zo.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Zo.min():t.readTime?yu(t.readTime):Zo.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=ku(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=xl(r)?{documents:Pu(e,r)}:{query:Nu(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=gu(e,t.resumeToken);const r=pu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Zo.min())>0){n.readTime=mu(e,t.snapshotVersion.toTimestamp());const r=pu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Do()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=ku(this.serializer),t.removeTarget=e,this.e_(t)}}class bf extends vf{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Oo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(Oo(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?yu(e.updateTime):yu(t);return n.isEqual(Zo.min())&&(n=yu(t)),new Ic(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=yu(e.commitTime);return this.listener.I_(n,t)}return Oo(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=ku(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Au(this.serializer,e)))};this.e_(t)}}class wf extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new Fo(Mo.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.wo(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Mo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fo(Mo.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.Co(e,t,n,o,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Mo.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Fo(Mo.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class _f{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Ro(t),this.f_=!1):Ao("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Sf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{Pf(this)&&(Ao("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Lo(e);t.C_.add(4),await If(t),t.M_.set("Unknown"),t.C_.delete(4),await Ef(t)}(this))}))})),this.M_=new _f(n,r)}}async function Ef(e){if(Pf(e))for(const t of e.v_)await t(!0)}async function If(e){for(const t of e.v_)await t(!1)}function kf(e,t){const n=Lo(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Rf(n)?Af(n):$f(n).Ho()&&xf(n,t))}function Tf(e,t){const n=Lo(e),r=$f(n);n.D_.delete(t),r.Ho()&&Cf(n,t),0===n.D_.size&&(r.Ho()?r.Zo():Pf(n)&&n.M_.set("Unknown"))}function xf(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Zo.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$f(e).u_(t)}function Cf(e,t){e.x_.Oe(t),$f(e).c_(t)}function Af(e){e.x_=new su({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),$f(e).start(),e.M_.g_()}function Rf(e){return Pf(e)&&!$f(e).jo()&&e.D_.size>0}function Pf(e){return 0===Lo(e).C_.size}function Nf(e){e.x_=void 0}async function Df(e){e.D_.forEach(((t,n)=>{xf(e,t)}))}async function Of(e,t){Nf(e),Rf(e)?(e.M_.w_(t),Af(e)):e.M_.set("Unknown")}async function Lf(e,t,n){if(e.M_.set("Online"),t instanceof ou&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){Ao("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Mf(e,n)}else if(t instanceof ru?e.x_.$e(t):t instanceof iu?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Zo.min()))try{const t=await jh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(bs.EMPTY_BYTE_STRING,r.snapshotVersion)),Cf(e,t);const i=new qu(r.target,t,n,r.sequenceNumber);xf(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ao("RemoteStore","Failed to raise snapshot:",t),await Mf(e,t)}}async function Mf(e,t,n){if(!Sa(t))throw t;e.C_.add(1),await If(e),e.M_.set("Offline"),n||(n=()=>jh(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ao("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Ef(e)}))}function Ff(e,t){return t().catch((n=>Mf(e,n,t)))}async function jf(e){const t=Lo(e),n=Yf(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;Uf(t);)try{const e=await zh(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,zf(t,e)}catch(e){await Mf(t,e)}Vf(t)&&Bf(t)}function Uf(e){return Pf(e)&&e.b_.length<10}function zf(e,t){e.b_.push(t);const n=Yf(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function Vf(e){return Pf(e)&&!Yf(e).jo()&&e.b_.length>0}function Bf(e){Yf(e).start()}async function qf(e){Yf(e).E_()}async function Wf(e){const t=Yf(e);for(const n of e.b_)t.P_(n.mutations)}async function Kf(e,t,n){const r=e.b_.shift(),i=Vc.from(r,t,n);await Ff(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await jf(e)}async function Hf(e,t){t&&Yf(e).h_&&await async function(e,t){if(function(e){return Hc(e)&&e!==Mo.ABORTED}(t.code)){const n=e.b_.shift();Yf(e).Yo(),await Ff(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await jf(e)}}(e,t),Vf(e)&&Bf(e)}async function Gf(e,t){const n=Lo(e);n.asyncQueue.verifyOperationInProgress(),Ao("RemoteStore","RemoteStore received new credentials");const r=Pf(n);n.C_.add(3),await If(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Ef(n)}async function Qf(e,t){const n=Lo(e);t?(n.C_.delete(2),await Ef(n)):t||(n.C_.add(2),await If(n),n.M_.set("Unknown"))}function $f(e){return e.O_||(e.O_=function(e,t,n){const r=Lo(e);return r.A_(),new yf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Df.bind(null,e),Io:Of.bind(null,e),a_:Lf.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),Rf(e)?Af(e):e.M_.set("Unknown")):(await e.O_.stop(),Nf(e))}))),e.O_}function Yf(e){return e.N_||(e.N_=function(e,t,n){const r=Lo(e);return r.A_(),new bf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:qf.bind(null,e),Io:Hf.bind(null,e),T_:Wf.bind(null,e),I_:Kf.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await jf(e)):(await e.N_.stop(),e.b_.length>0&&(Ao("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class Xf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new Xf(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fo(Mo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jf(e,t){if(Ro("AsyncQueue","".concat(t,": ").concat(e)),Sa(e))return new Fo(Mo.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Zf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ia.comparator(t.key,n.key):(e,t)=>ia.comparator(e.key,t.key),this.keyedMap=Jl(),this.sortedSet=new ds(this.comparator)}static emptySet(e){return new Zf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Zf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ep{constructor(){this.B_=new ds(ia.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Do():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class tp{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new tp(e,t,Zf.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class np{constructor(){this.k_=void 0,this.listeners=[]}}class rp{constructor(){this.queries=new Ql((e=>Bl(e)),Vl),this.onlineState="Unknown",this.q_=new Set}}async function ip(e,t){const n=Lo(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new np),i)try{o.k_=await n.onListen(r)}catch(e){const n=Jf(e,"Initialization of query '".concat(ql(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Q_(n.onlineState),o.k_&&t.K_(o.k_)&&lp(n)}async function op(e,t){const n=Lo(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ap(e,t){const n=Lo(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&lp(n)}function sp(e,t,n){const r=Lo(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function lp(e){e.q_.forEach((e=>{e.next()}))}class cp{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new tp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=tp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class up{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class dp{constructor(e){this.serializer=e}hs(e){return Su(this.serializer,e)}Ps(e){return e.metadata.exists?Cu(this.serializer,e.document,!1):Js.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return yu(e)}}class hp{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fp(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const n=ta.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,n=new dp(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||oc()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Lo(e);let o=oc(),a=Yl();for(const c of n){const e=t.hs(c.metadata.name);c.document&&(o=o.add(e));const n=t.Ps(c);n.setReadTime(t.Is(c.metadata.readTime)),a=a.insert(e,n)}const s=i.ss.newChangeBuffer({trackRemovals:!0}),l=await Vh(i,function(e){return Fl(Dl(ta.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Uh(e,s,a).next((t=>(s.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.qr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new dp(this.serializer),this.documents,this.X_.id),t=this.ta(this.documents);for(const n of this.queries)await Gh(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function fp(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class pp{constructor(e){this.key=e}}class mp{constructor(e){this.key=e}}class gp{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=oc(),this.mutatedKeys=oc(),this._a=Hl(e),this.aa=new Zf(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new ep,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Wl(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ha(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this._a(u,s)>0||l&&this._a(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:o,la:n,Zi:a,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Do()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n),r=null!=r&&r;const a=t&&!r?this.Ia():[],s=0===this.oa.size&&this.current&&!r?1:0,l=s!==this.sa;return this.sa=s,0!==o.length||l?{snapshot:new tp(this.query,e.aa,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new ep,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=oc(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new mp(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new pp(n))})),t}da(e){this.ia=e.ls,this.oa=oc();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return tp.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class vp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class yp{constructor(e){this.key=e,this.Ra=!1}}class bp{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Ql((e=>Bl(e)),Vl),this.fa=new Map,this.ga=new Set,this.pa=new ds(ia.comparator),this.ya=new Map,this.wa=new gh,this.Sa={},this.ba=new Map,this.Da=Kd.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function wp(e,t){const n=Hp(e);let r,i;const o=n.ma.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const e=await Vh(n.localStore,Fl(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await _p(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&kf(n.remoteStore,e)}return i}async function _p(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await qh(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return Np(e,t.targetId,s.Ta),s.snapshot}(e,t,n,r);const o=await qh(e.localStore,t,!0),a=new gp(t,o.ls),s=a.ca(o.documents),l=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);Np(e,n,c.Ta);const u=new vp(t,n,a);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function Sp(e,t){const n=Lo(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!Vl(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Bh(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Tf(n.remoteStore,r.targetId),Rp(n,r.targetId)})).catch(ga)):(Rp(n,r.targetId),await Bh(n.localStore,r.targetId,!0))}async function Ep(e,t){const n=Lo(e);try{const e=await function(e,t){const n=Lo(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.qr.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.qr.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(bs.EMPTY_BYTE_STRING,Zo.min()).withLastLimboFreeSnapshotVersion(Zo.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.qr.updateTargetData(e,c))}));let s=Yl(),l=oc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Uh(e,o,t.documentUpdates).next((e=>{s=e.us,l=e.cs}))),!r.isEqual(Zo.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return va.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(Oo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?Oo(r.Ra):e.removedDocuments.size>0&&(Oo(r.Ra),r.Ra=!1))})),await Lp(n,e,t)}catch(e){await ga(e)}}function Ip(e,t,n){const r=Lo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Lo(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&lp(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function kp(e,t,n){const r=Lo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),o=i&&i.key;if(o){let e=new ds(ia.comparator);e=e.insert(o,Js.newNoDocument(o,Zo.min()));const n=oc().add(o),i=new tu(Zo.min(),new Map,new ds($o),e,n);await Ep(r,i),r.pa=r.pa.remove(o),r.ya.delete(t),Op(r)}else await Bh(r.localStore,t,!1).then((()=>Rp(r,t,n))).catch(ga)}async function Tp(e,t){const n=Lo(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Lo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=va.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Oo(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=oc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Ap(n,r,null),Cp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lp(n,e)}catch(e){await ga(e)}}async function xp(e,t,n){const r=Lo(e);try{const e=await function(e,t){const n=Lo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Oo(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Ap(r,t,n),Cp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Lp(r,e)}catch(n){await ga(n)}}function Cp(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function Ap(e,t,n){const r=Lo(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function Rp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||Pp(e,t)}))}function Pp(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(Tf(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Op(e))}function Np(e,t,n){for(const r of n)r instanceof pp?(e.wa.addReference(r.key,t),Dp(e,r)):r instanceof mp?(Ao("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||Pp(e,r.key)):Do()}function Dp(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Ao("SyncEngine","New document in limbo: "+n),e.ga.add(r),Op(e))}function Op(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new ia(ta.fromString(t)),r=e.Da.next();e.ya.set(r,new yp(n)),e.pa=e.pa.insert(n,r),kf(e.remoteStore,new qu(Fl(Dl(n.path)),r,"TargetPurposeLimboResolution",Aa._e))}}async function Lp(e,t,n){const r=Lo(e),i=[],o=[],a=[];r.ma.isEmpty()||(r.ma.forEach(((e,s)=>{a.push(r.va(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Nh.Qi(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.Va.a_(i),await async function(e,t){const n=Lo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>va.forEach(t,(t=>va.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>va.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Sa(e))throw e;Ao("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function Mp(e,t){const n=Lo(e);if(!n.currentUser.isEqual(t)){Ao("SyncEngine","User change. New user:",t.toKey());const e=await Fh(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new Fo(Mo.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Lp(n,e._s)}}function Fp(e,t){const n=Lo(e),r=n.ya.get(t);if(r&&r.Ra)return oc().add(r.key);{let e=oc();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}async function jp(e,t){const n=Lo(e),r=await qh(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&Np(n,t.targetId,i.Ta),i}async function Up(e,t){const n=Lo(e);return Kh(n.localStore,t).then((e=>Lp(n,e)))}async function zp(e,t,n,r){const i=Lo(e),o=await function(e,t){const n=Lo(e),r=Lo(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):va.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await jf(i.remoteStore):"acknowledged"===n||"rejected"===n?(Ap(i,t,r||null),Cp(i,t),function(e,t){Lo(Lo(e).mutationQueue).Fn(t)}(i.localStore,t)):Do(),await Lp(i,o)):Ao("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Vp(e,t,n){const r=Lo(e),i=[],o=[];for(const a of t){let e;const t=r.fa.get(a);if(t&&0!==t.length){e=await Vh(r.localStore,Fl(t[0]));for(const e of t){const t=r.ma.get(e),n=await jp(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await Wh(r.localStore,a);e=await Vh(r.localStore,t),await _p(r,Bp(t),a,!1,e.resumeToken)}i.push(e)}return r.Va.a_(o),i}function Bp(e){return Nl(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function qp(e){return function(e){return Lo(Lo(e).persistence).Bi()}(Lo(e).localStore)}async function Wp(e,t,n,r){const i=Lo(e);if(i.Ca)return void Ao("SyncEngine","Ignoring unexpected query state notification.");const o=i.fa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await Kh(i.localStore,Kl(o[0])),r=tu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,bs.EMPTY_BYTE_STRING);await Lp(i,e,r);break}case"rejected":await Bh(i.localStore,t,!0),Rp(i,t,r);break;default:Do()}}async function Kp(e,t,n){const r=Hp(e);if(r.Ca){for(const e of t){if(r.fa.has(e)){Ao("SyncEngine","Adding an already active target "+e);continue}const t=await Wh(r.localStore,e),n=await Vh(r.localStore,t);await _p(r,Bp(t),n.targetId,!1,n.resumeToken),kf(r.remoteStore,n)}for(const e of n)r.fa.has(e)&&await Bh(r.localStore,e,!1).then((()=>{Tf(r.remoteStore,e),Rp(r,e)})).catch(ga)}}function Hp(e){const t=Lo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ep.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kp.bind(null,t),t.Va.a_=ap.bind(null,t.eventManager),t.Va.Fa=sp.bind(null,t.eventManager),t}function Gp(e){const t=Lo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Tp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xp.bind(null,t),t}class Qp{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Mh(this.persistence,new Oh,e.initialUser,this.serializer)}createPersistence(e){return new Sh(Ih.jr,this.serializer)}createSharedClientState(e){return new rf}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $p extends Qp{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await Gp(this.xa.syncEngine),await jf(this.xa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Mh(this.persistence,new Oh,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Jd(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Ca(t,this.persistence);return new xa(e.asyncQueue,n)}createPersistence(e){const t=Ph(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Fd.withCacheSize(this.cacheSizeBytes):Fd.DEFAULT;return new Ch(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ff(),pf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new rf}}class Yp extends $p{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof nf&&(this.sharedClientState.syncEngine={Ys:zp.bind(null,t),Zs:Wp.bind(null,t),Xs:Kp.bind(null,t),Bi:qp.bind(null,t),Js:Up.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=Lo(e);if(Hp(n),Gp(n),!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Vp(n,e.toArray());n.Ca=!0,await Qf(n.remoteStore,!0);for(const r of t)kf(n.remoteStore,r)}else if(!1===t&&!1!==n.Ca){const e=[];let t=Promise.resolve();n.fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Rp(n,i),Bh(n.localStore,i,!0)))),Tf(n.remoteStore,i)})),await t,await Vp(n,e),function(e){const t=Lo(e);t.ya.forEach(((e,n)=>{Tf(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new ds(ia.comparator)}(n),n.Ca=!1,await Qf(n.remoteStore,!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=ff();if(!nf.D(t))throw new Fo(Mo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Ph(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nf(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Xp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ip(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mp.bind(null,this.syncEngine),await Qf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new rp}createDatastore(e){const t=mf(e.databaseInfo.databaseId),n=function(e){return new hf(e)}(e.databaseInfo);return function(e,t,n,r){return new wf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Sf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Ip(this.syncEngine,e,0)),af.D()?new af:new of)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new bp(e,t,n,r,i,o);return a&&(s.Ca=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Lo(e);Ao("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await If(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}function Jp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Zp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Ro("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class em{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new jo,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(e=>this.metadata.reject(e)))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e),n=Number(t);isNaN(n)&&this.Qa("length string (".concat(t,") is not valid number"));const r=await this.Ka(n);return new up(JSON.parse(r),e.length+n)}$a(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class tm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Fo(Mo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Lo(e),r=ku(n.serializer)+"/documents",i={documents:t.map((e=>_u(n.serializer,e)))},o=await n.Co("BatchGetDocuments",r,i,t.length),a=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Oo(!!t.found),t.found.name,t.found.updateTime;const n=Su(e,t.found.name),r=yu(t.found.updateTime),i=t.found.createTime?yu(t.found.createTime):Zo.min(),o=new Ys({mapValue:{fields:t.found.fields}});return Js.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){Oo(!!t.missing),Oo(!!t.readTime);const n=Su(e,t.missing),r=yu(t.readTime);return Js.newNoDocument(n,r)}(e,t):Do()}(n.serializer,e);a.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=a.get(e.toString());Oo(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new jc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=ia.fromPath(t);this.mutations.push(new Uc(n,this.precondition(n)))})),await async function(e,t){const n=Lo(e),r=ku(n.serializer)+"/documents",i={writes:t.map((e=>Au(n.serializer,e)))};await n.wo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Do();t=Zo.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Fo(Mo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Zo.min())?kc.exists(!1):kc.updateTime(t):kc.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Zo.min()))throw new Fo(Mo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kc.updateTime(t)}return kc.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class nm{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Wa=n.maxAttempts,this.zo=new gf(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko((async()=>{const e=new tm(this.datastore),t=this.za(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ja(e)}))))})).catch((e=>{this.ja(e)}))}))}za(e){try{const t=this.updateFunction(e);return!Ra(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ga(),Promise.resolve())))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Hc(t)}return!1}}class rm{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ko.UNAUTHENTICATED,this.clientId=Qo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Ao("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ao("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fo(Mo.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Jf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function im(e,t){e.asyncQueue.verifyOperationInProgress(),Ao("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Fh(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function om(e,t){e.asyncQueue.verifyOperationInProgress();const n=await sm(e);Ao("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Gf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Gf(t.remoteStore,n))),e._onlineComponents=t}function am(e){return"FirebaseError"===e.name?e.code===Mo.FAILED_PRECONDITION||e.code===Mo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function sm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ao("FirestoreClient","Using user provided OfflineComponentProvider");try{await im(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!am(n))throw n;Po("Error using user provided cache. Falling back to memory cache: "+n),await im(e,new Qp)}}else Ao("FirestoreClient","Using default OfflineComponentProvider"),await im(e,new Qp);return e._offlineComponents}async function lm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ao("FirestoreClient","Using user provided OnlineComponentProvider"),await om(e,e._uninitializedComponentsProvider._online)):(Ao("FirestoreClient","Using default OnlineComponentProvider"),await om(e,new Xp))),e._onlineComponents}function cm(e){return sm(e).then((e=>e.persistence))}function um(e){return sm(e).then((e=>e.localStore))}function dm(e){return lm(e).then((e=>e.remoteStore))}function hm(e){return lm(e).then((e=>e.syncEngine))}function fm(e){return lm(e).then((e=>e.datastore))}async function pm(e){const t=await lm(e),n=t.eventManager;return n.onListen=wp.bind(null,t.syncEngine),n.onUnlisten=Sp.bind(null,t.syncEngine),n}function mm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new jo;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Zp({next:o=>{t.enqueueAndForget((()=>op(e,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new Fo(Mo.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Fo(Mo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new cp(Dl(n.path),o,{includeMetadataChanges:!0,J_:!0});return ip(e,a)}(await pm(e),e.asyncQueue,t,n,r))),r.promise}function gm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new jo;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Zp({next:n=>{t.enqueueAndForget((()=>op(e,a))),n.fromCache&&"server"===r.source?i.reject(new Fo(Mo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new cp(n,o,{includeMetadataChanges:!0,J_:!0});return ip(e,a)}(await pm(e),e.asyncQueue,t,n,r))),r.promise}function vm(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?$c().encode(e):e,function(e,t){return new em(e,t)}(function(e,t){if(e instanceof Uint8Array)return Jp(e,t);if(e instanceof ArrayBuffer)return Jp(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,mf(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Lo(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Lo(e),r=yu(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(fp(r));const i=new hp(r,e.localStore,t.serializer);let o=await t.Ma();for(;o;){const e=await i.ea(o);e&&n._updateProgress(e),o=await t.Ma()}const a=await i.complete();return await Lp(e,a.ra,void 0),await function(e,t){const n=Lo(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.na)}catch(e){return Po("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await hm(e),i,r)}))}function ym(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const bm=new Map;function wm(e,t,n){if(!n)throw new Fo(Mo.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function _m(e,t,n,r){if(!0===t&&!0===r)throw new Fo(Mo.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Sm(e){if(!ia.isDocumentKey(e))throw new Fo(Mo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Em(e){if(ia.isDocumentKey(e))throw new Fo(Mo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Im(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Do()}function km(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fo(Mo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Im(e);throw new Fo(Mo.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Tm(e,t){if(t<=0)throw new Fo(Mo.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class xm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Fo(Mo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fo(Mo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_m("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ym(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Fo(Mo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Fo(Mo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Fo(Mo.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fo(Mo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fo(Mo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zo;switch(e.type){case"firstParty":return new Wo(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Fo(Mo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bm.get(e);t&&(Ao("ComponentProvider","Removing Datastore"),bm.delete(e),t.terminate())}(this),Promise.resolve()}}function Am(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=km(e,Cm))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ko.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Fo(Mo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ko(o)}e._authCredentials=new Vo(new Uo(t,n))}}class Rm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Rm(this.firestore,e,this._query)}}class Pm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pm(this.firestore,e,this._key)}}class Nm extends Rm{constructor(e,t,n){super(e,t,Dl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pm(this.firestore,null,new ia(e))}withConverter(e){return new Nm(this.firestore,e,this._path)}}function Dm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=z(e),wm("collection","path",t),e instanceof Cm){const n=ta.fromString(t,...r);return Em(n),new Nm(e,null,n)}{if(!(e instanceof Pm||e instanceof Nm))throw new Fo(Mo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ta.fromString(t,...r));return Em(n),new Nm(e.firestore,null,n)}}function Om(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=z(e),1===arguments.length&&(t=Qo.newId()),wm("doc","path",t),e instanceof Cm){const n=ta.fromString(t,...r);return Sm(n),new Pm(e,null,new ia(n))}{if(!(e instanceof Pm||e instanceof Nm))throw new Fo(Mo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ta.fromString(t,...r));return Sm(n),new Pm(e.firestore,e instanceof Nm?e.converter:null,new ia(n))}}function Lm(e,t){return e=z(e),t=z(t),(e instanceof Pm||e instanceof Nm)&&(t instanceof Pm||t instanceof Nm)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Mm(e,t){return e=z(e),t=z(t),e instanceof Rm&&t instanceof Rm&&e.firestore===t.firestore&&Vl(e._query,t._query)&&e.converter===t.converter}class Fm{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new gf(this,"async_queue_retry"),this.iu=()=>{const e=pf();e&&Ao("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=pf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=pf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new jo;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Sa(e))throw e;Ao("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ro("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=Xf.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&Do()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function jm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Um{constructor(){this._progressObserver={},this._taskCompletionResolver=new jo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class zm extends Cm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Fm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Bm(this),this._firestoreClient.terminate()}}function Vm(e){return e._firestoreClient||Bm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Bm(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new xs(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ym(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new rm(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function qm(e,t,n){const r=new jo;return e.asyncQueue.enqueue((async()=>{try{await im(e,n),await om(e,t),r.resolve()}catch(e){const n=e;if(!am(n))throw n;Po("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function Wm(e){return function(e){const t=new jo;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Lo(e);Pf(n.remoteStore)||Ao("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Lo(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ba.get(e)||[];r.push(t),n.ba.set(e,r)}catch(e){const n=Jf(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await hm(e),t))),t.promise}(Vm(e=km(e,zm)))}function Km(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await cm(e),n=await dm(e);return t.setNetworkEnabled(!0),function(e){const t=Lo(e);return t.C_.delete(0),Ef(t)}(n)}))}(Vm(e=km(e,zm)))}function Hm(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await cm(e),n=await dm(e);return t.setNetworkEnabled(!1),async function(e){const t=Lo(e);t.C_.add(0),await If(t),t.M_.set("Offline")}(n)}))}(Vm(e=km(e,zm)))}function Gm(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Lo(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await um(e),t)))}(Vm(e=km(e,zm)),t).then((t=>t?new Rm(e,null,t.query):null))}function Qm(e){if(e._initialized||e._terminated)throw new Fo(Mo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $m{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $m(bs.fromBase64String(e))}catch(e){throw new Fo(Mo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new $m(bs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ym{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Fo(Mo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ra(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xm{constructor(e){this._methodName=e}}class Jm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fo(Mo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fo(Mo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $o(this._lat,e._lat)||$o(this._long,e._long)}}const Zm=/^__.*__$/;class eg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dc(e,this.data,t,this.fieldTransforms)}}class tg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ng(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Do()}}class rg{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new rg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Eg(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(ng(this.Iu)&&Zm.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class ig{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||mf(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new rg({Iu:e,methodName:t,gu:n,path:ra.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function og(e){const t=e._freezeSettings(),n=mf(e._databaseId);return new ig(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ag(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.pu(o.merge||o.mergeFields?2:0,t,n,i);bg("Data must be an object, but it was:",a,r);const s=vg(r,a);let l,c;if(o.merge)l=new vs(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=wg(t,r,n);if(!a.contains(i))throw new Fo(Mo.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ig(e,i)||e.push(i)}l=new vs(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new eg(new Ys(s),l,c)}class sg extends Xm{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sg}}function lg(e,t,n){return new rg({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class cg extends Xm{_toFieldTransform(e){return new Ec(e.path,new mc)}isEqual(e){return e instanceof cg}}class ug extends Xm{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=lg(this,e,!0),n=this.yu.map((e=>gg(e,t))),r=new gc(n);return new Ec(e.path,r)}isEqual(e){return this===e}}class dg extends Xm{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=lg(this,e,!0),n=this.yu.map((e=>gg(e,t))),r=new yc(n);return new Ec(e.path,r)}isEqual(e){return this===e}}class hg extends Xm{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new wc(e.serializer,uc(e.serializer,this.wu));return new Ec(e.path,t)}isEqual(e){return this===e}}function fg(e,t,n,r){const i=e.pu(1,t,n);bg("Data must be an object, but it was:",i,r);const o=[],a=Ys.empty();cs(r,((e,r)=>{const s=Sg(t,e,n);r=z(r);const l=i.Ru(s);if(r instanceof sg)o.push(s);else{const e=gg(r,l);null!=e&&(o.push(s),a.set(s,e))}}));const s=new vs(o);return new tg(a,s,i.fieldTransforms)}function pg(e,t,n,r,i,o){const a=e.pu(1,t,n),s=[wg(t,r,n)],l=[i];if(o.length%2!=0)throw new Fo(Mo.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)s.push(wg(t,o[h])),l.push(o[h+1]);const c=[],u=Ys.empty();for(let h=s.length-1;h>=0;--h)if(!Ig(c,s[h])){const e=s[h];let t=l[h];t=z(t);const n=a.Ru(e);if(t instanceof sg)c.push(e);else{const r=gg(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new vs(c);return new tg(u,d,a.fieldTransforms)}function mg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return gg(n,e.pu(r?4:3,t))}function gg(e,t){if(yg(e=z(e)))return bg("Unsupported field value:",t,e),vg(e,t);if(e instanceof Xm)return function(e,t){if(!ng(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=gg(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=z(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return uc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Jo.fromDate(e);return{timestampValue:mu(t.serializer,n)}}if(e instanceof Jo){const n=new Jo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:mu(t.serializer,n)}}if(e instanceof Jm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $m)return{bytesValue:gu(t.serializer,e._byteString)};if(e instanceof Pm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:bu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(Im(e)))}(e,t)}function vg(e,t){const n={};return us(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cs(e,((e,r)=>{const i=gg(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Jo||e instanceof Jm||e instanceof $m||e instanceof Pm||e instanceof Xm)}function bg(e,t,n){if(!yg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Im(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function wg(e,t,n){if((t=z(t))instanceof Ym)return t._internalPath;if("string"==typeof t)return Sg(e,t);throw Eg("Field path arguments must be of type string or ",e,!1,void 0,n)}const _g=new RegExp("[~\\*/\\[\\]]");function Sg(e,t,n){if(t.search(_g)>=0)throw Eg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ym(...t.split("."))._internalPath}catch(gt){throw Eg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Eg(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Fo(Mo.INVALID_ARGUMENT,s+e+l)}function Ig(e,t){return e.some((e=>e.isEqual(t)))}class kg{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Tg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Tg extends kg{data(){return super.data()}}function xg(e,t){return"string"==typeof t?Sg(e,t):t instanceof Ym?t._internalPath:t._delegate._internalPath}function Cg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Fo(Mo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ag{}class Rg extends Ag{}function Pg(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Ag&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Dg)).length,n=e.filter((e=>e instanceof Ng)).length;if(t>1||t>0&&n>0)throw new Fo(Mo.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Ng extends Rg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ng(e,t,n)}_apply(e){const t=this._parse(e);return Vg(e._query,t),new Rm(e.firestore,e.converter,Ul(e._query,t))}_parse(e){const t=og(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Fo(Mo.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){zg(a,o);const t=[];for(const n of a)t.push(Ug(r,e,n));s={arrayValue:{values:t}}}else s=Ug(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||zg(a,o),s=mg(n,t,a,"in"===o||"not-in"===o);return ol.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Dg extends Ag{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dg(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:al.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Vg(n,i),n=Ul(n,i)}(e._query,t),new Rm(e.firestore,e.converter,Ul(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Og extends Rg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Og(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Fo(Mo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Fo(Mo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nl(t,n)}(e._query,this._field,this._direction);return new Rm(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Pl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Lg extends Rg{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Lg(e,t,n)}_apply(e){return new Rm(e.firestore,e.converter,zl(e._query,this._limit,this._limitType))}}class Mg extends Rg{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Mg(e,t,n)}_apply(e){const t=jg(e,this.type,this._docOrFields,this._inclusive);return new Rm(e.firestore,e.converter,function(e,t){return new Pl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Fg extends Rg{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Fg(e,t,n)}_apply(e){const t=jg(e,this.type,this._docOrFields,this._inclusive);return new Rm(e.firestore,e.converter,function(e,t){return new Pl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function jg(e,t,n,r){if(n[0]=z(n[0]),n[0]instanceof kg)return function(e,t,n,r,i){if(!r)throw new Fo(Mo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const a of Ml(e))if(a.field.isKeyField())o.push(js(t,r.key));else{const e=r.data.field(a.field);if(Is(e))throw new Fo(Mo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new Fo(Mo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Zs(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=og(e.firestore);return function(e,t,n,r,i,o){const a=e.explicitOrderBy;if(i.length>a.length)throw new Fo(Mo.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const s=[];for(let l=0;l<i.length;l++){const o=i[l];if(a[l].field.isKeyField()){if("string"!=typeof o)throw new Fo(Mo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!Ll(e)&&-1!==o.indexOf("/"))throw new Fo(Mo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(ta.fromString(o));if(!ia.isDocumentKey(n))throw new Fo(Mo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new ia(n);s.push(js(t,i))}else{const e=mg(n,r,o);s.push(e)}}return new Zs(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Ug(e,t,n){if("string"==typeof(n=z(n))){if(""===n)throw new Fo(Mo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ll(t)&&-1!==n.indexOf("/"))throw new Fo(Mo.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(ta.fromString(n));if(!ia.isDocumentKey(r))throw new Fo(Mo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return js(e,new ia(r))}if(n instanceof Pm)return js(e,n._key);throw new Fo(Mo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Im(n),"."))}function zg(e,t){if(!Array.isArray(e)||0===e.length)throw new Fo(Mo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Vg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Fo(Mo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Fo(Mo.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Bg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ss(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Do()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return cs(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Jm(Ss(e.latitude),Ss(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ks(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ts(e));default:return null}}convertTimestamp(e){const t=_s(e);return new Jo(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ta.fromString(e);Oo(Bu(n));const r=new Cs(n.get(1),n.get(3)),i=new ia(n.popFirst(5));return r.isEqual(t)||Ro("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function qg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Wg extends Bg{constructor(e){super(),this.firestore=e}convertBytes(e){return new $m(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pm(this.firestore,null,t)}}class Kg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hg extends kg{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Gg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(xg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Gg extends Hg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Qg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Kg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Gg(this._firestore,this._userDataWriter,n.key,n,new Kg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Fo(Mo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Gg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Kg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Gg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:$g(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function $g(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Do()}}function Yg(e,t){return e instanceof Hg&&t instanceof Hg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Qg&&t instanceof Qg&&e._firestore===t._firestore&&Mm(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class Xg extends Bg{constructor(e){super(),this.firestore=e}convertBytes(e){return new $m(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pm(this.firestore,null,t)}}function Jg(e){e=km(e,Pm);const t=km(e.firestore,zm),n=Vm(t),r=new Xg(t);return function(e,t){const n=new jo;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Lo(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Fo(Mo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Jf(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await um(e),t,n))),n.promise}(n,e._key).then((n=>new Hg(t,r,e._key,n,new Kg(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Zg(e){e=km(e,Rm);const t=km(e.firestore,zm),n=Vm(t),r=new Xg(t);return function(e,t){const n=new jo;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await qh(e,t,!0),i=new gp(t,r.ls),o=i.ca(r.documents),a=i.applyChanges(o,!1);n.resolve(a.snapshot)}catch(e){const r=Jf(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await um(e),t,n))),n.promise}(n,e._query).then((n=>new Qg(t,r,e,n)))}function ev(e,t,n){e=km(e,Pm);const r=km(e.firestore,zm),i=qg(e.converter,t,n);return iv(r,[ag(og(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,kc.none())])}function tv(e,t,n){e=km(e,Pm);const r=km(e.firestore,zm),i=og(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=z(t))||t instanceof Ym?pg(i,"updateDoc",e._key,t,n,s):fg(i,"updateDoc",e._key,t),iv(r,[o.toMutation(e._key,kc.exists(!0))])}function nv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=z(e);let s={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||jm(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges};if(jm(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof Pm)d=km(e.firestore,zm),h=Dl(e._key.path),u={next:t=>{n[l]&&n[l](ov(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=km(e,Rm);d=km(t.firestore,zm),h=t._query;const r=new Xg(d);u={next:e=>{n[l]&&n[l](new Qg(d,r,t,e))},error:n[l+1],complete:n[l+2]},Cg(e._query)}return function(e,t,n,r){const i=new Zp(r),o=new cp(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>ip(await pm(e),o))),()=>{i.Na(),e.asyncQueue.enqueueAndForget((async()=>op(await pm(e),o)))}}(Vm(d),h,c,u)}function rv(e,t){return function(e,t){const n=new Zp(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Lo(e).q_.add(t),t.next()}(await pm(e),n))),()=>{n.Na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Lo(e).q_.delete(t)}(await pm(e),n)))}}(Vm(e=km(e,zm)),jm(t)?t:{next:t})}function iv(e,t){return function(e,t){const n=new jo;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Gp(e);try{const e=await function(e,t){const n=Lo(e),r=Jo.now(),i=t.reduce(((e,t)=>e.add(t.key)),oc());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=Yl(),l=oc();return n.ss.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=Pc(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Oc(e.key,t,Xs(t.value.mapValue),kc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Zl(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new ds($o)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Lp(r,e.changes),await jf(r.remoteStore)}catch(e){const t=Jf(e,"Failed to persist write");n.reject(t)}}(await hm(e),t,n))),n.promise}(Vm(e),t)}function ov(e,t,n){const r=n.docs.get(t._key),i=new Xg(e);return new Hg(e,i,t._key,r,new Kg(n.hasPendingWrites,n.fromCache),t.converter)}const av={maxAttempts:5};class sv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=og(e)}set(e,t,n){this._verifyNotCommitted();const r=lv(e,this._firestore),i=qg(r.converter,t,n),o=ag(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,kc.none())),this}update(e,t,n){this._verifyNotCommitted();const r=lv(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=z(t))||t instanceof Ym?pg(this._dataReader,"WriteBatch.update",r._key,t,n,a):fg(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,kc.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=lv(e,this._firestore);return this._mutations=this._mutations.concat(new jc(t._key,kc.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fo(Mo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lv(e,t){if((e=z(e)).firestore!==t)throw new Fo(Mo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class cv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=og(e)}get(e){const t=lv(e,this._firestore),n=new Wg(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Do();const r=e[0];if(r.isFoundDocument())return new kg(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new kg(this._firestore,n,t._key,null,t.converter);throw Do()}))}set(e,t,n){const r=lv(e,this._firestore),i=qg(r.converter,t,n),o=ag(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=lv(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=z(t))||t instanceof Ym?pg(this._dataReader,"Transaction.update",r._key,t,n,a):fg(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=lv(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=lv(e,this._firestore),n=new Xg(this._firestore);return super.get(e).then((e=>new Hg(this._firestore,n,t._key,e._document,new Kg(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){To=e}(Ne),Te(new V("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new zm(new Bo(e.getProvider("auth-internal")),new Ho(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fo(Mo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cs(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Fe(Io,"4.4.0",e),Fe(Io,"4.4.0","esm2017")}();function uv(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Fo("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function dv(){if("undefined"===typeof Uint8Array)throw new Fo("unimplemented","Uint8Arrays are not available in this environment.")}function hv(){if("undefined"==typeof atob)throw new Fo("unimplemented","Blobs are unavailable in Firestore in this environment.")}class fv{constructor(e){this._delegate=e}static fromBase64String(e){return hv(),new fv($m.fromBase64String(e))}static fromUint8Array(e){return dv(),new fv($m.fromUint8Array(e))}toBase64(){return hv(),this._delegate.toBase64()}toUint8Array(){return dv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pv(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class mv{enableIndexedDbPersistence(e,t){return function(e,t){Qm(e=km(e,zm));const n=Vm(e);if(n._uninitializedComponentsProvider)throw new Fo(Mo.FAILED_PRECONDITION,"SDK cache is already specified.");Po("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Xp;return qm(n,i,new $p(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Qm(e=km(e,zm));const t=Vm(e);if(t._uninitializedComponentsProvider)throw new Fo(Mo.FAILED_PRECONDITION,"SDK cache is already specified.");Po("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new Xp;return qm(t,r,new Yp(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Fo(Mo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new jo;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!ba.D())return Promise.resolve();const t=e+"main";await ba.delete(t)}(Ph(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class gv{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Cs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Po("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Am(this._delegate,e,t,n)}enableNetwork(){return Km(this._delegate)}disableNetwork(){return Hm(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,_m("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Wm(this._delegate)}onSnapshotsInSync(e){return rv(this._delegate,e)}get app(){if(!this._appCompat)throw new Fo("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Rv(this,Dm(this._delegate,e))}catch(t){throw Sv(t,"collection()","Firestore.collection()")}}doc(e){try{return new _v(this,Om(this._delegate,e))}catch(t){throw Sv(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xv(this,function(e,t){if(e=km(e,Cm),wm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Fo(Mo.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Rm(e,null,function(e){return new Pl(ta.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Sv(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=km(e,zm);const r=Object.assign(Object.assign({},av),n);return function(e){if(e.maxAttempts<1)throw new Fo(Mo.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new jo;return e.asyncQueue.enqueueAndForget((async()=>{const i=await fm(e);new nm(e.asyncQueue,i,n,t,r).run()})),r.promise}(Vm(e),(n=>t(new cv(e,n))),r)}(this._delegate,(t=>e(new yv(this,t))))}batch(){return Vm(this._delegate),new bv(new sv(this._delegate,(e=>iv(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Vm(e=km(e,zm)),r=new Um;return vm(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return Gm(this._delegate,e).then((e=>e?new xv(this,e):null))}}class vv extends Bg{constructor(e){super(),this.firestore=e}convertBytes(e){return new fv(new $m(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return _v.forKey(t,this.firestore,null)}}class yv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vv(e)}get(e){const t=Pv(e);return this._delegate.get(t).then((e=>new kv(this._firestore,new Hg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Pv(e);return n?(uv("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const a=Pv(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=Pv(e);return this._delegate.delete(t),this}}class bv{constructor(e){this._delegate=e}set(e,t,n){const r=Pv(e);return n?(uv("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const a=Pv(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=Pv(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class wv{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Gg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Tv(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=wv.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new wv(e,new vv(e),t),r.set(t,i)),i}}wv.INSTANCES=new WeakMap;class _v{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vv(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Fo("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new _v(t,new Pm(t._delegate,n,new ia(e)))}static forKey(e,t,n){return new _v(t,new Pm(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Rv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Rv(this.firestore,Dm(this._delegate,e))}catch(t){throw Sv(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=z(e))instanceof Pm&&Lm(this._delegate,e)}set(e,t){t=uv("DocumentReference.set",t);try{return t?ev(this._delegate,e,t):ev(this._delegate,e)}catch(n){throw Sv(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?tv(this._delegate,e):tv(this._delegate,e,t,...r)}catch(o){throw Sv(o,"updateDoc()","DocumentReference.update()")}}delete(){return iv(km((e=this._delegate).firestore,zm),[new jc(e._key,kc.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Ev(t),i=Iv(t,(e=>new kv(this.firestore,new Hg(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return nv(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Jg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=km(e,Pm);const t=km(e.firestore,zm);return mm(Vm(t),e._key,{source:"server"}).then((n=>ov(t,e,n)))}(this._delegate):function(e){e=km(e,Pm);const t=km(e.firestore,zm);return mm(Vm(t),e._key).then((n=>ov(t,e,n)))}(this._delegate),t.then((e=>new kv(this.firestore,new Hg(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new _v(this.firestore,e?this._delegate.withConverter(wv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Sv(e,t,n){return e.message=e.message.replace(t,n),e}function Ev(e){for(const t of e)if("object"===typeof t&&!pv(t))return t;return{}}function Iv(e,t){var n,r;let i;return i=pv(e[0])?e[0]:pv(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class kv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new _v(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Yg(this._delegate,e._delegate)}}class Tv extends kv{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Do(),t}}class xv{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vv(e)}where(e,t,n){try{return new xv(this.firestore,Pg(this._delegate,function(e,t,n){const r=t,i=xg("where",e);return Ng._create(i,r,n)}(e,t,n)))}catch(r){throw Sv(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xv(this.firestore,Pg(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=xg("orderBy",e);return Og._create(n,t)}(e,t)))}catch(n){throw Sv(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xv(this.firestore,Pg(this._delegate,(Tm("limit",t=e),Lg._create("limit",t,"F"))))}catch(t){throw Sv(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new xv(this.firestore,Pg(this._delegate,(Tm("limitToLast",t=e),Lg._create("limitToLast",t,"L"))))}catch(t){throw Sv(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new xv(this.firestore,Pg(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Mg._create("startAt",t,!0)}(...arguments)))}catch(e){throw Sv(e,"startAt()","Query.startAt()")}}startAfter(){try{return new xv(this.firestore,Pg(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Mg._create("startAfter",t,!1)}(...arguments)))}catch(e){throw Sv(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new xv(this.firestore,Pg(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fg._create("endBefore",t,!1)}(...arguments)))}catch(e){throw Sv(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new xv(this.firestore,Pg(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fg._create("endAt",t,!0)}(...arguments)))}catch(e){throw Sv(e,"endAt()","Query.endAt()")}}isEqual(e){return Mm(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Zg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=km(e,Rm);const t=km(e.firestore,zm),n=Vm(t),r=new Xg(t);return gm(n,e._query,{source:"server"}).then((n=>new Qg(t,r,e,n)))}(this._delegate):function(e){e=km(e,Rm);const t=km(e.firestore,zm),n=Vm(t),r=new Xg(t);return Cg(e._query),gm(n,e._query).then((n=>new Qg(t,r,e,n)))}(this._delegate),t.then((e=>new Av(this.firestore,new Qg(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Ev(t),i=Iv(t,(e=>new Av(this.firestore,new Qg(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return nv(this._delegate,r,i)}withConverter(e){return new xv(this.firestore,e?this._delegate.withConverter(wv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Cv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Tv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Av{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xv(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Tv(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Cv(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Tv(this._firestore,n))}))}isEqual(e){return Yg(this._delegate,e._delegate)}}class Rv extends xv{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new _v(this.firestore,e):null}doc(e){try{return new _v(this.firestore,void 0===e?Om(this._delegate):Om(this._delegate,e))}catch(t){throw Sv(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=km(e.firestore,zm),r=Om(e),i=qg(e.converter,t);return iv(n,[ag(og(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,kc.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new _v(this.firestore,e)))}isEqual(e){return Lm(this._delegate,e._delegate)}withConverter(e){return new Rv(this.firestore,e?this._delegate.withConverter(wv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Pv(e){return km(e,Pm)}class Nv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new Ym(...t)}static documentId(){return new Nv(ra.keyField().canonicalString())}isEqual(e){return(e=z(e))instanceof Ym&&this._delegate._internalPath.isEqual(e._internalPath)}}class Dv{constructor(e){this._delegate=e}static serverTimestamp(){const e=new cg("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Dv(e)}static delete(){const e=new sg("deleteField");return e._methodName="FieldValue.delete",new Dv(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ug("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new Dv(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dg("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new Dv(e)}static increment(e){const t=new hg("increment",e);return t._methodName="FieldValue.increment",new Dv(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ov={Firestore:gv,GeoPoint:Jm,Timestamp:Jo,Blob:fv,Transaction:yv,WriteBatch:bv,DocumentReference:_v,DocumentSnapshot:kv,Query:xv,QueryDocumentSnapshot:Tv,QuerySnapshot:Av,CollectionReference:Rv,FieldPath:Nv,FieldValue:Dv,setLogLevel:function(e){var t;t=e,xo.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var Lv;(function(e,t){e.INTERNAL.registerComponent(new V("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Ov)))})(Lv=nt,((e,t)=>new gv(e,t,new mv))),Lv.registerVersion("@firebase/firestore-compat","0.3.23");function Mv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Fv={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},jv="EMAIL_SIGNIN",Uv="PASSWORD_RESET",zv="RECOVER_EMAIL",Vv="REVERT_SECOND_FACTOR_ADDITION",Bv="VERIFY_AND_CHANGE_EMAIL",qv="VERIFY_EMAIL";function Wv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Kv=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Hv=Wv,Gv=new I("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qv=new J("@firebase/auth");function $v(e){if(Qv.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Qv.error("Auth (".concat(Ne,"): ").concat(e),...n)}}function Yv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ey(e,...n)}function Xv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ey(e,...n)}function Jv(e,t,n){const r=Object.assign(Object.assign({},Hv()),{[t]:n});return new I("auth","Firebase",r).create(t,{appName:e.name})}function Zv(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Yv(e,"argument-error"),Jv(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ey(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Gv.create(e,...n)}function ty(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ey(t,...r)}}function ny(e){const t="INTERNAL ASSERTION FAILED: "+e;throw $v(t),new Error(t)}function ry(e,t){e||ny(t)}function iy(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function oy(){return"http:"===ay()||"https:"===ay()}function ay(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class sy{constructor(e,t){this.shortDelay=e,this.longDelay=t,ry(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())||y()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(oy()||v()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ly(e,t){ry(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class cy{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ny("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ny("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ny("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uy={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},dy=new sy(3e4,6e4);function hy(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function fy(e,t,n,r){return py(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=A(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),cy.fetch()(gy(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function py(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},uy),t);try{const t=new yy(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw by(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw by(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw by(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw by(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Jv(e,s,a);Yv(e,s)}}catch(i){if(i instanceof E)throw i;Yv(e,"network-request-failed",{message:String(i)})}}async function my(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await fy(e,t,n,r,i);return"mfaPendingCredential"in o&&Yv(e,"multi-factor-auth-required",{_serverResponse:o}),o}function gy(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ly(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function vy(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yy{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Xv(this.auth,"network-request-failed"))),dy.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function by(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xv(e,t,r);return i.customData._tokenResponse=n,i}function wy(e){return void 0!==e&&void 0!==e.getResponse}function _y(e){return void 0!==e&&void 0!==e.enterprise}class Sy{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return vy(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Ey(e,t){return fy(e,"GET","/v2/recaptchaConfig",hy(e,t))}function Iy(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function ky(e){return 1e3*Number(e)}function Ty(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return $v("JWT malformed, contained fewer than 3 sections"),null;try{const e=c(n);return e?JSON.parse(e):($v("Failed to decode base64 JWT payload"),null)}catch(i){return $v("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function xy(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof E&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Cy{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Ay{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iy(this.lastLoginAt),this.creationTime=Iy(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ry(e){var t;const n=e.auth,r=await e.getIdToken(),i=await xy(e,async function(e,t){return fy(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));ty(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Mv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Ay(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class Py{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ty(e.idToken,"internal-error"),ty("undefined"!==typeof e.idToken,"internal-error"),ty("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Ty(e);return ty(t,"internal-error"),ty("undefined"!==typeof t.exp,"internal-error"),ty("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ty(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await py(e,{},(async()=>{const n=A({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=gy(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",cy.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Py;return n&&(ty("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(ty("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(ty("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Py,this.toJSON())}_performRefresh(){return ny("not implemented")}}function Ny(e,t){ty("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Dy{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Mv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ay(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await xy(this,this.stsTokenManager.getToken(this.auth,e));return ty(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=z(e),r=await n.getIdToken(t),i=Ty(r);ty(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Iy(ky(i.auth_time)),issuedAtTime:Iy(ky(i.iat)),expirationTime:Iy(ky(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=z(e);await Ry(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ty(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dy(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ty(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ry(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await xy(this,async function(e,t){return fy(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:S}=t;ty(y&&S,e,"internal-error");const E=Py.fromJSON(this.name,S);ty("string"===typeof y,e,"internal-error"),Ny(u,e.name),Ny(d,e.name),ty("boolean"===typeof b,e,"internal-error"),ty("boolean"===typeof w,e,"internal-error"),Ny(h,e.name),Ny(f,e.name),Ny(p,e.name),Ny(m,e.name),Ny(g,e.name),Ny(v,e.name);const I=new Dy({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Py;r.updateFromServerResponse(t);const i=new Dy({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ry(i),i}}const Oy=new Map;function Ly(e){ry(e instanceof Function,"Expected a class definition");let t=Oy.get(e);return t?(ry(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Oy.set(e,t),t)}class My{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}My.type="NONE";const Fy=My;function jy(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Uy{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=jy(this.userKey,r.apiKey,i),this.fullPersistenceKey=jy("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dy._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Uy(Ly(Fy),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Ly(Fy);const o=jy(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=Dy._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Uy(i,e,n)):new Uy(i,e,n)}}function zy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Wy(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Vy(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hy(t))return"Blackberry";if(Gy(t))return"Webos";if(By(t))return"Safari";if((t.includes("chrome/")||qy(t))&&!t.includes("edge/"))return"Chrome";if(Ky(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Vy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/firefox\//i.test(e)}function By(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:m()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/crios\//i.test(e)}function Wy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/iemobile/i.test(e)}function Ky(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/android/i.test(e)}function Hy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/blackberry/i.test(e)}function Gy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/webos/i.test(e)}function Qy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function $y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return Qy(e)||Ky(e)||Gy(e)||Hy(e)||/windows phone/i.test(e)||Wy(e)}function Yy(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=zy(m());break;case"Worker":t="".concat(zy(m()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ne,"/").concat(r)}class Xy{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Jy{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Zy{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tb(this),this.idTokenSubscription=new tb(this),this.beforeStateQueue=new Xy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ly(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Uy.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ty(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ry(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?z(e):null;return t&&ty(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ty(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Ly(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return fy(e,"GET","/v2/passwordPolicy",hy(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Jy(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new I("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return fy(e,"POST","/v2/accounts:revokeToken",hy(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ly(e)||this._popupRedirectResolver;ty(t,this,"argument-error"),this.redirectPersistenceManager=await Uy.create(this,[Ly(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ty(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ty(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Qv.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Qv.warn("Auth (".concat(Ne,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function eb(e){return z(e)}class tb{constructor(e){this.auth=e,this.observer=null,this.addObserver=N((e=>this.observer=e))}get next(){return ty(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nb(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Xv("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function rb(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ib{constructor(e){this.type="recaptcha-enterprise",this.auth=eb(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;_y(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Ey(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Sy(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&_y(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));nb("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ob(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ib(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ab(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ob(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await ob(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function sb(e,t,n){const r=eb(e);ty(r._canInitEmulator,r,"emulator-config-failed"),ty(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=lb(t),{host:a,port:s}=function(e){const t=lb(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:cb(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:cb(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(o,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function lb(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function cb(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ub{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ny("not implemented")}_getIdTokenResponse(e){return ny("not implemented")}_linkToIdToken(e,t){return ny("not implemented")}_getReauthenticationResolver(e){return ny("not implemented")}}async function db(e,t){return fy(e,"POST","/v1/accounts:resetPassword",hy(e,t))}async function hb(e,t){return fy(e,"POST","/v1/accounts:signUp",t)}async function fb(e,t){return my(e,"POST","/v1/accounts:signInWithPassword",hy(e,t))}async function pb(e,t){return fy(e,"POST","/v1/accounts:sendOobCode",hy(e,t))}async function mb(e,t){return pb(e,t)}async function gb(e,t){return pb(e,t)}class vb extends ub{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new vb(e,t,"password")}static _fromEmailAndCode(e,t){return new vb(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ab(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",fb);case"emailLink":return async function(e,t){return my(e,"POST","/v1/accounts:signInWithEmailLink",hy(e,t))}(e,{email:this._email,oobCode:this._password});default:Yv(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ab(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hb);case"emailLink":return async function(e,t){return my(e,"POST","/v1/accounts:signInWithEmailLink",hy(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Yv(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yb(e,t){return my(e,"POST","/v1/accounts:signInWithIdp",hy(e,t))}class bb extends ub{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bb(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yv("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Mv(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new bb(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return yb(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,yb(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yb(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=A(t)}return e}}const wb={USER_NOT_FOUND:"user-not-found"};class _b extends ub{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new _b({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new _b({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return my(e,"POST","/v1/accounts:signInWithPhoneNumber",hy(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await my(e,"POST","/v1/accounts:signInWithPhoneNumber",hy(e,t));if(n.temporaryProof)throw by(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return my(e,"POST","/v1/accounts:signInWithPhoneNumber",hy(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),wb)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new _b({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Sb{constructor(e){var t,n,r,i,o,a;const s=R(P(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);ty(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=R(P(e)).link,n=t?R(P(t)).deep_link_id:null,r=R(P(e)).deep_link_id;return(r?R(P(r)).link:null)||r||n||t||e}(e);try{return new Sb(t)}catch(n){return null}}}class Eb{constructor(){this.providerId=Eb.PROVIDER_ID}static credential(e,t){return vb._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Sb.parseLink(t);return ty(n,"argument-error"),vb._fromEmailAndCode(e,n.code,n.tenantId)}}Eb.PROVIDER_ID="password",Eb.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Eb.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ib{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class kb extends Ib{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Tb extends kb{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return ty("providerId"in t&&"signInMethod"in t,"argument-error"),bb._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ty(e.idToken||e.accessToken,"argument-error"),bb._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Tb.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Tb.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:a,providerId:s}=t;if(!r&&!i&&!n&&!o)return null;if(!s)return null;try{return new Tb(s)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:o})}catch(l){return null}}}class xb extends kb{constructor(){super("facebook.com")}static credential(e){return bb._fromParams({providerId:xb.PROVIDER_ID,signInMethod:xb.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xb.credentialFromTaggedObject(e)}static credentialFromError(e){return xb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xb.credential(t.oauthAccessToken)}catch(n){return null}}}xb.FACEBOOK_SIGN_IN_METHOD="facebook.com",xb.PROVIDER_ID="facebook.com";class Cb extends kb{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bb._fromParams({providerId:Cb.PROVIDER_ID,signInMethod:Cb.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Cb.credentialFromTaggedObject(e)}static credentialFromError(e){return Cb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Cb.credential(n,r)}catch(i){return null}}}Cb.GOOGLE_SIGN_IN_METHOD="google.com",Cb.PROVIDER_ID="google.com";class Ab extends kb{constructor(){super("github.com")}static credential(e){return bb._fromParams({providerId:Ab.PROVIDER_ID,signInMethod:Ab.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ab.credentialFromTaggedObject(e)}static credentialFromError(e){return Ab.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ab.credential(t.oauthAccessToken)}catch(n){return null}}}Ab.GITHUB_SIGN_IN_METHOD="github.com",Ab.PROVIDER_ID="github.com";class Rb extends ub{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return yb(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,yb(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yb(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Rb(n,i):null}static _create(e,t){return new Rb(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pb extends Ib{constructor(e){ty(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Pb.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Pb.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Rb.fromJSON(e);return ty(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Rb._create(r,n)}catch(i){return null}}}class Nb extends kb{constructor(){super("twitter.com")}static credential(e,t){return bb._fromParams({providerId:Nb.PROVIDER_ID,signInMethod:Nb.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Nb.credentialFromTaggedObject(e)}static credentialFromError(e){return Nb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Nb.credential(n,r)}catch(i){return null}}}async function Db(e,t){return my(e,"POST","/v1/accounts:signUp",hy(e,t))}Nb.TWITTER_SIGN_IN_METHOD="twitter.com",Nb.PROVIDER_ID="twitter.com";class Ob{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Dy._fromIdTokenResponse(e,n,r),o=Lb(n);return new Ob({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Lb(n);return new Ob({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Lb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Mb extends E{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Mb.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Mb(e,t,n,r)}}function Fb(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Mb._fromErrorAndOperation(e,n,t,r);throw n}))}function jb(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Ub(e,t){const n=z(e);await Vb(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return fy(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=jb(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function zb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await xy(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ob._forOperation(e,"link",r)}async function Vb(e,t,n){await Ry(t);const r=!1===e?"provider-already-linked":"no-such-provider";ty(jb(t.providerData).has(n)===e,t.auth,r)}async function Bb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await xy(e,Fb(r,i,t,e),n);ty(o.idToken,r,"internal-error");const a=Ty(o.idToken);ty(a,r,"internal-error");const{sub:s}=a;return ty(e.uid===s,r,"user-mismatch"),Ob._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&Yv(r,"user-mismatch"),o}}async function qb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Fb(e,r,t),o=await Ob._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Wb(e,t){return qb(eb(e),t)}async function Kb(e,t){const n=z(e);return await Vb(!1,n,t.providerId),zb(n,t)}async function Hb(e,t){return Bb(z(e),t)}async function Gb(e,t){const n=eb(e),r=await async function(e,t){return my(e,"POST","/v1/accounts:signInWithCustomToken",hy(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Ob._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Qb{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?$b._fromServerResponse(e,t):"totpInfo"in t?Yb._fromServerResponse(e,t):Yv(e,"internal-error")}}class $b extends Qb{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new $b(t)}}class Yb extends Qb{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Yb(t)}}function Xb(e,t,n){var r;ty((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ty("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ty(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ty(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Jb(e){const t=eb(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Zb(e,t){await async function(e,t){return fy(e,"POST","/v1/accounts:update",hy(e,t))}(z(e),{oobCode:t})}async function ew(e,t){const n=z(e),r=await db(n,{oobCode:t}),i=r.requestType;switch(ty(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ty(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ty(r.mfaInfo,n,"internal-error");default:ty(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Qb._fromServerResponse(eb(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function tw(e,t){const n={identifier:t,continueUri:oy()?iy():"http://localhost"},{signinMethods:r}=await async function(e,t){return fy(e,"POST","/v1/accounts:createAuthUri",hy(e,t))}(z(e),n);return r||[]}async function nw(e,t){const n=z(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Xb(n.auth,r,t);const{email:i}=await async function(e,t){return pb(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function rw(e,t,n){const r=z(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Xb(r.auth,i,n);const{email:o}=await async function(e,t){return pb(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function iw(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=z(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await xy(i,async function(e,t){return fy(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const s=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function ow(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await xy(e,async function(e,t){return fy(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class aw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class sw extends aw{constructor(e,t,n,r){super(e,t,n),this.username=r}}class lw extends aw{constructor(e,t){super(e,"facebook.com",t)}}class cw extends sw{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class uw extends aw{constructor(e,t){super(e,"google.com",t)}}class dw extends sw{constructor(e,t,n){super(e,"twitter.com",t,n)}}function hw(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Ty(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new aw(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new lw(o,i);case"github.com":return new cw(o,i);case"google.com":return new uw(o,i);case"twitter.com":return new dw(o,i,e.screenName||null);case"custom":case"anonymous":return new aw(o,null);default:return new aw(o,r,i)}}(n)}class fw{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new fw("enroll",e,t)}static _fromMfaPendingCredential(e){return new fw("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return fw._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return fw._fromIdtoken(e.multiFactorSession.idToken)}return null}}class pw{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=eb(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Qb._fromServerResponse(n,e)));ty(r.mfaPendingCredential,n,"internal-error");const o=fw._fromMfaPendingCredential(r.mfaPendingCredential);return new pw(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Ob._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return ty(t.user,n,"internal-error"),Ob._forOperation(t.user,t.operationType,a);default:Yv(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class mw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Qb._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new mw(e)}async getSession(){return fw._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await xy(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await xy(this.user,function(e,t){return fy(e,"POST","/v2/accounts/mfaEnrollment:withdraw",hy(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const gw=new WeakMap;const vw="__sak";class yw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vw,"1"),this.storage.removeItem(vw),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class bw extends yw{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=m();return By(e)||Qy(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=$y(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);b()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bw.type="LOCAL";const ww=bw;class _w extends yw{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_w.type="SESSION";const Sw=_w;class Ew{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ew(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Iw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ew.receivers=[];class kw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=Iw("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Tw(){return window}function xw(){return"undefined"!==typeof Tw().WorkerGlobalScope&&"function"===typeof Tw().importScripts}const Cw="firebaseLocalStorageDb",Aw="firebaseLocalStorage",Rw="fbase_key";class Pw{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Nw(e,t){return e.transaction([Aw],t?"readwrite":"readonly").objectStore(Aw)}function Dw(){const e=indexedDB.open(Cw,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Aw,{keyPath:Rw})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Aw)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Cw);return new Pw(e).toPromise()}(),t(await Dw()))}))}))}async function Ow(e,t,n){const r=Nw(e,!0).put({[Rw]:t,value:n});return new Pw(r).toPromise()}function Lw(e,t){const n=Nw(e,!0).delete(t);return new Pw(n).toPromise()}class Mw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Dw()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ew._getInstance(xw()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new kw(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dw();return await Ow(e,vw,"1"),await Lw(e,vw),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ow(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Nw(e,!1).get(t),r=await new Pw(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Lw(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Nw(e,!1).getAll();return new Pw(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Mw.type="LOCAL";const Fw=Mw;const jw=1e12;class Uw{constructor(e){this.auth=e,this.counter=jw,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new zw(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||jw;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||jw;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||jw;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class zw{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;ty(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vw=rb("rcb"),Bw=new sy(3e4,6e4);class qw{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Tw().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ty(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&wy(Tw().grecaptcha)?Promise.resolve(Tw().grecaptcha):new Promise(((n,r)=>{const i=Tw().setTimeout((()=>{r(Xv(e,"network-request-failed"))}),Bw.get());Tw()[Vw]=()=>{Tw().clearTimeout(i),delete Tw()[Vw];const o=Tw().grecaptcha;if(!o||!wy(o))return void r(Xv(e,"internal-error"));const a=o.render;o.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};nb("".concat("https://www.google.com/recaptcha/api.js?","?").concat(A({onload:Vw,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Xv(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Tw().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ww{async load(e){return new Uw(e)}clearedOneInstance(){}}const Kw="recaptcha",Hw={theme:"light",type:"image"};class Gw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Hw);this.parameters=n,this.type=Kw,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=eb(e),this.isInvisible="invisible"===this.parameters.size,ty("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;ty(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ww:new qw,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){ty(!this.parameters.sitekey,this.auth,"argument-error"),ty(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ty("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Tw()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){ty(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ty(oy()&&!xw(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await fy(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);ty(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ty(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qw{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=_b._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function $w(e,t,n){var r;const i=await n.verify();try{let o;if(ty("string"===typeof i,e,"argument-error"),ty(n.type===Kw,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){ty("enroll"===t.type,e,"internal-error");const n=await function(e,t){return fy(e,"POST","/v2/accounts/mfaEnrollment:start",hy(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{ty("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;ty(n,e,"missing-multi-factor-info");const a=await function(e,t){return fy(e,"POST","/v2/accounts/mfaSignIn:start",hy(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return fy(e,"POST","/v1/accounts:sendVerificationCode",hy(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Yw{constructor(e){this.providerId=Yw.PROVIDER_ID,this.auth=eb(e)}verifyPhoneNumber(e,t){return $w(this.auth,e,z(t))}static credential(e,t){return _b._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Yw.credentialFromTaggedObject(t)}static credentialFromError(e){return Yw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?_b._fromTokenResponse(n,r):null}}function Xw(e,t){return t?Ly(t):(ty(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Yw.PROVIDER_ID="phone",Yw.PHONE_SIGN_IN_METHOD="phone";class Jw extends ub{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yb(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yb(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yb(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Zw(e){return qb(e.auth,new Jw(e),e.bypassAuthState)}function e_(e){const{auth:t,user:n}=e;return ty(n,t,"internal-error"),Bb(n,new Jw(e),e.bypassAuthState)}async function t_(e){const{auth:t,user:n}=e;return ty(n,t,"internal-error"),zb(n,new Jw(e),e.bypassAuthState)}class n_{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zw;case"linkViaPopup":case"linkViaRedirect":return t_;case"reauthViaPopup":case"reauthViaRedirect":return e_;default:Yv(this.auth,"internal-error")}}resolve(e){ry(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ry(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const r_=new sy(2e3,1e4);class i_ extends n_{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,i_.currentPopupAction&&i_.currentPopupAction.cancel(),i_.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ty(e,this.auth,"internal-error"),e}async onExecution(){ry(1===this.filter.length,"Popup operations only handle one event");const e=Iw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Xv(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Xv(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,i_.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Xv(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,r_.get())};e()}}i_.currentPopupAction=null;const o_="pendingRedirect",a_=new Map;class s_ extends n_{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=a_.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=d_(t),r=u_(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}a_.set(this.auth._key(),e)}return this.bypassAuthState||a_.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function l_(e,t){return u_(e)._set(d_(t),"true")}function c_(e,t){a_.set(e._key(),t)}function u_(e){return Ly(e._redirectPersistence)}function d_(e){return jy(o_,e.config.apiKey,e.name)}function h_(e,t,n){return async function(e,t,n){const r=eb(e);Zv(e,t,Ib),await r._initializationPromise;const i=Xw(r,n);return await l_(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function f_(e,t,n){return async function(e,t,n){const r=z(e);Zv(r.auth,t,Ib),await r.auth._initializationPromise;const i=Xw(r.auth,n);await l_(i,r.auth);const o=await g_(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function p_(e,t,n){return async function(e,t,n){const r=z(e);Zv(r.auth,t,Ib),await r.auth._initializationPromise;const i=Xw(r.auth,n);await Vb(!1,r,t.providerId),await l_(i,r.auth);const o=await g_(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function m_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=eb(e),i=Xw(r,t),o=new s_(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function g_(e){const t=Iw("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class v_{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b_(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!b_(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xv(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(y_(e))}saveEventToCache(e){this.cachedEventUids.add(y_(e)),this.lastProcessedEventTime=Date.now()}}function y_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function b_(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function w_(e){return fy(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const __=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S_=/^https?/;function E_(e){const t=iy(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!S_.test(n))return!1;if(__.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const I_=new sy(3e4,6e4);function k_(){const e=Tw().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let T_=null;function x_(e){return T_=T_||function(e){return new Promise(((t,n)=>{var r,i,o;function a(){k_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{k_(),n(Xv(e,"network-request-failed"))},timeout:I_.get()})}if(null===(i=null===(r=Tw().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Tw().gapi)||void 0===o?void 0:o.load)){const t=rb("iframefcb");return Tw()[t]=()=>{gapi.load?a():n(Xv(e,"network-request-failed"))},nb("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw T_=null,e}))}(e),T_}const C_=new sy(5e3,15e3),A_="__/auth/iframe",R_="emulator/auth/iframe",P_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D_(e){const t=e.config;ty(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ly(t,R_):"https://".concat(e.config.authDomain,"/").concat(A_),r={apiKey:t.apiKey,appName:e.name,v:Ne},i=N_.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(A(r).slice(1))}const O_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function M_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},O_),{width:r.toString(),height:i.toString(),top:o,left:a}),c=m().toLowerCase();n&&(s=qy(c)?"_blank":n),Vy(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Qy(arguments.length>0&&void 0!==arguments[0]?arguments[0]:m())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new L_(null);const d=window.open(t||"",s,u);ty(d,e,"popup-blocked");try{d.focus()}catch(h){}return new L_(d)}const F_="__/auth/handler",j_="emulator/auth/handler",U_=encodeURIComponent("fac");async function z_(e,t,n,r,i,o){ty(e.config.authDomain,e,"auth-domain-config-required"),ty(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ne,eventId:i};if(t instanceof Ib){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof kb){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(U_,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(F_);return ly(t,j_)}(e),"?").concat(A(s).slice(1)).concat(c)}const V_="webStorageSupport";const B_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sw,this._completeRedirectFn=m_,this._overrideRedirectResult=c_}async _openPopup(e,t,n,r){var i;ry(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return M_(e,await z_(e,t,n,iy(),r),Iw())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Tw().location.href=e}(await z_(e,t,n,iy(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ry(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await x_(e),n=Tw().gapi;return ty(n,e,"internal-error"),t.open({where:document.body,url:D_(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P_,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Xv(e,"network-request-failed"),o=Tw().setTimeout((()=>{r(i)}),C_.get());function a(){Tw().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new v_(e);return t.register("authEvent",(t=>{ty(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(V_,{type:V_},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[V_];void 0!==i&&t(!!i),Yv(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await w_(e);for(const r of t)try{if(E_(r))return}catch(n){}Yv(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $y()||By()||Qy()}};class q_{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ny("unexpected MultiFactorSessionType")}}}class W_ extends q_{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new W_(e)}_finalizeEnroll(e,t,n){return function(e,t){return fy(e,"POST","/v2/accounts/mfaEnrollment:finalize",hy(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return fy(e,"POST","/v2/accounts/mfaSignIn:finalize",hy(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class K_{constructor(){}static assertion(e){return W_._fromCredential(e)}}K_.FACTOR_ID="phone";var H_="@firebase/auth",G_="1.5.1";class Q_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ty(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=h())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var $_;function Y_(){return window}$_="Browser",Te(new V("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;ty(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:$_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yy($_)},c=new Zy(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ly);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Te(new V("auth-internal",(e=>(e=>new Q_(e))(eb(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Fe(H_,G_,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}($_)),Fe(H_,G_,"esm2017");async function X_(e,t,n){var r;const{BuildInfo:i}=Y_();ry(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(ry(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return Qy()?a.ibi=i.packageName:Ky()?a.apn=i.packageName:Yv(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,z_(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function J_(e){const{cordova:t}=Y_();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Z_=20;class eS extends v_{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function tS(e){const t=await iS()._get(oS(e));return t&&await iS()._remove(oS(e)),t}function nS(e,t){var n,r;const i=function(e){const t=aS(e),n=t.link?decodeURIComponent(t.link):void 0,r=aS(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return aS(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=aS(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=a?Xv(a):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function rS(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Z_;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function iS(){return Ly(ww)}function oS(e){return jy("authEvent",e.config.apiKey,e.name)}function aS(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return R(n.join("?"))}const sS=class{constructor(){this._redirectPersistence=Sw,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=m_,this._overrideRedirectResult=c_}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new eS(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Yv(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,a,s,l,c,u;const d=Y_();ty("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ty("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ty("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ty("function"===typeof(null===(l=null===(s=null===(a=null===d||void 0===d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ty("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),a_.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:rS(),postBody:null,tenantId:e.tenantId,error:Xv(e,"no-auth-event")}}(e,n,r);await function(e,t){return iS()._set(oS(e),t)}(e,o);const a=await X_(e,o,t);return async function(e,t,n){const{cordova:r}=Y_();let i=()=>{};try{await new Promise(((o,a)=>{let s=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){s||(s=window.setTimeout((()=>{a(Xv(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),Ky()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),s&&window.clearTimeout(s)}}))}finally{i()}}(e,i,await J_(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Y_(),n={};Qy()?n.iosBundleId=t.packageName:Ky()?n.androidPackageName=t.packageName:Yv(e,"operation-not-supported-in-this-environment"),await w_(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Y_(),o=setTimeout((async()=>{await tS(e),t.onEvent(lS())}),500),a=async n=>{clearTimeout(o);const r=await tS(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=nS(r,n.url)),t.onEvent(i||lS())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const s=r,l="".concat(i.packageName.toLowerCase(),"://");Y_().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"===typeof s)try{s(e)}catch(t){console.error(t)}}}};function lS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Xv("no-auth-event")}}function cS(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function uS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return!("file:"!==cS()&&"ionic:"!==cS()&&"capacitor:"!==cS()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function dS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return b()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();return/Edge\/\d+/.test(e)}(e)}function hS(){try{const e=self.localStorage,t=Iw();if(e)return e.setItem(t,"1"),e.removeItem(t),!dS()||w()}catch(e){return fS()&&w()}return!1}function fS(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function pS(){return("http:"===cS()||"https:"===cS()||v()||uS())&&!(y()||g())&&hS()&&!fS()}function mS(){return uS()&&"undefined"!==typeof document}const gS={LOCAL:"local",NONE:"none",SESSION:"session"},vS=ty,yS="persistence";async function bS(e){await e._initializationPromise;const t=wS(),n=jy(yS,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function wS(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const _S=ty;class SS{constructor(){this.browserResolver=Ly(B_),this.cordovaResolver=Ly(sS),this.underlyingResolver=null,this._redirectPersistence=Sw,this._completeRedirectFn=m_,this._overrideRedirectResult=c_}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return mS()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _S(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!mS()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function ES(e){return e.unwrap()}function IS(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new CS(e,function(e,t){var n;const r=z(e),i=t;return ty(t.customData.operationType,r,"argument-error"),ty(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),pw._fromError(r,i)}(e,t))}else if(r){const e=kS(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function kS(e){const{_tokenResponse:t}=e instanceof E?e.customData:e;if(!t)return null;if(!(e instanceof E)&&"temporaryProof"in t&&"phoneNumber"in t)return Yw.credentialFromResult(e);const n=t.providerId;if(!n||n===Fv.PASSWORD)return null;let r;switch(n){case Fv.GOOGLE:r=Cb;break;case Fv.FACEBOOK:r=xb;break;case Fv.GITHUB:r=Ab;break;case Fv.TWITTER:r=Nb;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:a,nonce:s}=t;return i||o||e||a?a?n.startsWith("saml.")?Rb._create(n,a):bb._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new Tb(n).credential({idToken:e,accessToken:i,rawNonce:s}):null}return e instanceof E?r.credentialFromError(e):r.credentialFromResult(e)}function TS(e,t){return t.catch((t=>{throw t instanceof E&&IS(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,kS(r)),additionalUserInfo:hw(e),user:AS.getOrCreate(n)};var r}))}async function xS(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>TS(e,n.confirm(t))}}class CS{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return TS(ES(this.auth),this.resolver.resolveSignIn(e))}}class AS{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=z(e);return gw.has(t)||gw.set(t,mw._fromUser(t)),gw.get(t)}(e)}static getOrCreate(e){return AS.USER_MAP.has(e)||AS.USER_MAP.set(e,new AS(e)),AS.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return TS(this.auth,Kb(this._delegate,e))}async linkWithPhoneNumber(e,t){return xS(this.auth,async function(e,t,n){const r=z(e);await Vb(!1,r,"phone");const i=await $w(r.auth,t,z(n));return new Qw(i,(e=>Kb(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return TS(this.auth,async function(e,t,n){const r=z(e);Zv(r.auth,t,Ib);const i=Xw(r.auth,n);return new i_(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,SS))}async linkWithRedirect(e){return await bS(eb(this.auth)),p_(this._delegate,e,SS)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return TS(this.auth,Hb(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return xS(this.auth,async function(e,t,n){const r=z(e),i=await $w(r.auth,t,z(n));return new Qw(i,(e=>Hb(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return TS(this.auth,async function(e,t,n){const r=z(e);Zv(r.auth,t,Ib);const i=Xw(r.auth,n);return new i_(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,SS))}async reauthenticateWithRedirect(e){return await bS(eb(this.auth)),f_(this._delegate,e,SS)}sendEmailVerification(e){return nw(this._delegate,e)}async unlink(e){return await Ub(this._delegate,e),this}updateEmail(e){return function(e,t){return ow(z(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return ow(z(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await zb(z(e),t)}(this._delegate,e)}updateProfile(e){return iw(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return rw(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}AS.USER_MAP=new WeakMap;const RS=ty;class PS{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;RS(n,"invalid-api-key",{appName:e.name}),RS(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?SS:void 0;this._delegate=t.initialize({options:{persistence:DS(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Kv),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?AS.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){sb(this._delegate,e,t)}applyActionCode(e){return Zb(this._delegate,e)}checkActionCode(e){return ew(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await db(z(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Jb(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return TS(this._delegate,async function(e,t,n){const r=eb(e),i=ab(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Db),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Jb(e),t})),a=await Ob._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return tw(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Sb.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){RS(pS(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await eb(e)._initializationPromise,m_(e,t,!1)}(this._delegate,SS);return e?TS(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){eb(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=NS(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=NS(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=eb(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){ty(t.handleCodeInApp,r,"argument-error"),t&&Xb(r,e,t)}(i,n),await ab(r,i,"getOobCode",gb)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=eb(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Xb(r,i,n),await ab(r,i,"getOobCode",mb)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){vS(Object.values(gS).includes(t),e,"invalid-persistence-type"),y()?vS(t!==gS.SESSION,e,"unsupported-persistence-type"):g()?vS(t===gS.NONE,e,"unsupported-persistence-type"):fS()?vS(t===gS.NONE||t===gS.LOCAL&&w(),e,"unsupported-persistence-type"):vS(t===gS.NONE||hS(),e,"unsupported-persistence-type")}(this._delegate,e),e){case gS.SESSION:t=Sw;break;case gS.LOCAL:t=await Ly(Fw)._isAvailable()?Fw:ww;break;case gS.NONE:t=Fy;break;default:return Yv("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return TS(this._delegate,async function(e){var t;const n=eb(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Ob({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Db(n,{returnSecureToken:!0}),i=await Ob._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return TS(this._delegate,Wb(this._delegate,e))}signInWithCustomToken(e){return TS(this._delegate,Gb(this._delegate,e))}signInWithEmailAndPassword(e,t){return TS(this._delegate,function(e,t,n){return Wb(z(e),Eb.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Jb(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return TS(this._delegate,async function(e,t,n){const r=z(e),i=Eb.credentialWithLink(t,n||iy());return ty(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Wb(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return xS(this._delegate,async function(e,t,n){const r=eb(e),i=await $w(r,t,z(n));return new Qw(i,(e=>Wb(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return RS(pS(),this._delegate,"operation-not-supported-in-this-environment"),TS(this._delegate,async function(e,t,n){const r=eb(e);Zv(e,t,Ib);const i=Xw(r,n);return new i_(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,SS))}async signInWithRedirect(e){return RS(pS(),this._delegate,"operation-not-supported-in-this-environment"),await bS(this._delegate),h_(this._delegate,e,SS)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await ew(z(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function NS(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&AS.getOrCreate(e)),error:t,complete:n}}function DS(e,t){const n=function(e,t){const n=wS();if(!n)return[];const r=jy(yS,e,t);switch(n.getItem(r)){case gS.NONE:return[Fy];case gS.LOCAL:return[Fw,Sw];case gS.SESSION:return[Sw];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Fw)||n.push(Fw),"undefined"!==typeof window)for(const r of[ww,Sw])n.includes(r)||n.push(r);return n.includes(Fy)||n.push(Fy),n}PS.Persistence=gS;class OS{constructor(){this.providerId="phone",this._delegate=new Yw(ES(nt.auth()))}static credential(e,t){return Yw.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}OS.PHONE_SIGN_IN_METHOD=Yw.PHONE_SIGN_IN_METHOD,OS.PROVIDER_ID=Yw.PROVIDER_ID;const LS=ty;class MS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nt.app();var r;LS(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Gw(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new V("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new PS(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:jv,PASSWORD_RESET:Uv,RECOVER_EMAIL:zv,REVERT_SECOND_FACTOR_ADDITION:Vv,VERIFY_AND_CHANGE_EMAIL:Bv,VERIFY_EMAIL:qv}},EmailAuthProvider:Eb,FacebookAuthProvider:xb,GithubAuthProvider:Ab,GoogleAuthProvider:Cb,OAuthProvider:Tb,SAMLAuthProvider:Pb,PhoneAuthProvider:OS,PhoneMultiFactorGenerator:K_,RecaptchaVerifier:MS,TwitterAuthProvider:Nb,Auth:PS,AuthCredential:ub,Error:E}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.5.1")}(nt);const FS=(e,t)=>t.some((t=>e instanceof t));let jS,US;const zS=new WeakMap,VS=new WeakMap,BS=new WeakMap,qS=new WeakMap,WS=new WeakMap;let KS={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return VS.get(e);if("objectStoreNames"===t)return e.objectStoreNames||BS.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return QS(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function HS(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(US||(US=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply($S(this),n),QS(zS.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return QS(e.apply($S(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call($S(this),t,...r);return BS.set(o,t.sort?t.sort():[t]),QS(o)}}function GS(e){return"function"===typeof e?HS(e):(e instanceof IDBTransaction&&function(e){if(VS.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));VS.set(e,t)}(e),FS(e,jS||(jS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,KS):e)}function QS(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(QS(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&zS.set(t,e)})).catch((()=>{})),WS.set(t,e),t}(e);if(qS.has(e))return qS.get(e);const t=GS(e);return t!==e&&(qS.set(e,t),WS.set(t,e)),t}const $S=e=>WS.get(e);const YS=["get","getKey","getAll","getAllKeys","count"],XS=["put","add","delete","clear"],JS=new Map;function ZS(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(JS.get(t))return JS.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=XS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!YS.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return JS.set(t,o),o}!function(e){KS=e(KS)}((e=>({...e,get:(t,n,r)=>ZS(t,n)||e.get(t,n,r),has:(t,n)=>!!ZS(t,n)||e.has(t,n)})));const eE="@firebase/installations",tE="0.6.4",nE=1e4,rE="w:".concat(tE),iE="FIS_v2",oE="https://firebaseinstallations.googleapis.com/v1",aE=36e5,sE=new I("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function lE(e){return e instanceof E&&e.code.includes("request-failed")}function cE(e){let{projectId:t}=e;return"".concat(oE,"/projects/").concat(t,"/installations")}function uE(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function dE(e,t){const n=(await t.json()).error;return sE.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function hE(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function fE(e,t){let{refreshToken:n}=t;const r=hE(e);return r.append("Authorization",function(e){return"".concat(iE," ").concat(e)}(n)),r}async function pE(e){const t=await e();return t.status>=500&&t.status<600?e():t}function mE(e){return new Promise((t=>{setTimeout(t,e)}))}const gE=/^[cdef][\w-]{21}$/,vE="";function yE(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return gE.test(t)?t:vE}catch(e){return vE}}function bE(e){return"".concat(e.appName,"!").concat(e.appId)}const wE=new Map;function _E(e,t){const n=bE(e);SE(n,t),function(e,t){const n=IE();n&&n.postMessage({key:e,fid:t});kE()}(n,t)}function SE(e,t){const n=wE.get(e);if(n)for(const r of n)r(t)}let EE=null;function IE(){return!EE&&"BroadcastChannel"in self&&(EE=new BroadcastChannel("[Firebase] FID Change"),EE.onmessage=e=>{SE(e.data.key,e.data.fid)}),EE}function kE(){0===wE.size&&EE&&(EE.close(),EE=null)}const TE="firebase-installations-database",xE=1,CE="firebase-installations-store";let AE=null;function RE(){return AE||(AE=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=QS(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(QS(a.result),e.oldVersion,e.newVersion,QS(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),s}(TE,xE,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(CE)}})),AE}async function PE(e,t){const n=bE(e),r=(await RE()).transaction(CE,"readwrite"),i=r.objectStore(CE),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||_E(e,t.fid),t}async function NE(e){const t=bE(e),n=(await RE()).transaction(CE,"readwrite");await n.objectStore(CE).delete(t),await n.done}async function DE(e,t){const n=bE(e),r=(await RE()).transaction(CE,"readwrite"),i=r.objectStore(CE),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||o&&o.fid===a.fid||_E(e,a.fid),a}async function OE(e){let t;const n=await DE(e.appConfig,(n=>{const r=function(e){const t=e||{fid:yE(),registrationStatus:0};return FE(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(sE.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=cE(n),a=hE(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:iE,appId:n.appId,sdkVersion:rE},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await pE((()=>fetch(o,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:uE(e.authToken)}}throw await dE("Create Installation",u)}(e,t);return PE(e.appConfig,n)}catch(n){throw lE(n)&&409===n.customData.serverCode?await NE(e.appConfig):await PE(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:LE(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return n.fid===vE?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function LE(e){let t=await ME(e.appConfig);for(;1===t.registrationStatus;)await mE(100),t=await ME(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await OE(e);return n||t}return t}function ME(e){return DE(e,(e=>{if(!e)throw sE.create("installation-not-found");return FE(e)}))}function FE(e){return 1===(t=e).registrationStatus&&t.registrationTime+nE<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function jE(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(cE(e),"/").concat(n,"/authTokens:generate")}(n,t),o=fE(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={installation:{sdkVersion:rE,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(s)},c=await pE((()=>fetch(i,l)));if(c.ok){return uE(await c.json())}throw await dE("Generate Auth Token",c)}async function UE(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await DE(e.appConfig,(r=>{if(!VE(r))throw sE.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+aE}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await zE(e.appConfig);for(;1===n.authToken.requestStatus;)await mE(100),n=await zE(e.appConfig);const r=n.authToken;return 0===r.requestStatus?UE(e,t):r}(e,n),r;{if(!navigator.onLine)throw sE.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await jE(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await PE(e.appConfig,r),n}catch(n){if(!lE(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await PE(e.appConfig,n)}else await NE(e.appConfig);throw n}}(e,n),n}}));return t?await t:r.authToken}function zE(e){return DE(e,(e=>{if(!VE(e))throw sE.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+nE<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function VE(e){return void 0!==e&&2===e.registrationStatus}async function BE(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await OE(e);t&&await t}(n);return(await UE(n,t)).token}function qE(e){return sE.create("missing-app-config-values",{valueName:e})}const WE="installations",KE=e=>{const t=xe(e.getProvider("app").getImmediate(),WE).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await OE(t);return r?r.catch(console.error):UE(t).catch(console.error),n.fid}(t),getToken:e=>BE(t,e)}};Te(new V(WE,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw qE("App Configuration");if(!e.name)throw qE("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw qE(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:xe(t,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),Te(new V("installations-internal",KE,"PRIVATE")),Fe(eE,tE),Fe(eE,tE,"esm2017");const HE="analytics",GE="firebase_id",QE="origin",$E=6e4,YE="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",XE="https://www.googletagmanager.com/gtag/js",JE=new J("@firebase/analytics"),ZE=new I("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function eI(e){if(!e.startsWith(XE)){const t=ZE.create("invalid-gtag-resource",{gtagURL:e});return JE.warn(t.message),""}return e}function tI(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function nI(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:eI}),r=document.createElement("script"),i="".concat(XE,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function rI(e,t,n,r){return async function(i){try{for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await tI(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(o){JE.error(o)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=a;await async function(e,t,n,r,i,o){const a=r[i];try{if(a)await t[a];else{const e=(await tI(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(s){JE.error(s)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t]=a;e("consent","update",t)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(l){JE.error(l)}}}const iI=30;const oI=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function aI(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function sI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oI,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw ZE.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw ZE.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new cI;return setTimeout((async()=>{s.abort()}),void 0!==n?n:$E),lI({appId:r,apiKey:i,measurementId:o},a,s,t)}async function lI(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:oI;var a;const{appId:s,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(o),r(ZE.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(c){if(l)return JE.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:s,measurementId:l};throw c}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:aI(r)},o=YE.replace("{app-id}",n),a=await fetch(o,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(s){}throw ZE.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return o.deleteThrottleMetadata(s),t}catch(c){const t=c;if(!function(e){if(!(e instanceof E)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(o.deleteThrottleMetadata(s),l)return JE.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:s,measurementId:l};throw c}const r=503===Number(null===(a=null===t||void 0===t?void 0:t.customData)||void 0===a?void 0:a.httpStatus)?U(i,o.intervalMillis,iI):U(i,o.intervalMillis),u={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return o.setThrottleMetadata(s,u),JE.debug("Calling attemptFetch again in ".concat(r," millis")),lI(e,u,n,o)}}class cI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let uI,dI;function hI(e){dI=e}function fI(e){uI=e}async function pI(e,t,n,r,i,o,a){var s;const l=sI(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&JE.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>JE.error(e))),t.push(l);const c=async function(){if(!w())return JE.warn(ZE.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await _()}catch(e){return JE.warn(ZE.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(XE)&&n.src.includes(e))return n;return null})(o)||nI(o,u.measurementId),dI&&(i("consent","default",dI),hI(void 0)),i("js",new Date);const h=null!==(s=null===a||void 0===a?void 0:a.config)&&void 0!==s?s:{};return h[QE]="firebase",h.update=!0,null!=d&&(h[GE]=d),i("config",u.measurementId,h),uI&&(i("set",uI),fI(void 0)),u.measurementId}class mI{constructor(e){this.app=e}_delete(){return delete gI[this.app.options.appId],Promise.resolve()}}let gI={},vI=[];const yI={};let bI,wI,_I="dataLayer",SI="gtag",EI=!1;function II(e){if(EI)throw ZE.create("already-initialized");e.dataLayerName&&(_I=e.dataLayerName),e.gtagName&&(SI=e.gtagName)}function kI(e,t,n){!function(){const e=[];if(v()&&e.push("This is a browser extension environment."),S()||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=ZE.create("invalid-analytics-context",{errorInfo:t});JE.warn(n.message)}}();const r=e.options.appId;if(!r)throw ZE.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ZE.create("no-api-key");JE.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=gI[r])throw ZE.create("already-exists",{id:r});if(!EI){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(_I);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=rI(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(gI,vI,yI,_I,SI);wI=e,bI=t,EI=!0}gI[r]=pI(e,vI,yI,t,bI,_I,n);return new mI(e)}async function TI(){if(v())return!1;if(!S())return!1;if(!w())return!1;try{return await _()}catch(e){return!1}}function xI(e,t,n){e=z(e),async function(e,t,n,r){if(r&&r.global)return e("set",{screen_name:n}),Promise.resolve();e("config",await t,{update:!0,screen_name:n})}(wI,gI[e.app.options.appId],t,n).catch((e=>JE.error(e)))}function CI(e,t,n){e=z(e),async function(e,t,n,r){if(r&&r.global)return e("set",{user_id:n}),Promise.resolve();e("config",await t,{update:!0,user_id:n})}(wI,gI[e.app.options.appId],t,n).catch((e=>JE.error(e)))}function AI(e,t,n){e=z(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(wI,gI[e.app.options.appId],t,n).catch((e=>JE.error(e)))}function RI(e,t){e=z(e),async function(e,t){const n=await e;window["ga-disable-".concat(n)]=!t}(gI[e.app.options.appId],t).catch((e=>JE.error(e)))}function PI(e,t,n,r){e=z(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(wI,gI[e.app.options.appId],t,n,r).catch((e=>JE.error(e)))}const NI="@firebase/analytics",DI="0.10.0";Te(new V(HE,((e,t)=>{let{options:n}=t;return kI(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Te(new V("analytics-internal",(function(e){try{const t=e.getProvider(HE).getImmediate();return{logEvent:(e,n,r)=>PI(t,e,n,r)}}catch(t){throw ZE.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),Fe(NI,DI),Fe(NI,DI,"esm2017");class OI{constructor(e,t){this.app=e,this._delegate=t}logEvent(e,t,n){PI(this._delegate,e,t,n)}setCurrentScreen(e,t){xI(this._delegate,e,t)}setUserId(e,t){CI(this._delegate,e,t)}setUserProperties(e,t){AI(this._delegate,e,t)}setAnalyticsCollectionEnabled(e){RI(this._delegate,e)}}var LI;!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(LI||(LI={}));const MI=e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new OI(t,n)};function FI(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function jI(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}!function(){const e={Analytics:OI,settings:II,isSupported:TI,EventName:LI};nt.INTERNAL.registerComponent(new V("analytics-compat",MI,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),nt.registerVersion("@firebase/analytics-compat","0.2.6");var UI=function(){return UI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},UI.apply(this,arguments)},zI=function(e){return{loading:void 0===e||null===e,value:e}},VI=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return UI(UI({},e),{error:t.error,loading:!1,value:void 0});case"reset":return zI(t.defaultValue);case"value":return UI(UI({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),zI(n)),i=r[0],o=r[1],a=(0,t.useCallback)((function(){var t=e?e():void 0;o({type:"reset",defaultValue:t})}),[e]),s=(0,t.useCallback)((function(e){o({type:"error",error:e})}),[]),l=(0,t.useCallback)((function(e){o({type:"value",value:e})}),[]);return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:a,setError:s,setValue:l,value:i.value}}),[i.error,i.loading,a,s,l,i.value])},BI=function(e,n){var r=VI((function(){return e.currentUser})),i=r.error,o=r.loading,a=r.setError,s=r.setValue,l=r.value;return(0,t.useEffect)((function(){var t=function(e,t,n,r){return z(e).onAuthStateChanged(t,n,r)}(e,(function(e){return FI(void 0,void 0,void 0,(function(){var t;return jI(this,(function(r){switch(r.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),a(t),[3,4];case 4:return s(e),[2]}}))}))}),a);return function(){t()}}),[e]),[l,o,i]};function qI(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function WI(){return WI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WI.apply(this,arguments)}function KI(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=KI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const HI=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=KI(e))&&(r&&(r+=" "),r+=t);return r};function GI(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function QI(e){if("string"!==typeof e)throw new Error(GI(7));return e.charAt(0).toUpperCase()+e.slice(1)}const $I=e=>e,YI=(()=>{let e=$I;return{configure(t){e=t},generate:t=>e(t),reset(){e=$I}}})(),XI={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function JI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=XI[t];return r?"".concat(n,"-").concat(r):"".concat(YI.generate(e),"-").concat(t)}function ZI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}function ek(e,t){const n=WI({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=WI({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},o&&Object.keys(o)?i&&Object.keys(i)?(n[r]=WI({},o),Object.keys(i).forEach((e=>{n[r][e]=ek(i[e],o[e])}))):n[r]=o:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function tk(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function nk(e){if(!tk(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=nk(e[n])})),t}function rk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?WI({},e):e;return tk(e)&&tk(t)&&Object.keys(t).forEach((i=>{"__proto__"!==i&&(tk(t[i])&&i in e&&tk(e[i])?r[i]=rk(e[i],t[i],n):n.clone?r[i]=tk(t[i])?nk(t[i]):t[i]:r[i]=t[i])})),r}const ik=["values","unit","step"],ok=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>WI({},e,{[t.key]:t.val})),{})};const ak={borderRadius:4},sk={xs:0,sm:600,md:900,lg:1200,xl:1536},lk={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(sk[e],"px)")};function ck(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||lk;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||lk;return Object.keys(t).reduce(((r,i)=>{if(-1!==Object.keys(e.values||sk).indexOf(i)){r[e.up(i)]=n(t[i],i)}else{const e=i;r[e]=t[e]}return r}),{})}return n(t)}function uk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function dk(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function hk(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let a;return o.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[a],a=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[a],a=n):e[n]=t,e)),{})}function fk(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function pk(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:fk(e,n)||i,t&&(r=t(r,i,e)),r}const mk=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=e=>{if(null==e[t])return null;const o=e[t],a=fk(e.theme,r)||{};return ck(e,o,(e=>{let r=pk(a,i,e);return e===r&&"string"===typeof e&&(r=pk(a,i,"".concat(t).concat("default"===e?"":QI(e)),e)),!1===n?r:{[n]:r}}))};return o.propTypes={},o.filterProps=[t],o};const gk=function(e,t){return t?rk(e,t,{clone:!1}):e};const vk={m:"margin",p:"padding"},yk={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},bk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},wk=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!bk[e])return[e];e=bk[e]}const[t,n]=e.split(""),r=vk[t],i=yk[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),_k=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Sk=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Ek=[..._k,...Sk];function Ik(e,t,n,r){var i;const o=null!=(i=fk(e,t,!1))?i:n;return"number"===typeof o?e=>"string"===typeof e?e:o*e:Array.isArray(o)?e=>"string"===typeof e?e:o[e]:"function"===typeof o?o:()=>{}}function kk(e){return Ik(e,"spacing",8)}function Tk(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function xk(e,t,n,r){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=Tk(t,n),e)),{})}(wk(n),r);return ck(e,e[n],i)}function Ck(e,t){const n=kk(e.theme);return Object.keys(e).map((r=>xk(e,t,r,n))).reduce(gk,{})}function Ak(e){return Ck(e,_k)}function Rk(e){return Ck(e,Sk)}function Pk(e){return Ck(e,Ek)}Ak.propTypes={},Ak.filterProps=_k,Rk.propTypes={},Rk.filterProps=Sk,Pk.propTypes={},Pk.filterProps=Ek;const Nk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?gk(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function Dk(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function Ok(e,t){return mk({prop:e,themeKey:"borders",transform:t})}const Lk=Ok("border",Dk),Mk=Ok("borderTop",Dk),Fk=Ok("borderRight",Dk),jk=Ok("borderBottom",Dk),Uk=Ok("borderLeft",Dk),zk=Ok("borderColor"),Vk=Ok("borderTopColor"),Bk=Ok("borderRightColor"),qk=Ok("borderBottomColor"),Wk=Ok("borderLeftColor"),Kk=Ok("outline",Dk),Hk=Ok("outlineColor"),Gk=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=Ik(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:Tk(t,e)});return ck(e,e.borderRadius,n)}return null};Gk.propTypes={},Gk.filterProps=["borderRadius"];Nk(Lk,Mk,Fk,jk,Uk,zk,Vk,Bk,qk,Wk,Gk,Kk,Hk);const Qk=e=>{if(void 0!==e.gap&&null!==e.gap){const t=Ik(e.theme,"spacing",8),n=e=>({gap:Tk(t,e)});return ck(e,e.gap,n)}return null};Qk.propTypes={},Qk.filterProps=["gap"];const $k=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=Ik(e.theme,"spacing",8),n=e=>({columnGap:Tk(t,e)});return ck(e,e.columnGap,n)}return null};$k.propTypes={},$k.filterProps=["columnGap"];const Yk=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=Ik(e.theme,"spacing",8),n=e=>({rowGap:Tk(t,e)});return ck(e,e.rowGap,n)}return null};Yk.propTypes={},Yk.filterProps=["rowGap"];Nk(Qk,$k,Yk,mk({prop:"gridColumn"}),mk({prop:"gridRow"}),mk({prop:"gridAutoFlow"}),mk({prop:"gridAutoColumns"}),mk({prop:"gridAutoRows"}),mk({prop:"gridTemplateColumns"}),mk({prop:"gridTemplateRows"}),mk({prop:"gridTemplateAreas"}),mk({prop:"gridArea"}));function Xk(e,t){return"grey"===t?t:e}Nk(mk({prop:"color",themeKey:"palette",transform:Xk}),mk({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Xk}),mk({prop:"backgroundColor",themeKey:"palette",transform:Xk}));function Jk(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const Zk=mk({prop:"width",transform:Jk}),eT=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||sk[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:Jk(t)}};return ck(e,e.maxWidth,t)}return null};eT.filterProps=["maxWidth"];const tT=mk({prop:"minWidth",transform:Jk}),nT=mk({prop:"height",transform:Jk}),rT=mk({prop:"maxHeight",transform:Jk}),iT=mk({prop:"minHeight",transform:Jk}),oT=(mk({prop:"size",cssProperty:"width",transform:Jk}),mk({prop:"size",cssProperty:"height",transform:Jk}),Nk(Zk,eT,tT,nT,rT,iT,mk({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Dk},borderTop:{themeKey:"borders",transform:Dk},borderRight:{themeKey:"borders",transform:Dk},borderBottom:{themeKey:"borders",transform:Dk},borderLeft:{themeKey:"borders",transform:Dk},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Dk},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Gk},color:{themeKey:"palette",transform:Xk},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Xk},backgroundColor:{themeKey:"palette",transform:Xk},p:{style:Rk},pt:{style:Rk},pr:{style:Rk},pb:{style:Rk},pl:{style:Rk},px:{style:Rk},py:{style:Rk},padding:{style:Rk},paddingTop:{style:Rk},paddingRight:{style:Rk},paddingBottom:{style:Rk},paddingLeft:{style:Rk},paddingX:{style:Rk},paddingY:{style:Rk},paddingInline:{style:Rk},paddingInlineStart:{style:Rk},paddingInlineEnd:{style:Rk},paddingBlock:{style:Rk},paddingBlockStart:{style:Rk},paddingBlockEnd:{style:Rk},m:{style:Ak},mt:{style:Ak},mr:{style:Ak},mb:{style:Ak},ml:{style:Ak},mx:{style:Ak},my:{style:Ak},margin:{style:Ak},marginTop:{style:Ak},marginRight:{style:Ak},marginBottom:{style:Ak},marginLeft:{style:Ak},marginX:{style:Ak},marginY:{style:Ak},marginInline:{style:Ak},marginInlineStart:{style:Ak},marginInlineEnd:{style:Ak},marginBlock:{style:Ak},marginBlockStart:{style:Ak},marginBlockEnd:{style:Ak},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Qk},rowGap:{style:Yk},columnGap:{style:$k},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Jk},maxWidth:{style:eT},minWidth:{transform:Jk},height:{transform:Jk},maxHeight:{transform:Jk},minHeight:{transform:Jk},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const aT=function(){function e(e,t,n,r){const i={[e]:t,theme:n},o=r[e];if(!o)return{[e]:t};const{cssProperty:a=e,themeKey:s,transform:l,style:c}=o;if(null==t)return null;if("typography"===s&&"inherit"===t)return{[e]:t};const u=fk(n,s)||{};if(c)return c(i);return ck(i,t,(t=>{let n=pk(u,l,t);return t===n&&"string"===typeof t&&(n=pk(u,l,"".concat(e).concat("default"===t?"":QI(t)),t)),!1===a?n:{[a]:n}}))}return function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const a=null!=(r=o.unstable_sxConfig)?r:oT;function s(n){let r=n;if("function"===typeof n)r=n(o);else if("object"!==typeof n)return n;if(!r)return null;const i=uk(o.breakpoints),s=Object.keys(i);let l=i;return Object.keys(r).forEach((n=>{const i=(s=r[n],c=o,"function"===typeof s?s(c):s);var s,c;if(null!==i&&void 0!==i)if("object"===typeof i)if(a[n])l=gk(l,e(n,i,o,a));else{const e=ck({theme:o},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,i)?l=gk(l,e):l[n]=t({sx:i,theme:o})}else l=gk(l,e(n,i,o,a))})),dk(s,l)}return Array.isArray(i)?i.map(s):s(i)}}();aT.filterProps=["sx"];const sT=aT,lT=["breakpoints","palette","spacing","shape"];const cT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,o=qI(e,lT),a=function(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=qI(e,ik),o=ok(t),a=Object.keys(o);function s(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function l(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function c(e,i){const o=a.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==o&&"number"===typeof t[a[o]]?t[a[o]]:i)-r/100).concat(n,")")}return WI({keys:a,values:o,up:s,down:l,between:c,only:function(e){return a.indexOf(e)+1<a.length?c(e,a[a.indexOf(e)+1]):s(e)},not:function(e){const t=a.indexOf(e);return 0===t?s(a[1]):t===a.length-1?l(a[t]):c(e,a[a.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}(t),s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=kk({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(r);let l=rk({breakpoints:a,direction:"ltr",components:{},palette:WI({mode:"light"},n),spacing:s,shape:WI({},ak,i)},o);for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];return l=u.reduce(((e,t)=>rk(e,t)),l),l.unstable_sxConfig=WI({},oT,null==o?void 0:o.unstable_sxConfig),l.unstable_sx=function(e){return sT({sx:e,theme:this})},l};var uT=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),dT=Math.abs,hT=String.fromCharCode,fT=Object.assign;function pT(e){return e.trim()}function mT(e,t,n){return e.replace(t,n)}function gT(e,t){return e.indexOf(t)}function vT(e,t){return 0|e.charCodeAt(t)}function yT(e,t,n){return e.slice(t,n)}function bT(e){return e.length}function wT(e){return e.length}function _T(e,t){return t.push(e),e}var ST=1,ET=1,IT=0,kT=0,TT=0,xT="";function CT(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:ST,column:ET,length:a,return:""}}function AT(e,t){return fT(CT("",null,null,"",null,null,0),e,{length:-e.length},t)}function RT(){return TT=kT>0?vT(xT,--kT):0,ET--,10===TT&&(ET=1,ST--),TT}function PT(){return TT=kT<IT?vT(xT,kT++):0,ET++,10===TT&&(ET=1,ST++),TT}function NT(){return vT(xT,kT)}function DT(){return kT}function OT(e,t){return yT(xT,e,t)}function LT(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function MT(e){return ST=ET=1,IT=bT(xT=e),kT=0,[]}function FT(e){return xT="",e}function jT(e){return pT(OT(kT-1,VT(91===e?e+2:40===e?e+1:e)))}function UT(e){for(;(TT=NT())&&TT<33;)PT();return LT(e)>2||LT(TT)>3?"":" "}function zT(e,t){for(;--t&&PT()&&!(TT<48||TT>102||TT>57&&TT<65||TT>70&&TT<97););return OT(e,DT()+(t<6&&32==NT()&&32==PT()))}function VT(e){for(;PT();)switch(TT){case e:return kT;case 34:case 39:34!==e&&39!==e&&VT(TT);break;case 40:41===e&&VT(e);break;case 92:PT()}return kT}function BT(e,t){for(;PT()&&e+TT!==57&&(e+TT!==84||47!==NT()););return"/*"+OT(t,kT-1)+"*"+hT(47===e?e:PT())}function qT(e){for(;!LT(NT());)PT();return OT(e,kT)}var WT="-ms-",KT="-moz-",HT="-webkit-",GT="comm",QT="rule",$T="decl",YT="@keyframes";function XT(e,t){for(var n="",r=wT(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function JT(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case $T:return e.return=e.return||e.value;case GT:return"";case YT:return e.return=e.value+"{"+XT(e.children,r)+"}";case QT:e.value=e.props.join(",")}return bT(n=XT(e.children,r))?e.return=e.value+"{"+n+"}":""}function ZT(e){return function(t){t.root||(t=t.return)&&e(t)}}function ex(e){return FT(tx("",null,null,null,[""],e=MT(e),0,[0],e))}function tx(e,t,n,r,i,o,a,s,l){for(var c=0,u=0,d=a,h=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",w=i,_=o,S=r,E=b;g;)switch(p=y,y=PT()){case 40:if(108!=p&&58==vT(E,d-1)){-1!=gT(E+=mT(jT(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:E+=jT(y);break;case 9:case 10:case 13:case 32:E+=UT(p);break;case 92:E+=zT(DT()-1,7);continue;case 47:switch(NT()){case 42:case 47:_T(rx(BT(PT(),DT()),t,n),l);break;default:E+="/"}break;case 123*m:s[c++]=bT(E)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(E=mT(E,/\f/g,"")),f>0&&bT(E)-d&&_T(f>32?ix(E+";",r,n,d-1):ix(mT(E," ","")+";",r,n,d-2),l);break;case 59:E+=";";default:if(_T(S=nx(E,t,n,c,u,i,s,b,w=[],_=[],d),o),123===y)if(0===u)tx(E,t,S,S,w,o,d,s,_);else switch(99===h&&110===vT(E,3)?100:h){case 100:case 108:case 109:case 115:tx(e,S,S,r&&_T(nx(e,S,S,0,0,i,s,b,i,w=[],d),_),i,_,d,s,r?w:_);break;default:tx(E,S,S,S,[""],_,0,s,_)}}c=u=f=0,m=v=1,b=E="",d=a;break;case 58:d=1+bT(E),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==RT())continue;switch(E+=hT(y),y*m){case 38:v=u>0?1:(E+="\f",-1);break;case 44:s[c++]=(bT(E)-1)*v,v=1;break;case 64:45===NT()&&(E+=jT(PT())),h=NT(),u=d=bT(b=E+=qT(DT())),y++;break;case 45:45===p&&2==bT(E)&&(m=0)}}return o}function nx(e,t,n,r,i,o,a,s,l,c,u){for(var d=i-1,h=0===i?o:[""],f=wT(h),p=0,m=0,g=0;p<r;++p)for(var v=0,y=yT(e,d+1,d=dT(m=a[p])),b=e;v<f;++v)(b=pT(m>0?h[v]+" "+y:mT(y,/&\f/g,h[v])))&&(l[g++]=b);return CT(e,t,n,0===i?QT:s,l,c,u)}function rx(e,t,n){return CT(e,t,n,GT,hT(TT),yT(e,2,-2),0)}function ix(e,t,n,r){return CT(e,t,n,$T,yT(e,0,r),yT(e,r+1,-1),r)}var ox=function(e,t,n){for(var r=0,i=0;r=i,i=NT(),38===r&&12===i&&(t[n]=1),!LT(i);)PT();return OT(e,kT)},ax=function(e,t){return FT(function(e,t){var n=-1,r=44;do{switch(LT(r)){case 0:38===r&&12===NT()&&(t[n]=1),e[n]+=ox(kT-1,t,n);break;case 2:e[n]+=jT(r);break;case 4:if(44===r){e[++n]=58===NT()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=hT(r)}}while(r=PT());return e}(MT(e),t))},sx=new WeakMap,lx=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||sx.get(n))&&!r){sx.set(e,!0);for(var i=[],o=ax(t,i),a=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},cx=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ux(e,t){switch(function(e,t){return 45^vT(e,0)?(((t<<2^vT(e,0))<<2^vT(e,1))<<2^vT(e,2))<<2^vT(e,3):0}(e,t)){case 5103:return HT+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return HT+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return HT+e+KT+e+WT+e+e;case 6828:case 4268:return HT+e+WT+e+e;case 6165:return HT+e+WT+"flex-"+e+e;case 5187:return HT+e+mT(e,/(\w+).+(:[^]+)/,HT+"box-$1$2"+WT+"flex-$1$2")+e;case 5443:return HT+e+WT+"flex-item-"+mT(e,/flex-|-self/,"")+e;case 4675:return HT+e+WT+"flex-line-pack"+mT(e,/align-content|flex-|-self/,"")+e;case 5548:return HT+e+WT+mT(e,"shrink","negative")+e;case 5292:return HT+e+WT+mT(e,"basis","preferred-size")+e;case 6060:return HT+"box-"+mT(e,"-grow","")+HT+e+WT+mT(e,"grow","positive")+e;case 4554:return HT+mT(e,/([^-])(transform)/g,"$1"+HT+"$2")+e;case 6187:return mT(mT(mT(e,/(zoom-|grab)/,HT+"$1"),/(image-set)/,HT+"$1"),e,"")+e;case 5495:case 3959:return mT(e,/(image-set\([^]*)/,HT+"$1$`$1");case 4968:return mT(mT(e,/(.+:)(flex-)?(.*)/,HT+"box-pack:$3"+WT+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+HT+e+e;case 4095:case 3583:case 4068:case 2532:return mT(e,/(.+)-inline(.+)/,HT+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bT(e)-1-t>6)switch(vT(e,t+1)){case 109:if(45!==vT(e,t+4))break;case 102:return mT(e,/(.+:)(.+)-([^]+)/,"$1"+HT+"$2-$3$1"+KT+(108==vT(e,t+3)?"$3":"$2-$3"))+e;case 115:return~gT(e,"stretch")?ux(mT(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==vT(e,t+1))break;case 6444:switch(vT(e,bT(e)-3-(~gT(e,"!important")&&10))){case 107:return mT(e,":",":"+HT)+e;case 101:return mT(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+HT+(45===vT(e,14)?"inline-":"")+"box$3$1"+HT+"$2$3$1"+WT+"$2box$3")+e}break;case 5936:switch(vT(e,t+11)){case 114:return HT+e+WT+mT(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return HT+e+WT+mT(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return HT+e+WT+mT(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return HT+e+WT+e+e}return e}var dx=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case $T:e.return=ux(e.value,e.length);break;case YT:return XT([AT(e,{value:mT(e.value,"@","@"+HT)})],r);case QT:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return XT([AT(e,{props:[mT(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return XT([AT(e,{props:[mT(t,/:(plac\w+)/,":"+HT+"input-$1")]}),AT(e,{props:[mT(t,/:(plac\w+)/,":-moz-$1")]}),AT(e,{props:[mT(t,/:(plac\w+)/,WT+"input-$1")]})],r)}return""}))}}],hx=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||dx;var i,o,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var l=[lx,cx];var c,u=[JT,ZT((function(e){c.insert(e)}))],d=function(e){var t=wT(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}(l.concat(r,u));o=function(e,t,n,r){c=n,function(e){XT(ex(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new uT({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return h.sheet.hydrate(s),h};var fx={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function px(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var mx=/[A-Z]|^ms/g,gx=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vx=function(e){return 45===e.charCodeAt(1)},yx=function(e){return null!=e&&"boolean"!==typeof e},bx=px((function(e){return vx(e)?e:e.replace(mx,"-$&").toLowerCase()})),wx=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(gx,(function(e,t,n){return Sx={name:t,styles:n,next:Sx},t}))}return 1===fx[e]||vx(e)||"number"!==typeof t||0===t?t:t+"px"};function _x(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Sx={name:n.name,styles:n.styles,next:Sx},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Sx={name:r.name,styles:r.styles,next:Sx},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=_x(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":yx(a)&&(r+=bx(o)+":"+wx(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=_x(e,t,a);switch(o){case"animation":case"animationName":r+=bx(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)yx(a[l])&&(r+=bx(o)+":"+wx(o,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Sx,o=n(e);return Sx=i,_x(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var Sx,Ex=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ix=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Sx=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=_x(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=_x(n,t,e[a]),r&&(i+=o[a]);Ex.lastIndex=0;for(var s,l="";null!==(s=Ex.exec(i));)l+="-"+s[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:Sx}},kx=!!r.useInsertionEffect&&r.useInsertionEffect,Tx=kx||function(e){return e()},xx=kx||t.useLayoutEffect,Cx=t.createContext("undefined"!==typeof HTMLElement?hx({key:"css"}):null);Cx.Provider;var Ax=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Cx);return e(n,i,r)}))};var Rx=t.createContext({});const Px=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=t.useContext(Rx);return n&&(r=n,0!==Object.keys(r).length)?n:e;var r},Nx=cT();const Dx=function(){return Px(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nx)};function Ox(e){let{props:t,name:n,defaultTheme:r,themeId:i}=e,o=Dx(r);i&&(o=o[i]||o);const a=function(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?ek(t.components[n].defaultProps,r):r}({theme:o,name:n,props:t});return a}var Lx=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var Mx=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Fx=function(e,t,n){Mx(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}},jx=px((function(e){return Lx.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Ux=function(e){return"theme"!==e},zx=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?jx:Ux},Vx=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Bx=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Mx(t,n,r),Tx((function(){return Fx(t,n,r)})),null},qx=function e(n,r){var i,o,a=n.__emotion_real===n,s=a&&n.__emotion_base||n;void 0!==r&&(i=r.label,o=r.target);var l=Vx(n,r,a),c=l||zx(s),u=!c("as");return function(){var d=arguments,h=a&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{0,h.push(d[0][0]);for(var f=d.length,p=1;p<f;p++)h.push(d[p],d[0][p])}var m=Ax((function(e,n,r){var i=u&&e.as||s,a="",d=[],f=e;if(null==e.theme){for(var p in f={},e)f[p]=e[p];f.theme=t.useContext(Rx)}"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(n.registered,d,e.className):null!=e.className&&(a=e.className+" ");var m=Ix(h.concat(d),n.registered,f);a+=n.key+"-"+m.name,void 0!==o&&(a+=" "+o);var g=u&&void 0===l?zx(i):c,v={};for(var y in e)u&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=a,v.ref=r,t.createElement(t.Fragment,null,t.createElement(Bx,{cache:n,serialized:m,isStringTag:"string"===typeof i}),t.createElement(i,v))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=h,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(t,n){return e(t,WI({},r,n,{shouldForwardProp:Vx(m,n,!0)})).apply(void 0,h)},m}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){qx[e]=qx(e)}));const Wx=["variant"];function Kx(e){return 0===e.length}function Hx(e){const{variant:t}=e,n=qI(e,Wx);let r=t||"";return Object.keys(n).sort().forEach((t=>{r+="color"===t?Kx(r)?e[t]:QI(e[t]):"".concat(Kx(r)?t:QI(t)).concat(QI(e[t].toString()))})),r}const Gx=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];const Qx=e=>{let t=0;const n={};return e&&e.forEach((e=>{let r="";"function"===typeof e.props?(r="callback".concat(t),t+=1):r=Hx(e.props),n[r]=e.style})),n},$x=(e,t,n)=>{const{ownerState:r={}}=e,i=[];let o=0;return n&&n.forEach((n=>{let a=!0;if("function"===typeof n.props){const t=WI({},e,r);a=n.props(t)}else Object.keys(n.props).forEach((t=>{r[t]!==n.props[t]&&e[t]!==n.props[t]&&(a=!1)}));a&&("function"===typeof n.props?i.push(t["callback".concat(o)]):i.push(t[Hx(n.props)])),"function"===typeof n.props&&(o+=1)})),i};function Yx(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const Xx=cT(),Jx=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function Zx(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function eC(e){return e?(t,n)=>n[e]:null}const tC=e=>{let{styledArg:t,props:n,defaultTheme:r,themeId:i}=e;const o=t(WI({},n,{theme:Zx(WI({},n,{defaultTheme:r,themeId:i}))}));let a;if(o&&o.variants&&(a=o.variants,delete o.variants),a){return[o,...$x(n,Qx(a),a)]}return o};function nC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Xx,rootShouldForwardProp:r=Yx,slotShouldForwardProp:i=Yx}=e,o=e=>sT(WI({},e,{theme:Zx(WI({},e,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};((e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))})(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:s,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:d=eC(Jx(l))}=a,h=qI(a,Gx),f=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,p=u||!1;let m=Yx;"Root"===l||"root"===l?m=r:l?m=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=function(e,t){return qx(e,t)}(e,WI({shouldForwardProp:m,label:undefined},h)),v=function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];const c=a?a.map((e=>{if("function"===typeof e&&e.__emotion_real!==e)return r=>tC({styledArg:e,props:r,defaultTheme:n,themeId:t});if(tk(e)){let t,n=e;return e&&e.variants&&(t=e.variants,delete n.variants,n=n=>{let r=e;return $x(n,Qx(t),t).forEach((e=>{r=rk(r,e)})),r}),n}return e})):[];let u=r;if(tk(r)){let e;r&&r.variants&&(e=r.variants,delete u.variants,u=t=>{let n=r;return $x(t,Qx(e),e).forEach((e=>{n=rk(n,e)})),n})}else"function"===typeof r&&r.__emotion_real!==r&&(u=e=>tC({styledArg:r,props:e,defaultTheme:n,themeId:t}));s&&d&&c.push((e=>{const r=Zx(WI({},e,{defaultTheme:n,themeId:t})),i=((e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null)(s,r);if(i){const t={};return Object.entries(i).forEach((n=>{let[i,o]=n;t[i]="function"===typeof o?o(WI({},e,{theme:r})):o})),d(e,t)}return null})),s&&!f&&c.push((e=>{const r=Zx(WI({},e,{defaultTheme:n,themeId:t}));return((e,t,n,r)=>{var i;const o=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return $x(e,t,o)})(e,((e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),Qx(n)})(s,r),r,s)})),p||c.push(o);const h=c.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");u=[...r,...e],u.raw=[...r.raw,...e]}const m=g(u,...c);return e.muiName&&(m.muiName=e.muiName),m};return g.withConfig&&(v.withConfig=g.withConfig),v}}const rC=nC();var iC=n(184);const oC=["className","component","disableGutters","fixed","maxWidth","classes"],aC=cT(),sC=rC("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat(QI(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),lC=e=>Ox({props:e,name:"MuiContainer",defaultTheme:aC});const cC=QI;function uC(e,t){return WI({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}function dC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function hC(e){if(e.type)return e;if("#"===e.charAt(0))return hC(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(GI(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(GI(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}function fC(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function pC(e){let t="hsl"===(e=hC(e)).type||"hsla"===e.type?hC(function(e){e=hC(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),fC({type:s,values:l})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function mC(e,t){return e=hC(e),t=dC(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,fC(e)}function gC(e,t){if(e=hC(e),t=dC(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return fC(e)}function vC(e,t){if(e=hC(e),t=dC(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return fC(e)}const yC={black:"#000",white:"#fff"},bC={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},wC={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},_C={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},SC={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},EC={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},IC={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},kC={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},TC=["mode","contrastThreshold","tonalOffset"],xC={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:yC.white,default:yC.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},CC={text:{primary:yC.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:yC.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function AC(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=vC(e.main,i):"dark"===t&&(e.dark=gC(e.main,o)))}function RC(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=qI(e,TC),o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:EC[200],light:EC[50],dark:EC[400]}:{main:EC[700],light:EC[400],dark:EC[800]}}(t),a=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:wC[200],light:wC[50],dark:wC[400]}:{main:wC[500],light:wC[300],dark:wC[700]}}(t),s=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:_C[500],light:_C[300],dark:_C[700]}:{main:_C[700],light:_C[400],dark:_C[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:IC[400],light:IC[300],dark:IC[700]}:{main:IC[700],light:IC[500],dark:IC[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:kC[400],light:kC[300],dark:kC[700]}:{main:kC[800],light:kC[500],dark:kC[900]}}(t),u=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:SC[400],light:SC[300],dark:SC[700]}:{main:"#ed6c02",light:SC[500],dark:SC[900]}}(t);function d(e){const t=function(e,t){const n=pC(e),r=pC(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,CC.text.primary)>=n?CC.text.primary:xC.text.primary;return t}const h=e=>{let{color:t,name:n,mainShade:i=500,lightShade:o=300,darkShade:a=700}=e;if(t=WI({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(GI(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(GI(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return AC(t,"light",o,r),AC(t,"dark",a,r),t.contrastText||(t.contrastText=d(t.main)),t},f={dark:CC,light:xC};return rk(WI({common:WI({},yC),mode:t,primary:h({color:o,name:"primary"}),secondary:h({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:s,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:c,name:"success"}),grey:bC,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[t]),i)}const PC=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const NC={textTransform:"uppercase"},DC='"Roboto", "Helvetica", "Arial", sans-serif';function OC(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=DC,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,h=qI(n,PC);const f=i/14,p=d||(e=>"".concat(e/c*f,"rem")),m=(e,t,n,i,o)=>{return WI({fontFamily:r,fontWeight:e,fontSize:p(t),lineHeight:n},r===DC?{letterSpacing:"".concat((a=i/t,Math.round(1e5*a)/1e5),"em")}:{},o,u);var a},g={h1:m(o,96,1.167,-1.5),h2:m(o,60,1.2,-.5),h3:m(a,48,1.167,0),h4:m(a,34,1.235,.25),h5:m(a,24,1.334,0),h6:m(s,20,1.6,.15),subtitle1:m(a,16,1.75,.15),subtitle2:m(s,14,1.57,.1),body1:m(a,16,1.5,.15),body2:m(a,14,1.43,.15),button:m(s,14,1.75,.4,NC),caption:m(a,12,1.66,.4),overline:m(a,12,2.66,1,NC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return rk(WI({htmlFontSize:c,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:l},g),h,{clone:!1})}function LC(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const MC=["none",LC(0,2,1,-1,0,1,1,0,0,1,3,0),LC(0,3,1,-2,0,2,2,0,0,1,5,0),LC(0,3,3,-2,0,3,4,0,0,1,8,0),LC(0,2,4,-1,0,4,5,0,0,1,10,0),LC(0,3,5,-1,0,5,8,0,0,1,14,0),LC(0,3,5,-1,0,6,10,0,0,1,18,0),LC(0,4,5,-2,0,7,10,1,0,2,16,1),LC(0,5,5,-3,0,8,10,1,0,3,14,2),LC(0,5,6,-3,0,9,12,1,0,3,16,2),LC(0,6,6,-3,0,10,14,1,0,4,18,3),LC(0,6,7,-4,0,11,15,1,0,4,20,3),LC(0,7,8,-4,0,12,17,2,0,5,22,4),LC(0,7,8,-4,0,13,19,2,0,5,24,4),LC(0,7,9,-4,0,14,21,2,0,5,26,4),LC(0,8,9,-5,0,15,22,2,0,6,28,5),LC(0,8,10,-5,0,16,24,2,0,6,30,5),LC(0,8,11,-5,0,17,26,2,0,6,32,5),LC(0,9,11,-5,0,18,28,2,0,7,34,6),LC(0,9,12,-6,0,19,29,2,0,7,36,6),LC(0,10,13,-6,0,20,31,3,0,8,38,7),LC(0,10,13,-6,0,21,33,3,0,8,40,7),LC(0,10,14,-6,0,22,35,3,0,8,42,7),LC(0,11,14,-7,0,23,36,3,0,9,44,8),LC(0,11,15,-7,0,24,38,3,0,9,46,8)],FC=["duration","easing","delay"],jC={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},UC={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function zC(e){return"".concat(Math.round(e),"ms")}function VC(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function BC(e){const t=WI({},jC,e.easing),n=WI({},UC,e.duration);return WI({getAutoHeightDuration:VC,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:o=t.easeInOut,delay:a=0}=r;qI(r,FC);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:zC(i)," ").concat(o," ").concat("string"===typeof a?a:zC(a)))).join(",")}},e,{easing:t,duration:n})}const qC={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},WC=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function KC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:r={},typography:i={}}=e,o=qI(e,WC);if(e.vars)throw new Error(GI(18));const a=RC(n),s=cT(e);let l=rk(s,{mixins:uC(s.breakpoints,t),palette:a,shadows:MC.slice(),typography:OC(a,i),transitions:BC(r),zIndex:WI({},qC)});l=rk(l,o);for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];return l=u.reduce(((e,t)=>rk(e,t)),l),l.unstable_sxConfig=WI({},oT,null==o?void 0:o.unstable_sxConfig),l.unstable_sx=function(e){return sT({sx:e,theme:this})},l}const HC=KC(),GC="$$material",QC=e=>Yx(e)&&"classes"!==e,$C=Yx,YC=nC({themeId:GC,defaultTheme:HC,rootShouldForwardProp:QC});function XC(e){let{props:t,name:n}=e;return Ox({props:t,name:n,defaultTheme:HC,themeId:GC})}const JC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=sC,useThemeProps:r=lC,componentName:i="MuiContainer"}=e,o=n((e=>{let{theme:t,ownerState:n}=e;return WI({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(i).concat(t.breakpoints.unit)}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return WI({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})})),a=t.forwardRef((function(e,t){const n=r(e),{className:a,component:s="div",disableGutters:l=!1,fixed:c=!1,maxWidth:u="lg"}=n,d=qI(n,oC),h=WI({},n,{component:s,disableGutters:l,fixed:c,maxWidth:u}),f=((e,t)=>{const{classes:n,fixed:r,disableGutters:i,maxWidth:o}=e;return ZI({root:["root",o&&"maxWidth".concat(QI(String(o))),r&&"fixed",i&&"disableGutters"]},(e=>JI(t,e)),n)})(h,i);return(0,iC.jsx)(o,WI({as:s,ownerState:h,className:HI(f.root,a),ref:t},d))}));return a}({createStyledComponent:YC("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat(cC(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>XC({props:e,name:"MuiContainer"})}),ZC=JC;function eA(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function tA(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((()=>n.every((e=>null==e))?null:e=>{n.forEach((t=>{eA(t,e)}))}),n)}const nA=tA,rA="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;const iA=function(e){const n=t.useRef(e);return rA((()=>{n.current=e})),t.useRef((function(){return(0,n.current)(...arguments)})).current},oA=iA;let aA,sA=!0,lA=!1;const cA={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function uA(e){e.metaKey||e.altKey||e.ctrlKey||(sA=!0)}function dA(){sA=!1}function hA(){"hidden"===this.visibilityState&&lA&&(sA=!0)}function fA(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return sA||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!cA[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const pA=function(){const e=t.useCallback((e=>{null!=e&&function(e){e.addEventListener("keydown",uA,!0),e.addEventListener("mousedown",dA,!0),e.addEventListener("pointerdown",dA,!0),e.addEventListener("touchstart",dA,!0),e.addEventListener("visibilitychange",hA,!0)}(e.ownerDocument)}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!fA(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(lA=!0,window.clearTimeout(aA),aA=window.setTimeout((()=>{lA=!1}),100),n.current=!1,!0)},ref:e}};function mA(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function gA(e,t){return gA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gA(e,t)}function vA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,gA(e,t)}const yA=t.createContext(null);function bA(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function wA(e,t,n){return null!=n[t]?n[t]:e.props[t]}function _A(e,n,r){var i=bA(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(n,i);return Object.keys(o).forEach((function(a){var s=o[a];if((0,t.isValidElement)(s)){var l=a in n,c=a in i,u=n[a],d=(0,t.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,t.isValidElement)(u)&&(o[a]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:u.props.in,exit:wA(s,"exit",e),enter:wA(s,"enter",e)})):o[a]=(0,t.cloneElement)(s,{in:!1}):o[a]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:wA(s,"exit",e),enter:wA(s,"enter",e)})}})),o}var SA=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},EA=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}vA(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,o=n.children,a=n.handleExited;return{children:n.firstRender?(r=e,i=a,bA(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:wA(e,"appear",r),enter:wA(e,"enter",r),exit:wA(e,"exit",r)})}))):_A(e,o,a),firstRender:!1}},r.handleExited=function(e,t){var n=bA(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=WI({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=qI(e,["component","childFactory"]),o=this.state.contextValue,a=SA(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(yA.Provider,{value:o},a):t.createElement(yA.Provider,{value:o},t.createElement(n,i,a))},n}(t.Component);EA.propTypes={},EA.defaultProps={component:"div",childFactory:function(e){return e}};const IA=EA;n(110);var kA=Ax((function(e,n){var r=e.styles,i=Ix([r],void 0,t.useContext(Rx)),o=t.useRef();return xx((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,a=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==a&&(r=!0,a.setAttribute("data-emotion",e),t.hydrate([a])),o.current=[t,r],function(){t.flush()}}),[n]),xx((function(){var e=o.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&Fx(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function TA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ix(t)}var xA=function(){var e=TA.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};const CA=function(e){const{className:n,classes:r,pulsate:i=!1,rippleX:o,rippleY:a,rippleSize:s,in:l,onExited:c,timeout:u}=e,[d,h]=t.useState(!1),f=HI(n,r.ripple,r.rippleVisible,i&&r.ripplePulsate),p={width:s,height:s,top:-s/2+a,left:-s/2+o},m=HI(r.child,d&&r.childLeaving,i&&r.childPulsate);return l||d||h(!0),t.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,iC.jsx)("span",{className:f,style:p,children:(0,iC.jsx)("span",{className:m})})};function AA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=JI(e,t,n)})),r}const RA=AA("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var PA,NA,DA,OA;const LA=["center","classes","className"];let MA,FA,jA,UA;const zA=xA(MA||(MA=PA||(PA=mA(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),VA=xA(FA||(FA=NA||(NA=mA(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),BA=xA(jA||(jA=DA||(DA=mA(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),qA=YC("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),WA=YC(CA,{name:"MuiTouchRipple",slot:"Ripple"})(UA||(UA=OA||(OA=mA(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),RA.rippleVisible,zA,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),RA.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),RA.child,RA.childLeaving,VA,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),RA.childPulsate,BA,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),KA=t.forwardRef((function(e,n){const r=XC({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a}=r,s=qI(r,LA),[l,c]=t.useState([]),u=t.useRef(0),d=t.useRef(null);t.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=t.useRef(!1),f=t.useRef(0),p=t.useRef(null),m=t.useRef(null);t.useEffect((()=>()=>{f.current&&clearTimeout(f.current)}),[]);const g=t.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:a}=e;c((e=>[...e,(0,iC.jsx)(WA,{classes:{ripple:HI(o.ripple,RA.ripple),rippleVisible:HI(o.rippleVisible,RA.rippleVisible),ripplePulsate:HI(o.ripplePulsate,RA.ripplePulsate),child:HI(o.child,RA.child),childLeaving:HI(o.childLeaving,RA.childLeaving),childPulsate:HI(o.childPulsate,RA.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},u.current)])),u.current+=1,d.current=a}),[o]),v=t.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||t.pulsate,fakeElement:a=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null==e?void 0:e.type)&&(h.current=!0);const s=a?null:m.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===p.current&&(p.current=()=>{g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},f.current=setTimeout((()=>{p.current&&(p.current(),p.current=null)}),80)):g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[i,g]),y=t.useCallback((()=>{v({},{pulsate:!0})}),[v]),b=t.useCallback(((e,t)=>{if(clearTimeout(f.current),"touchend"===(null==e?void 0:e.type)&&p.current)return p.current(),p.current=null,void(f.current=setTimeout((()=>{b(e,t)})));p.current=null,c((e=>e.length>0?e.slice(1):e)),d.current=t}),[]);return t.useImperativeHandle(n,(()=>({pulsate:y,start:v,stop:b})),[y,v,b]),(0,iC.jsx)(qA,WI({className:HI(RA.root,o.root,a),ref:m},s,{children:(0,iC.jsx)(IA,{component:null,exit:!0,children:l})}))})),HA=KA;function GA(e){return JI("MuiButtonBase",e)}const QA=AA("MuiButtonBase",["root","disabled","focusVisible"]),$A=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],YA=YC("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(QA.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),XA=t.forwardRef((function(e,n){const r=XC({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:s,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:m,onContextMenu:g,onDragLeave:v,onFocus:y,onFocusVisible:b,onKeyDown:w,onKeyUp:_,onMouseDown:S,onMouseLeave:E,onMouseUp:I,onTouchEnd:k,onTouchMove:T,onTouchStart:x,tabIndex:C=0,TouchRippleProps:A,touchRippleRef:R,type:P}=r,N=qI(r,$A),D=t.useRef(null),O=t.useRef(null),L=nA(O,R),{isFocusVisibleRef:M,onFocus:F,onBlur:j,ref:U}=pA(),[z,V]=t.useState(!1);c&&z&&V(!1),t.useImperativeHandle(i,(()=>({focusVisible:()=>{V(!0),D.current.focus()}})),[]);const[B,q]=t.useState(!1);t.useEffect((()=>{q(!0)}),[]);const W=B&&!u&&!c;function K(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return oA((r=>{t&&t(r);return!n&&O.current&&O.current[e](r),!0}))}t.useEffect((()=>{z&&h&&!u&&B&&O.current.pulsate()}),[u,h,z,B]);const H=K("start",S),G=K("stop",g),Q=K("stop",v),$=K("stop",I),Y=K("stop",(e=>{z&&e.preventDefault(),E&&E(e)})),X=K("start",x),J=K("stop",k),Z=K("stop",T),ee=K("stop",(e=>{j(e),!1===M.current&&V(!1),p&&p(e)}),!1),te=oA((e=>{D.current||(D.current=e.currentTarget),F(e),!0===M.current&&(V(!0),b&&b(e)),y&&y(e)})),ne=()=>{const e=D.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},re=t.useRef(!1),ie=oA((e=>{h&&!re.current&&z&&O.current&&" "===e.key&&(re.current=!0,O.current.stop(e,(()=>{O.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),w&&w(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))})),oe=oA((e=>{h&&" "===e.key&&O.current&&z&&!e.defaultPrevented&&(re.current=!1,O.current.stop(e,(()=>{O.current.pulsate(e)}))),_&&_(e),m&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let ae=l;"button"===ae&&(N.href||N.to)&&(ae=f);const se={};"button"===ae?(se.type=void 0===P?"button":P,se.disabled=c):(N.href||N.to||(se.role="button"),c&&(se["aria-disabled"]=c));const le=nA(n,U,D);const ce=WI({},r,{centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:C,focusVisible:z}),ue=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o=ZI({root:["root",t&&"disabled",n&&"focusVisible"]},GA,i);return n&&r&&(o.root+=" ".concat(r)),o})(ce);return(0,iC.jsxs)(YA,WI({as:ae,className:HI(ue.root,s),ownerState:ce,onBlur:ee,onClick:m,onContextMenu:G,onFocus:te,onKeyDown:ie,onKeyUp:oe,onMouseDown:H,onMouseLeave:Y,onMouseUp:$,onDragLeave:Q,onTouchEnd:J,onTouchMove:Z,onTouchStart:X,ref:le,tabIndex:c?-1:C,type:P},se,N,{children:[a,W?(0,iC.jsx)(HA,WI({ref:L,center:o},A)):null]}))})),JA=XA;function ZA(e){return JI("MuiButton",e)}const eR=AA("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const tR=t.createContext({});const nR=t.createContext(void 0),rR=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],iR=e=>WI({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),oR=YC(JA,{shouldForwardProp:e=>QC(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(cC(n.color))],t["size".concat(cC(n.size))],t["".concat(n.variant,"Size").concat(cC(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const o="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],a="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return WI({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":WI({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):mC(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):mC(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):mC(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":WI({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(eR.focusVisible)]:WI({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(eR.disabled)]:WI({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat(mC(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:o,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(eR.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(eR.disabled)]:{boxShadow:"none"}}})),aR=YC("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat(cC(n.size))]]}})((e=>{let{ownerState:t}=e;return WI({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},iR(t))})),sR=YC("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat(cC(n.size))]]}})((e=>{let{ownerState:t}=e;return WI({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},iR(t))})),lR=t.forwardRef((function(e,n){const r=t.useContext(tR),i=t.useContext(nR),o=XC({props:ek(r,e),name:"MuiButton"}),{children:a,color:s="primary",component:l="button",className:c,disabled:u=!1,disableElevation:d=!1,disableFocusRipple:h=!1,endIcon:f,focusVisibleClassName:p,fullWidth:m=!1,size:g="medium",startIcon:v,type:y,variant:b="text"}=o,w=qI(o,rR),_=WI({},o,{color:s,component:l,disabled:u,disableElevation:d,disableFocusRipple:h,fullWidth:m,size:g,type:y,variant:b}),S=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:a}=e;return WI({},a,ZI({root:["root",o,"".concat(o).concat(cC(t)),"size".concat(cC(i)),"".concat(o,"Size").concat(cC(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(cC(i))],endIcon:["endIcon","iconSize".concat(cC(i))]},ZA,a))})(_),E=v&&(0,iC.jsx)(aR,{className:S.startIcon,ownerState:_,children:v}),I=f&&(0,iC.jsx)(sR,{className:S.endIcon,ownerState:_,children:f}),k=i||"";return(0,iC.jsxs)(oR,WI({ownerState:_,className:HI(r.className,S.root,c,k),component:l,disabled:u,focusRipple:!h,focusVisibleClassName:HI(S.focusVisible,p),ref:n,type:y},w,{classes:S,children:[E,a,I]}))})),cR=lR;function uR(e){let{user:t,authSignout:n}=e;return t&&(0,iC.jsx)(iC.Fragment,{children:(0,iC.jsx)(cR,{className:"sign-out",onClick:()=>n(),children:"Sign Out"})})}const dR=["sx"],hR=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:oT;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function fR(e){const{sx:t}=e,n=qI(e,dR),{systemProps:r,otherProps:i}=hR(n);let o;return o=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return tk(e)?WI({},r,e):r}:WI({},r,t),WI({},i,{sx:o})}function pR(e){return JI("MuiTypography",e)}AA("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const mR=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],gR=YC("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(cC(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return WI({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),vR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},yR={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},bR=t.forwardRef((function(e,t){const n=XC({props:e,name:"MuiTypography"}),r=(e=>yR[e]||e)(n.color),i=fR(WI({},n,{color:r})),{align:o="inherit",className:a,component:s,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=vR}=i,f=qI(i,mR),p=WI({},i,{align:o,color:r,className:a,component:s,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h}),m=s||(u?"p":h[d]||vR[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:a}=e;return ZI({root:["root",o,"inherit"!==e.align&&"align".concat(cC(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},pR,a)})(p);return(0,iC.jsx)(gR,WI({as:m,ref:t,ownerState:p,className:HI(g.root,a)},f))})),wR=bR;let _R=0;const SR=r["useId".toString()];function ER(e){if(void 0!==SR){const t=SR();return null!=e?e:t}return function(e){const[n,r]=t.useState(e),i=e||n;return t.useEffect((()=>{null==n&&(_R+=1,r("mui-".concat(_R)))}),[n]),i}(e)}var IR=n(164),kR=n.t(IR,2);function TR(e){return e&&e.ownerDocument||document}function xR(e){return TR(e).defaultView||window}function CR(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}const AR=["onChange","maxRows","minRows","style","value"];function RR(e){return parseInt(e,10)||0}const PR={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function NR(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}const DR=t.forwardRef((function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:a,value:s}=e,l=qI(e,AR),{current:c}=t.useRef(null!=s),u=t.useRef(null),d=tA(n,u),h=t.useRef(null),f=t.useRef(0),[p,m]=t.useState({outerHeightStyle:0}),g=t.useCallback((()=>{const t=u.current,n=xR(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};const r=h.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const a=n.boxSizing,s=RR(n.paddingBottom)+RR(n.paddingTop),l=RR(n.borderBottomWidth)+RR(n.borderTopWidth),c=r.scrollHeight;r.value="x";const d=r.scrollHeight;let f=c;o&&(f=Math.max(Number(o)*d,f)),i&&(f=Math.min(Number(i)*d,f)),f=Math.max(f,d);return{outerHeightStyle:f+("border-box"===a?s+l:0),overflow:Math.abs(f-c)<=1}}),[i,o,e.placeholder]),v=(e,t)=>{const{outerHeightStyle:n,overflow:r}=t;return f.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(f.current+=1,{overflow:r,outerHeightStyle:n}):e},y=t.useCallback((()=>{const e=g();NR(e)||m((t=>v(t,e)))}),[g]);rA((()=>{const e=()=>{f.current=0,(()=>{const e=g();NR(e)||IR.flushSync((()=>{m((t=>v(t,e)))}))})()};let t;const n=CR(e),r=u.current,i=xR(r);let o;return i.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(o=new ResizeObserver(e),o.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),i.removeEventListener("resize",n),o&&o.disconnect()}}),[g]),rA((()=>{y()})),t.useEffect((()=>{f.current=0}),[s]);return(0,iC.jsxs)(t.Fragment,{children:[(0,iC.jsx)("textarea",WI({value:s,onChange:e=>{f.current=0,c||y(),r&&r(e)},ref:d,rows:o,style:WI({height:p.outerHeightStyle,overflow:p.overflow?"hidden":void 0},a)},l)),(0,iC.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:WI({},PR,a,{paddingTop:0,paddingBottom:0})})]})}));function OR(e){return"string"===typeof e}function LR(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const MR=t.createContext(void 0);function FR(){return t.useContext(MR)}const jR=rA;function UR(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,iC.jsx)(kA,{styles:r})}const zR=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=Dx(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,iC.jsx)(UR,{styles:o})};const VR=function(e){return(0,iC.jsx)(zR,WI({},e,{defaultTheme:HC,themeId:GC}))};function BR(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function qR(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(BR(e.value)&&""!==e.value||t&&BR(e.defaultValue)&&""!==e.defaultValue)}function WR(e){return JI("MuiInputBase",e)}const KR=AA("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),HR=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],GR=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(cC(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},QR=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},$R=YC("div",{name:"MuiInputBase",slot:"Root",overridesResolver:GR})((e=>{let{theme:t,ownerState:n}=e;return WI({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(KR.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&WI({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),YR=YC("input",{name:"MuiInputBase",slot:"Input",overridesResolver:QR})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,i=WI({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),o={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return WI({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(KR.formControl," &")]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},["&.".concat(KR.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),XR=(0,iC.jsx)(VR,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),JR=t.forwardRef((function(e,n){var r;const i=XC({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:a,autoFocus:s,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:m=!1,id:g,inputComponent:v="input",inputProps:y={},inputRef:b,maxRows:w,minRows:_,multiline:S=!1,name:E,onBlur:I,onChange:k,onClick:T,onFocus:x,onKeyDown:C,onKeyUp:A,placeholder:R,readOnly:P,renderSuffix:N,rows:D,slotProps:O={},slots:L={},startAdornment:M,type:F="text",value:j}=i,U=qI(i,HR),z=null!=y.value?y.value:j,{current:V}=t.useRef(null!=z),B=t.useRef(),q=t.useCallback((e=>{0}),[]),W=nA(B,b,y.ref,q),[K,H]=t.useState(!1),G=FR();const Q=LR({props:i,muiFormControl:G,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Q.focused=G?G.focused:K,t.useEffect((()=>{!G&&h&&K&&(H(!1),I&&I())}),[G,h,K,I]);const $=G&&G.onFilled,Y=G&&G.onEmpty,X=t.useCallback((e=>{qR(e)?$&&$():Y&&Y()}),[$,Y]);jR((()=>{V&&X({value:z})}),[z,X,V]);t.useEffect((()=>{X(B.current)}),[]);let J=v,Z=y;S&&"input"===J&&(Z=WI(D?{type:void 0,minRows:D,maxRows:D}:{type:void 0,maxRows:w,minRows:_},Z),J=DR);t.useEffect((()=>{G&&G.setAdornedStart(Boolean(M))}),[G,M]);const ee=WI({},i,{color:Q.color||"primary",disabled:Q.disabled,endAdornment:p,error:Q.error,focused:Q.focused,formControl:G,fullWidth:m,hiddenLabel:Q.hiddenLabel,multiline:S,size:Q.size,startAdornment:M,type:F}),te=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:f,type:p}=e;return ZI({root:["root","color".concat(cC(n)),r&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",h&&"medium"!==h&&"size".concat(cC(h)),u&&"multiline",f&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]},WR,t)})(ee),ne=L.root||c.Root||$R,re=O.root||u.root||{},ie=L.input||c.Input||YR;return Z=WI({},Z,null!=(r=O.input)?r:u.input),(0,iC.jsxs)(t.Fragment,{children:[!f&&XR,(0,iC.jsxs)(ne,WI({},re,!OR(ne)&&{ownerState:WI({},ee,re.ownerState)},{ref:n,onClick:e=>{B.current&&e.currentTarget===e.target&&B.current.focus(),T&&T(e)}},U,{className:HI(te.root,re.className,l,P&&"MuiInputBase-readOnly"),children:[M,(0,iC.jsx)(MR.Provider,{value:null,children:(0,iC.jsx)(ie,WI({ownerState:ee,"aria-invalid":Q.error,"aria-describedby":o,autoComplete:a,autoFocus:s,defaultValue:d,disabled:Q.disabled,id:g,onAnimationStart:e=>{X("mui-auto-fill-cancel"===e.animationName?B.current:{value:"x"})},name:E,placeholder:R,readOnly:P,required:Q.required,rows:D,value:z,onKeyDown:C,onKeyUp:A,type:F},Z,!OR(ie)&&{as:J,ownerState:WI({},ee,Z.ownerState)},{ref:W,className:HI(te.input,Z.className,P&&"MuiInputBase-readOnly"),onBlur:e=>{I&&I(e),y.onBlur&&y.onBlur(e),G&&G.onBlur?G.onBlur(e):H(!1)},onChange:function(e){if(!V){const t=e.target||B.current;if(null==t)throw new Error(GI(1));X({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.onChange&&y.onChange(e,...n),k&&k(e,...n)},onFocus:e=>{Q.disabled?e.stopPropagation():(x&&x(e),y.onFocus&&y.onFocus(e),G&&G.onFocus?G.onFocus(e):H(!0))}}))}),p,N?N(WI({},Q,{startAdornment:M})):null]}))]})})),ZR=JR;function eP(e){return JI("MuiInput",e)}const tP=WI({},KR,AA("MuiInput",["root","underline","input"])),nP=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],rP=YC($R,{shouldForwardProp:e=>QC(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...GR(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),WI({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(tP.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(tP.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(tP.disabled,", .").concat(tP.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat(tP.disabled,":before")]:{borderBottomStyle:"dotted"}})})),iP=YC(YR,{name:"MuiInput",slot:"Input",overridesResolver:QR})({}),oP=t.forwardRef((function(e,t){var n,r,i,o;const a=XC({props:e,name:"MuiInput"}),{disableUnderline:s,components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:p={},type:m="text"}=a,g=qI(a,nP),v=(e=>{const{classes:t,disableUnderline:n}=e;return WI({},t,ZI({root:["root",!n&&"underline"],input:["input"]},eP,t))})(a),y={root:{ownerState:{disableUnderline:s}}},b=(null!=f?f:c)?rk(null!=f?f:c,y):y,w=null!=(n=null!=(r=p.root)?r:l.Root)?n:rP,_=null!=(i=null!=(o=p.input)?o:l.Input)?i:iP;return(0,iC.jsx)(ZR,WI({slots:{root:w,input:_},slotProps:b,fullWidth:u,inputComponent:d,multiline:h,ref:t,type:m},g,{classes:v}))}));oP.muiName="Input";const aP=oP;function sP(e){return JI("MuiFilledInput",e)}const lP=WI({},KR,AA("MuiFilledInput",["root","underline","input"])),cP=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],uP=YC($R,{shouldForwardProp:e=>QC(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...GR(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const i="light"===t.palette.mode,o=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return WI({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},["&.".concat(lP.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},["&.".concat(lP.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat(null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(lP.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(lP.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(lP.disabled,", .").concat(lP.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(lP.disabled,":before")]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&WI({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),dP=YC(YR,{name:"MuiFilledInput",slot:"Input",overridesResolver:QR})((e=>{let{theme:t,ownerState:n}=e;return WI({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),hP=t.forwardRef((function(e,t){var n,r,i,o;const a=XC({props:e,name:"MuiFilledInput"}),{components:s={},componentsProps:l,fullWidth:c=!1,inputComponent:u="input",multiline:d=!1,slotProps:h,slots:f={},type:p="text"}=a,m=qI(a,cP),g=WI({},a,{fullWidth:c,inputComponent:u,multiline:d,type:p}),v=(e=>{const{classes:t,disableUnderline:n}=e;return WI({},t,ZI({root:["root",!n&&"underline"],input:["input"]},sP,t))})(a),y={root:{ownerState:g},input:{ownerState:g}},b=(null!=h?h:l)?rk(y,null!=h?h:l):y,w=null!=(n=null!=(r=f.root)?r:s.Root)?n:uP,_=null!=(i=null!=(o=f.input)?o:s.Input)?i:dP;return(0,iC.jsx)(ZR,WI({slots:{root:w,input:_},componentsProps:b,fullWidth:c,inputComponent:u,multiline:d,ref:t,type:p},m,{classes:v}))}));hP.muiName="Input";const fP=hP;var pP;const mP=["children","classes","className","label","notched"],gP=YC("fieldset",{shouldForwardProp:QC})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),vP=YC("legend",{shouldForwardProp:QC})((e=>{let{ownerState:t,theme:n}=e;return WI({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&WI({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function yP(e){return JI("MuiOutlinedInput",e)}const bP=WI({},KR,AA("MuiOutlinedInput",["root","notchedOutline","input"])),wP=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],_P=YC($R,{shouldForwardProp:e=>QC(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:GR})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return WI({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(bP.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(bP.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):r}},["&.".concat(bP.focused," .").concat(bP.notchedOutline)]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},["&.".concat(bP.error," .").concat(bP.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(bP.disabled," .").concat(bP.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&WI({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),SP=YC((function(e){const{className:t,label:n,notched:r}=e,i=qI(e,mP),o=null!=n&&""!==n,a=WI({},e,{notched:r,withLabel:o});return(0,iC.jsx)(gP,WI({"aria-hidden":!0,className:t,ownerState:a},i,{children:(0,iC.jsx)(vP,{ownerState:a,children:o?(0,iC.jsx)("span",{children:n}):pP||(pP=(0,iC.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),EP=YC(YR,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:QR})((e=>{let{theme:t,ownerState:n}=e;return WI({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),IP=t.forwardRef((function(e,n){var r,i,o,a,s;const l=XC({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:p,slots:m={},type:g="text"}=l,v=qI(l,wP),y=(e=>{const{classes:t}=e;return WI({},t,ZI({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},yP,t))})(l),b=FR(),w=LR({props:l,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_=WI({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:b,fullWidth:u,hiddenLabel:w.hiddenLabel,multiline:f,size:w.size,type:g}),S=null!=(r=null!=(i=m.root)?i:c.Root)?r:_P,E=null!=(o=null!=(a=m.input)?a:c.Input)?o:EP;return(0,iC.jsx)(ZR,WI({slots:{root:S,input:E},renderSuffix:e=>(0,iC.jsx)(SP,{ownerState:_,className:y.notchedOutline,label:null!=h&&""!==h&&w.required?s||(s=(0,iC.jsxs)(t.Fragment,{children:[h,"\u2009","*"]})):h,notched:"undefined"!==typeof p?p:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:u,inputComponent:d,multiline:f,ref:n,type:g},v,{classes:WI({},y,{notchedOutline:null})}))}));IP.muiName="Input";const kP=IP;function TP(e){return JI("MuiFormLabel",e)}const xP=AA("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),CP=["children","className","color","component","disabled","error","filled","focused","required"],AP=YC("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return WI({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return WI({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(xP.focused)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(xP.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(xP.error)]:{color:(t.vars||t).palette.error.main}})})),RP=YC("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(xP.error)]:{color:(t.vars||t).palette.error.main}}})),PP=t.forwardRef((function(e,t){const n=XC({props:e,name:"MuiFormLabel"}),{children:r,className:i,component:o="label"}=n,a=qI(n,CP),s=LR({props:n,muiFormControl:FR(),states:["color","required","focused","disabled","error","filled"]}),l=WI({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),c=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:a,required:s}=e;return ZI({root:["root","color".concat(cC(n)),i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]},TP,t)})(l);return(0,iC.jsxs)(AP,WI({as:o,ownerState:l,className:HI(c.root,i),ref:t},a,{children:[r,s.required&&(0,iC.jsxs)(RP,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))})),NP=PP;function DP(e){return JI("MuiInputLabel",e)}AA("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const OP=["disableAnimation","margin","shrink","variant","className"],LP=YC(NP,{shouldForwardProp:e=>QC(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(xP.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return WI({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&WI({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&WI({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&WI({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),MP=t.forwardRef((function(e,t){const n=XC({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:i,className:o}=n,a=qI(n,OP),s=FR();let l=i;"undefined"===typeof l&&s&&(l=s.filled||s.focused||s.adornedStart);const c=LR({props:n,muiFormControl:s,states:["size","variant","required","focused"]}),u=WI({},n,{disableAnimation:r,formControl:s,shrink:l,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),d=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:a,required:s}=e;return WI({},t,ZI({root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"normal"!==r&&"size".concat(cC(r)),a],asterisk:[s&&"asterisk"]},DP,t))})(u);return(0,iC.jsx)(LP,WI({"data-shrink":l,ownerState:u,ref:t,className:HI(d.root,o)},a,{classes:d}))})),FP=MP;const jP=function(e,n){var r,i;return t.isValidElement(e)&&-1!==n.indexOf(null!=(r=e.type.muiName)?r:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)};function UP(e){return JI("MuiFormControl",e)}AA("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const zP=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],VP=YC("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return WI({},t.root,t["margin".concat(cC(n.margin))],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return WI({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),BP=t.forwardRef((function(e,n){const r=XC({props:e,name:"MuiFormControl"}),{children:i,className:o,color:a="primary",component:s="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:m="medium",variant:g="outlined"}=r,v=qI(r,zP),y=WI({},r,{color:a,component:s,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:m,variant:g}),b=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return ZI({root:["root","none"!==n&&"margin".concat(cC(n)),r&&"fullWidth"]},UP,t)})(y),[w,_]=t.useState((()=>{let e=!1;return i&&t.Children.forEach(i,(t=>{if(!jP(t,["Input","Select"]))return;const n=jP(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[S,E]=t.useState((()=>{let e=!1;return i&&t.Children.forEach(i,(t=>{jP(t,["Input","Select"])&&(qR(t.props,!0)||qR(t.props.inputProps,!0))&&(e=!0)})),e})),[I,k]=t.useState(!1);l&&I&&k(!1);const T=void 0===u||l?I:u;let x;const C=t.useMemo((()=>({adornedStart:w,setAdornedStart:_,color:a,disabled:l,error:c,filled:S,focused:T,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{k(!1)},onEmpty:()=>{E(!1)},onFilled:()=>{E(!0)},onFocus:()=>{k(!0)},registerEffect:x,required:p,variant:g})),[w,a,l,c,S,T,d,h,x,p,m,g]);return(0,iC.jsx)(MR.Provider,{value:C,children:(0,iC.jsx)(VP,WI({as:s,ownerState:y,className:HI(b.root,o),ref:n},v,{children:i}))})})),qP=BP;function WP(e){return JI("MuiFormHelperText",e)}const KP=AA("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var HP;const GP=["children","className","component","disabled","error","filled","focused","margin","required","variant"],QP=YC("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat(cC(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return WI({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(KP.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(KP.error)]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),$P=t.forwardRef((function(e,t){const n=XC({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p"}=n,a=qI(n,GP),s=LR({props:n,muiFormControl:FR(),states:["variant","size","disabled","error","filled","focused","required"]}),l=WI({},n,{component:o,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),c=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:a,focused:s,required:l}=e;return ZI({root:["root",i&&"disabled",o&&"error",r&&"size".concat(cC(r)),n&&"contained",s&&"focused",a&&"filled",l&&"required"]},WP,t)})(l);return(0,iC.jsx)(QP,WI({as:o,ownerState:l,className:HI(c.root,i),ref:t},a,{children:" "===r?HP||(HP=(0,iC.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))}));n(457);const YP=TR;function XP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function JP(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const ZP=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function eN(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,a=qI(e,ZP),s=o?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(r,i),{props:l,internalRef:c}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=HI(null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),t=WI({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),a=WI({},n,i,r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=XP(WI({},i,r)),s=JP(r),l=JP(i),c=t(a),u=HI(null==c?void 0:c.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),d=WI({},null==c?void 0:c.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),h=WI({},c,n,l,s);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}(WI({},a,{externalSlotProps:s})),u=function(e,t,n){return void 0===e||OR(e)?t:WI({},t,{ownerState:WI({},t.ownerState,n)})}(n,WI({},l,{ref:tA(c,null==s?void 0:s.ref,null==(t=e.additionalProps)?void 0:t.ref)}),i);return u}const tN=t.createContext({});function nN(e){return JI("MuiList",e)}AA("MuiList",["root","padding","dense","subheader"]);const rN=["children","className","component","dense","disablePadding","subheader"],iN=YC("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return WI({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),oN=t.forwardRef((function(e,n){const r=XC({props:e,name:"MuiList"}),{children:i,className:o,component:a="ul",dense:s=!1,disablePadding:l=!1,subheader:c}=r,u=qI(r,rN),d=t.useMemo((()=>({dense:s})),[s]),h=WI({},r,{component:a,dense:s,disablePadding:l}),f=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return ZI({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},nN,t)})(h);return(0,iC.jsx)(tN.Provider,{value:d,children:(0,iC.jsxs)(iN,WI({as:a,className:HI(f.root,o),ref:n,ownerState:h},u,{children:[c,i]}))})}));function aN(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const sN=aN,lN=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function cN(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function uN(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function dN(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function hN(e,t,n,r,i,o){let a=!1,s=i(e,t,!!t&&n);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}const t=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&dN(s,o)&&!t)return s.focus(),!0;s=i(e,s,n)}return!1}const fN=t.forwardRef((function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:a,className:s,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=qI(e,lN),f=t.useRef(null),p=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});jR((()=>{i&&f.current.focus()}),[i]),t.useImperativeHandle(r,(()=>({adjustStyleForScrollbar:(e,t)=>{const n=!f.current.style.width;if(e.clientHeight<f.current.clientHeight&&n){const n="".concat(sN(YP(e)),"px");f.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=n,f.current.style.width="calc(100% + ".concat(n,")")}return f.current}})),[]);const m=nA(f,n);let g=-1;t.Children.forEach(a,((e,n)=>{t.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===g)&&(g=n),g===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=a.length&&(g=-1))):g===n&&(g+=1,g>=a.length&&(g=-1))}));const v=t.Children.map(a,((e,n)=>{if(n===g){const n={};return o&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(n.tabIndex=0),t.cloneElement(e,n)}return e}));return(0,iC.jsx)(oN,WI({role:"menu",ref:m,className:s,onKeyDown:e=>{const t=f.current,n=e.key,r=YP(t).activeElement;if("ArrowDown"===n)e.preventDefault(),hN(t,r,c,l,cN);else if("ArrowUp"===n)e.preventDefault(),hN(t,r,c,l,uN);else if("Home"===n)e.preventDefault(),hN(t,null,c,l,cN);else if("End"===n)e.preventDefault(),hN(t,null,c,l,uN);else if(1===n.length){const i=p.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);const s=r&&!i.repeating&&dN(r,i);i.previousKeyMatched&&(s||hN(t,r,!1,l,cN,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:i?0:-1},h,{children:v}))})),pN=fN,mN=CR,gN=xR,vN=!1;var yN="unmounted",bN="exited",wN="entering",_N="entered",SN="exiting",EN=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=bN,r.appearStatus=wN):i=_N:i=t.unmountOnExit||t.mountOnEnter?yN:bN,r.state={status:i},r.nextCallback=null,r}vA(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===yN?{status:bN}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==wN&&n!==_N&&(t=wN):n!==wN&&n!==_N||(t=SN)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===wN){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:IR.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===bN&&this.setState({status:yN})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[IR.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||vN?this.safeSetState({status:_N},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:wN},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:_N},(function(){t.props.onEntered(o,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:IR.findDOMNode(this);t&&!vN?(this.props.onExit(r),this.safeSetState({status:SN},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:bN},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:bN},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:IR.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===yN)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,qI(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(yA.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function IN(){}EN.contextType=yA,EN.propTypes={},EN.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:IN,onEntering:IN,onEntered:IN,onExit:IN,onExiting:IN,onExited:IN},EN.UNMOUNTED=yN,EN.EXITED=bN,EN.ENTERING=wN,EN.ENTERED=_N,EN.EXITING=SN;const kN=EN;function TN(){const e=Dx(HC);return e[GC]||e}const xN=e=>e.scrollTop;function CN(e,t){var n,r;const{timeout:i,easing:o,style:a={}}=e;return{duration:null!=(n=a.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=a.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:a.transitionDelay}}const AN=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function RN(e){return"scale(".concat(e,", ").concat(e**2,")")}const PN={entering:{opacity:1,transform:RN(1)},entered:{opacity:1,transform:"none"}},NN="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),DN=t.forwardRef((function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:a,in:s,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:f,style:p,timeout:m="auto",TransitionComponent:g=kN}=e,v=qI(e,AN),y=t.useRef(),b=t.useRef(),w=TN(),_=t.useRef(null),S=nA(_,o.ref,n),E=e=>t=>{if(e){const n=_.current;void 0===t?e(n):e(n,t)}},I=E(u),k=E(((e,t)=>{xN(e);const{duration:n,delay:r,easing:i}=CN({style:p,timeout:m,easing:a},{mode:"enter"});let o;"auto"===m?(o=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=n,e.style.transition=[w.transitions.create("opacity",{duration:o,delay:r}),w.transitions.create("transform",{duration:NN?o:.666*o,delay:r,easing:i})].join(","),l&&l(e,t)})),T=E(c),x=E(f),C=E((e=>{const{duration:t,delay:n,easing:r}=CN({style:p,timeout:m,easing:a},{mode:"exit"});let i;"auto"===m?(i=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=t,e.style.transition=[w.transitions.create("opacity",{duration:i,delay:n}),w.transitions.create("transform",{duration:NN?i:.666*i,delay:NN?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=RN(.75),d&&d(e)})),A=E(h);return t.useEffect((()=>()=>{clearTimeout(y.current)}),[]),(0,iC.jsx)(g,WI({appear:i,in:s,nodeRef:_,onEnter:k,onEntered:T,onEntering:I,onExit:C,onExited:A,onExiting:x,addEndListener:e=>{"auto"===m&&(y.current=setTimeout(e,b.current||0)),r&&r(_.current,e)},timeout:"auto"===m?null:m},v,{children:(e,n)=>t.cloneElement(o,WI({style:WI({opacity:0,transform:RN(.75),visibility:"exited"!==e||s?void 0:"hidden"},PN[e],p,o.props.style),ref:S},n))}))}));DN.muiSupportAuto=!0;const ON=DN;function LN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}function MN(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function FN(e){return parseInt(xR(e).getComputedStyle(e).paddingRight,10)||0}function jN(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&MN(e,i)}))}function UN(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function zN(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=TR(e);return t.body===e?xR(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=aN(TR(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(FN(r)+e,"px");const t=TR(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(FN(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=TR(r).body;else{const t=r.parentElement,n=xR(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const VN=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&MN(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);jN(t,e.mount,e.modalRef,r,!0);const i=UN(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=UN(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=zN(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=UN(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&MN(e.modalRef,t),jN(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&MN(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function BN(e){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:o=VN,closeAfterTransition:a=!1,onTransitionEnter:s,onTransitionExited:l,children:c,onClose:u,open:d,rootRef:h}=e,f=t.useRef({}),p=t.useRef(null),m=t.useRef(null),g=tA(m,h),[v,y]=t.useState(!d),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const _=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),S=()=>{o.mount(_(),{disableScrollLock:i}),m.current&&(m.current.scrollTop=0)},E=iA((()=>{const e=function(e){return"function"===typeof e?e():e}(n)||TR(p.current).body;o.add(_(),e),m.current&&S()})),I=t.useCallback((()=>o.isTopModal(_())),[o]),k=iA((e=>{p.current=e,e&&(d&&I()?S():m.current&&MN(m.current,w))})),T=t.useCallback((()=>{o.remove(_(),w)}),[w,o]);t.useEffect((()=>()=>{T()}),[T]),t.useEffect((()=>{d?E():b&&a||T()}),[d,T,b,a,E]);const x=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&I()&&(r||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},C=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=XP(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=WI({},n,t);return WI({role:"presentation"},r,{onKeyDown:x(r),ref:g})},getBackdropProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return WI({"aria-hidden":!0},e,{onClick:C(e),open:d})},getTransitionProps:()=>({onEnter:LN((()=>{y(!1),s&&s()}),null==c?void 0:c.props.onEnter),onExited:LN((()=>{y(!0),l&&l(),a&&T()}),null==c?void 0:c.props.onExited)}),rootRef:g,portalRef:k,isTopModal:I,exited:v,hasTransition:b}}const qN=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function WN(e){const t=[],n=[];return Array.from(e.querySelectorAll(qN)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function KN(){return!0}function HN(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:a=WN,isEnabled:s=KN,open:l}=e,c=t.useRef(!1),u=t.useRef(null),d=t.useRef(null),h=t.useRef(null),f=t.useRef(null),p=t.useRef(!1),m=t.useRef(null),g=tA(n.ref,m),v=t.useRef(null);t.useEffect((()=>{l&&m.current&&(p.current=!r)}),[r,l]),t.useEffect((()=>{if(!l||!m.current)return;const e=TR(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),t.useEffect((()=>{if(!l||!m.current)return;const e=TR(m.current),t=t=>{v.current=t,!i&&s()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!s()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!p.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=a(m.current)),n.length>0){var r,o;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=v.current)?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[r,i,o,s,l,a]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,iC.jsxs)(t.Fragment,{children:[(0,iC.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,f.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,iC.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}const GN=t.forwardRef((function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[a,s]=t.useState(null),l=tA(t.isValidElement(r)?r.ref:null,n);if(rA((()=>{o||s(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),rA((()=>{if(a&&!o)return eA(n,a),()=>{eA(n,null)}}),[n,a,o]),o){if(t.isValidElement(r)){const e={ref:l};return t.cloneElement(r,e)}return(0,iC.jsx)(t.Fragment,{children:r})}return(0,iC.jsx)(t.Fragment,{children:a?IR.createPortal(r,a):a})}));const QN=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],$N={entering:{opacity:1},entered:{opacity:1}},YN=t.forwardRef((function(e,n){const r=TN(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:s,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:m,style:g,timeout:v=i,TransitionComponent:y=kN}=e,b=qI(e,QN),w=t.useRef(null),_=nA(w,s.ref,n),S=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},E=S(h),I=S(((e,t)=>{xN(e);const n=CN({style:g,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),u&&u(e,t)})),k=S(d),T=S(m),x=S((e=>{const t=CN({style:g,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),f&&f(e)})),C=S(p);return(0,iC.jsx)(y,WI({appear:a,in:c,nodeRef:w,onEnter:I,onEntered:k,onEntering:E,onExit:x,onExited:C,onExiting:T,addEndListener:e=>{o&&o(w.current,e)},timeout:v},b,{children:(e,n)=>t.cloneElement(s,WI({style:WI({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},$N[e],g,s.props.style),ref:_},n))}))})),XN=YN;function JN(e){return JI("MuiBackdrop",e)}AA("MuiBackdrop",["root","invisible"]);const ZN=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],eD=YC("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return WI({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),tD=t.forwardRef((function(e,t){var n,r,i;const o=XC({props:e,name:"MuiBackdrop"}),{children:a,className:s,component:l="div",components:c={},componentsProps:u={},invisible:d=!1,open:h,slotProps:f={},slots:p={},TransitionComponent:m=XN,transitionDuration:g}=o,v=qI(o,ZN),y=WI({},o,{component:l,invisible:d}),b=(e=>{const{classes:t,invisible:n}=e;return ZI({root:["root",n&&"invisible"]},JN,t)})(y),w=null!=(n=f.root)?n:u.root;return(0,iC.jsx)(m,WI({in:h,timeout:g},v,{children:(0,iC.jsx)(eD,WI({"aria-hidden":!0},w,{as:null!=(r=null!=(i=p.root)?i:c.Root)?r:l,className:HI(b.root,s,null==w?void 0:w.className),ownerState:WI({},y,null==w?void 0:w.ownerState),classes:b,ref:t,children:a}))}))}));function nD(e){return JI("MuiModal",e)}AA("MuiModal",["root","hidden","backdrop"]);const rD=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],iD=YC("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return WI({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),oD=YC(tD,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),aD=t.forwardRef((function(e,n){var r,i,o,a,s,l;const c=XC({name:"MuiModal",props:e}),{BackdropComponent:u=oD,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:p,container:m,component:g,components:v={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:_=!1,disablePortal:S=!1,disableRestoreFocus:E=!1,disableScrollLock:I=!1,hideBackdrop:k=!1,keepMounted:T=!1,onBackdropClick:x,open:C,slotProps:A,slots:R}=c,P=qI(c,rD),N=WI({},c,{closeAfterTransition:f,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:_,disablePortal:S,disableRestoreFocus:E,disableScrollLock:I,hideBackdrop:k,keepMounted:T}),{getRootProps:D,getBackdropProps:O,getTransitionProps:L,portalRef:M,isTopModal:F,exited:j,hasTransition:U}=BN(WI({},N,{rootRef:n})),z=WI({},N,{exited:j}),V=(e=>{const{open:t,exited:n,classes:r}=e;return ZI({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},nD,r)})(z),B={};if(void 0===p.props.tabIndex&&(B.tabIndex="-1"),U){const{onEnter:e,onExited:t}=L();B.onEnter=e,B.onExited=t}const q=null!=(r=null!=(i=null==R?void 0:R.root)?i:v.Root)?r:iD,W=null!=(o=null!=(a=null==R?void 0:R.backdrop)?a:v.Backdrop)?o:u,K=null!=(s=null==A?void 0:A.root)?s:y.root,H=null!=(l=null==A?void 0:A.backdrop)?l:y.backdrop,G=eN({elementType:q,externalSlotProps:K,externalForwardedProps:P,getSlotProps:D,additionalProps:{ref:n,as:g},ownerState:z,className:HI(h,null==K?void 0:K.className,null==V?void 0:V.root,!z.open&&z.exited&&(null==V?void 0:V.hidden))}),Q=eN({elementType:W,externalSlotProps:H,additionalProps:d,getSlotProps:e=>O(WI({},e,{onClick:t=>{x&&x(t),null!=e&&e.onClick&&e.onClick(t)}})),className:HI(null==H?void 0:H.className,null==d?void 0:d.className,null==V?void 0:V.backdrop),ownerState:z});return T||C||U&&!j?(0,iC.jsx)(GN,{ref:M,container:m,disablePortal:S,children:(0,iC.jsxs)(q,WI({},G,{children:[!k&&u?(0,iC.jsx)(W,WI({},Q)):null,(0,iC.jsx)(HN,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:E,isEnabled:F,open:C,children:t.cloneElement(p,B)})]}))}):null})),sD=aD,lD=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function cD(e){return JI("MuiPaper",e)}AA("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const uD=["className","component","elevation","square","variant"],dD=YC("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return WI({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&WI({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(mC("#fff",lD(n.elevation)),", ").concat(mC("#fff",lD(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),hD=t.forwardRef((function(e,t){const n=XC({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:o=1,square:a=!1,variant:s="elevation"}=n,l=qI(n,uD),c=WI({},n,{component:i,elevation:o,square:a,variant:s}),u=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return ZI({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},cD,i)})(c);return(0,iC.jsx)(dD,WI({as:i,ownerState:c,className:HI(u.root,r),ref:t},l))})),fD=hD;function pD(e){return JI("MuiPopover",e)}AA("MuiPopover",["root","paper"]);const mD=["onEntering"],gD=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],vD=["slotProps"];function yD(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function bD(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function wD(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function _D(e){return"function"===typeof e?e():e}const SD=YC(sD,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ED=YC(fD,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ID=t.forwardRef((function(e,n){var r,i,o;const a=XC({props:e,name:"MuiPopover"}),{action:s,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:f,container:p,elevation:m=8,marginThreshold:g=16,open:v,PaperProps:y={},slots:b,slotProps:w,transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:S=ON,transitionDuration:E="auto",TransitionProps:{onEntering:I}={},disableScrollLock:k=!1}=a,T=qI(a.TransitionProps,mD),x=qI(a,gD),C=null!=(r=null==w?void 0:w.paper)?r:y,A=t.useRef(),R=nA(A,C.ref),P=WI({},a,{anchorOrigin:c,anchorReference:d,elevation:m,marginThreshold:g,externalPaperSlotProps:C,transformOrigin:_,TransitionComponent:S,transitionDuration:E,TransitionProps:T}),N=(e=>{const{classes:t}=e;return ZI({root:["root"],paper:["paper"]},pD,t)})(P),D=t.useCallback((()=>{if("anchorPosition"===d)return u;const e=_D(l),t=(e&&1===e.nodeType?e:YP(A.current).body).getBoundingClientRect();return{top:t.top+yD(t,c.vertical),left:t.left+bD(t,c.horizontal)}}),[l,c.horizontal,c.vertical,u,d]),O=t.useCallback((e=>({vertical:yD(e,_.vertical),horizontal:bD(e,_.horizontal)})),[_.horizontal,_.vertical]),L=t.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=O(t);if("none"===d)return{top:null,left:null,transformOrigin:wD(n)};const r=D();let i=r.top-n.vertical,o=r.left-n.horizontal;const a=i+t.height,s=o+t.width,c=gN(_D(l)),u=c.innerHeight-g,h=c.innerWidth-g;if(null!==g&&i<g){const e=i-g;i-=e,n.vertical+=e}else if(null!==g&&a>u){const e=a-u;i-=e,n.vertical+=e}if(null!==g&&o<g){const e=o-g;o-=e,n.horizontal+=e}else if(s>h){const e=s-h;o-=e,n.horizontal+=e}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:wD(n)}}),[l,d,D,O,g]),[M,F]=t.useState(v),j=t.useCallback((()=>{const e=A.current;if(!e)return;const t=L(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,F(!0)}),[L]);t.useEffect((()=>(k&&window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j))),[l,k,j]);t.useEffect((()=>{v&&j()})),t.useImperativeHandle(s,(()=>v?{updatePosition:()=>{j()}}:null),[v,j]),t.useEffect((()=>{if(!v)return;const e=mN((()=>{j()})),t=gN(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,v,j]);let U=E;"auto"!==E||S.muiSupportAuto||(U=void 0);const z=p||(l?YP(_D(l)).body:void 0),V=null!=(i=null==b?void 0:b.root)?i:SD,B=null!=(o=null==b?void 0:b.paper)?o:ED,q=eN({elementType:B,externalSlotProps:WI({},C,{style:M?C.style:WI({},C.style,{opacity:0})}),additionalProps:{elevation:m,ref:R},ownerState:P,className:HI(N.paper,null==C?void 0:C.className)}),W=eN({elementType:V,externalSlotProps:(null==w?void 0:w.root)||{},externalForwardedProps:x,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:z,open:v},ownerState:P,className:HI(N.root,f)}),{slotProps:K}=W,H=qI(W,vD);return(0,iC.jsx)(V,WI({},H,!OR(V)&&{slotProps:K,disableScrollLock:k},{children:(0,iC.jsx)(S,WI({appear:!0,in:v,onEntering:(e,t)=>{I&&I(e,t),j()},onExited:()=>{F(!1)},timeout:U},T,{children:(0,iC.jsx)(B,WI({},q,{children:h}))}))}))}));function kD(e){return JI("MuiMenu",e)}AA("MuiMenu",["root","paper","list"]);const TD=["onEntering"],xD=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],CD={vertical:"top",horizontal:"right"},AD={vertical:"top",horizontal:"left"},RD=YC(ID,{shouldForwardProp:e=>QC(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),PD=YC(ED,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ND=YC(pN,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),DD=t.forwardRef((function(e,n){var r,i;const o=XC({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:s,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:y={},slotProps:b={}}=o,w=qI(o.TransitionProps,TD),_=qI(o,xD),S=TN(),E="rtl"===S.direction,I=WI({},o,{autoFocus:a,disableAutoFocusItem:c,MenuListProps:u,onEntering:g,PaperProps:f,transitionDuration:m,TransitionProps:w,variant:v}),k=(e=>{const{classes:t}=e;return ZI({root:["root"],paper:["paper"],list:["list"]},kD,t)})(I),T=a&&!c&&h,x=t.useRef(null);let C=-1;t.Children.map(s,((e,n)=>{t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===C)&&(C=n))}));const A=null!=(r=y.paper)?r:PD,R=null!=(i=b.paper)?i:f,P=eN({elementType:y.root,externalSlotProps:b.root,ownerState:I,className:[k.root,l]}),N=eN({elementType:A,externalSlotProps:R,ownerState:I,className:k.paper});return(0,iC.jsx)(RD,WI({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?CD:AD,slots:{paper:A,root:y.root},slotProps:{root:P,paper:N},open:h,ref:n,transitionDuration:m,TransitionProps:WI({onEntering:(e,t)=>{x.current&&x.current.adjustStyleForScrollbar(e,S),g&&g(e,t)}},w),ownerState:I},_,{classes:p,children:(0,iC.jsx)(ND,WI({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:x,autoFocus:a&&(-1===C||c),autoFocusItem:T,variant:v},u,{className:HI(k.list,u.className),children:s}))}))})),OD=DD;function LD(e){return JI("MuiNativeSelect",e)}const MD=AA("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),FD=["className","disabled","error","IconComponent","inputRef","variant"],jD=e=>{let{ownerState:t,theme:n}=e;return WI({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":WI({},n.vars?{backgroundColor:"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(MD.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},UD=YC("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:QC,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(MD.multiple)]:t.multiple}]}})(jD),zD=e=>{let{ownerState:t,theme:n}=e;return WI({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,["&.".concat(MD.disabled)]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},VD=YC("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(cC(n.variant))],n.open&&t.iconOpen]}})(zD),BD=t.forwardRef((function(e,n){const{className:r,disabled:i,error:o,IconComponent:a,inputRef:s,variant:l="standard"}=e,c=qI(e,FD),u=WI({},e,{disabled:i,variant:l,error:o}),d=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:a}=e;return ZI({select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon","icon".concat(cC(n)),o&&"iconOpen",r&&"disabled"]},LD,t)})(u);return(0,iC.jsxs)(t.Fragment,{children:[(0,iC.jsx)(UD,WI({ownerState:u,className:HI(d.select,r),disabled:i,ref:s||n},c)),e.multiple?null:(0,iC.jsx)(VD,{as:a,ownerState:u,className:d.icon})]})})),qD=BD;const WD=function(e){let{controlled:n,default:r,name:i,state:o="value"}=e;const{current:a}=t.useRef(void 0!==n),[s,l]=t.useState(r);return[a?n:s,t.useCallback((e=>{a||l(e)}),[])]};function KD(e){return JI("MuiSelect",e)}const HD=AA("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var GD;const QD=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],$D=YC("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(HD.select)]:t.select},{["&.".concat(HD.select)]:t[n.variant]},{["&.".concat(HD.error)]:t.error},{["&.".concat(HD.multiple)]:t.multiple}]}})(jD,{["&.".concat(HD.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),YD=YC("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(cC(n.variant))],n.open&&t.iconOpen]}})(zD),XD=YC("input",{shouldForwardProp:e=>$C(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function JD(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function ZD(e){return null==e||"string"===typeof e&&!e.trim()}const eO=t.forwardRef((function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:a,autoWidth:s,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:f,error:p=!1,IconComponent:m,inputRef:g,labelId:v,MenuProps:y={},multiple:b,name:w,onBlur:_,onChange:S,onClose:E,onFocus:I,onOpen:k,open:T,readOnly:x,renderValue:C,SelectDisplayProps:A={},tabIndex:R,value:P,variant:N="standard"}=e,D=qI(e,QD),[O,L]=WD({controlled:P,default:d,name:"Select"}),[M,F]=WD({controlled:T,default:u,name:"Select"}),j=t.useRef(null),U=t.useRef(null),[z,V]=t.useState(null),{current:B}=t.useRef(null!=T),[q,W]=t.useState(),K=nA(n,g),H=t.useCallback((e=>{U.current=e,e&&V(e)}),[]),G=null==z?void 0:z.parentNode;t.useImperativeHandle(K,(()=>({focus:()=>{U.current.focus()},node:j.current,value:O})),[O]),t.useEffect((()=>{u&&M&&z&&!B&&(W(s?null:G.clientWidth),U.current.focus())}),[z,s]),t.useEffect((()=>{a&&U.current.focus()}),[a]),t.useEffect((()=>{if(!v)return;const e=YP(U.current).getElementById(v);if(e){const t=()=>{getSelection().isCollapsed&&U.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[v]);const Q=(e,t)=>{e?k&&k(t):E&&E(t),B||(W(s?null:G.clientWidth),F(e))},$=t.Children.toArray(l),Y=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(b){n=Array.isArray(O)?O.slice():[];const t=O.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),O!==n&&(L(n),S)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:w}}),S(i,e)}b||Q(!1,t)}},X=null!==z&&M;let J,Z;delete D["aria-invalid"];const ee=[];let te=!1,ne=!1;(qR({value:O})||f)&&(C?J=C(O):te=!0);const re=$.map((e=>{if(!t.isValidElement(e))return null;let n;if(b){if(!Array.isArray(O))throw new Error(GI(2));n=O.some((t=>JD(t,e.props.value))),n&&te&&ee.push(e.props.children)}else n=JD(O,e.props.value),n&&te&&(Z=e.props.children);return n&&(ne=!0),t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:Y(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));te&&(J=b?0===ee.length?null:ee.reduce(((e,t,n)=>(e.push(t),n<ee.length-1&&e.push(", "),e)),[]):Z);let ie,oe=q;!s&&B&&z&&(oe=G.clientWidth),ie="undefined"!==typeof R?R:h?null:0;const ae=A.id||(w?"mui-component-select-".concat(w):void 0),se=WI({},e,{variant:N,value:O,open:X,error:p}),le=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:a}=e;return ZI({select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon","icon".concat(cC(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},KD,t)})(se),ce=WI({},y.PaperProps,null==(r=y.slotProps)?void 0:r.paper),ue=ER();return(0,iC.jsxs)(t.Fragment,{children:[(0,iC.jsx)($D,WI({ref:H,tabIndex:ie,role:"combobox","aria-controls":ue,"aria-disabled":h?"true":void 0,"aria-expanded":X?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,ae].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:e=>{if(!x){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),Q(!0,e))}},onMouseDown:h||x?null:e=>{0===e.button&&(e.preventDefault(),U.current.focus(),Q(!0,e))},onBlur:e=>{!X&&_&&(Object.defineProperty(e,"target",{writable:!0,value:{value:O,name:w}}),_(e))},onFocus:I},A,{ownerState:se,className:HI(A.className,le.select,c),id:ae,children:ZD(J)?GD||(GD=(0,iC.jsx)("span",{className:"notranslate",children:"\u200b"})):J})),(0,iC.jsx)(XD,WI({"aria-invalid":p,value:Array.isArray(O)?O.join(","):O,name:w,ref:j,"aria-hidden":!0,onChange:e=>{const t=$.find((t=>t.props.value===e.target.value));void 0!==t&&(L(t.props.value),S&&S(e,t))},tabIndex:-1,disabled:h,className:le.nativeInput,autoFocus:a,ownerState:se},D)),(0,iC.jsx)(YD,{as:m,className:le.icon,ownerState:se}),(0,iC.jsx)(OD,WI({id:"menu-".concat(w||""),anchorEl:G,open:X,onClose:e=>{Q(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:WI({"aria-labelledby":v,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:ue},y.MenuListProps),slotProps:WI({},y.slotProps,{paper:WI({},ce,{style:WI({minWidth:oe},null!=ce?ce.style:null)})}),children:re}))]})})),tO=eO;function nO(e){return JI("MuiSvgIcon",e)}AA("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const rO=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],iO=YC("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(cC(n.color))],t["fontSize".concat(cC(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,o,a,s,l,c,u,d,h,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(a=t.typography)||null==(s=a.pxToRem)?void 0:s.call(a,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(f=(t.vars||t).palette)||null==(f=f[n.color])?void 0:f.main)?h:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),oO=t.forwardRef((function(e,n){const r=XC({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=qI(r,rO),p=t.isValidElement(i)&&"svg"===i.type,m=WI({},r,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:p}),g={};u||(g.viewBox=h);const v=(e=>{const{color:t,fontSize:n,classes:r}=e;return ZI({root:["root","inherit"!==t&&"color".concat(cC(t)),"fontSize".concat(cC(n))]},nO,r)})(m);return(0,iC.jsxs)(iO,WI({as:s,className:HI(v.root,o),focusable:"false",color:c,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:n},g,f,p&&i.props,{ownerState:m,children:[p?i.props.children:i,d?(0,iC.jsx)("title",{children:d}):null]}))}));oO.muiName="SvgIcon";const aO=oO;function sO(e,n){function r(t,r){return(0,iC.jsx)(aO,WI({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))}return r.muiName=aO.muiName,t.memo(t.forwardRef(r))}const lO=sO((0,iC.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),cO=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],uO=["root"],dO={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>QC(e)&&"variant"!==e,slot:"Root"},hO=YC(aP,dO)(""),fO=YC(kP,dO)(""),pO=YC(fP,dO)(""),mO=t.forwardRef((function(e,n){const r=XC({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:a={},className:s,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=lO,id:d,input:h,inputProps:f,label:p,labelId:m,MenuProps:g,multiple:v=!1,native:y=!1,onClose:b,onOpen:w,open:_,renderValue:S,SelectDisplayProps:E,variant:I="outlined"}=r,k=qI(r,cO),T=y?qD:tO,x=LR({props:r,muiFormControl:FR(),states:["variant","error"]}),C=x.variant||I,A=WI({},r,{variant:C,classes:a}),R=(e=>{const{classes:t}=e;return t})(A),P=qI(R,uO),N=h||{standard:(0,iC.jsx)(hO,{ownerState:A}),outlined:(0,iC.jsx)(fO,{label:p,ownerState:A}),filled:(0,iC.jsx)(pO,{ownerState:A})}[C],D=nA(n,N.ref);return(0,iC.jsx)(t.Fragment,{children:t.cloneElement(N,WI({inputComponent:T,inputProps:WI({children:o,error:x.error,IconComponent:u,variant:C,type:void 0,multiple:v},y?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:b,onOpen:w,open:_,renderValue:S,SelectDisplayProps:WI({id:d},E)},f,{classes:f?rk(P,f.classes):P},h?h.props.inputProps:{})},v&&y&&"outlined"===C?{notched:!0}:{},{ref:D,className:HI(N.props.className,s,R.root)},!h&&{variant:C},k))})}));mO.muiName="Select";const gO=mO;function vO(e){return JI("MuiTextField",e)}AA("MuiTextField",["root"]);const yO=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],bO={standard:aP,filled:fP,outlined:kP},wO=YC(qP,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),_O=t.forwardRef((function(e,t){const n=XC({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:a,color:s="primary",defaultValue:l,disabled:c=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:f,id:p,InputLabelProps:m,inputProps:g,InputProps:v,inputRef:y,label:b,maxRows:w,minRows:_,multiline:S=!1,name:E,onBlur:I,onChange:k,onFocus:T,placeholder:x,required:C=!1,rows:A,select:R=!1,SelectProps:P,type:N,value:D,variant:O="outlined"}=n,L=qI(n,yO),M=WI({},n,{autoFocus:i,color:s,disabled:c,error:u,fullWidth:h,multiline:S,required:C,select:R,variant:O}),F=(e=>{const{classes:t}=e;return ZI({root:["root"]},vO,t)})(M);const j={};"outlined"===O&&(m&&"undefined"!==typeof m.shrink&&(j.notched=m.shrink),j.label=b),R&&(P&&P.native||(j.id=void 0),j["aria-describedby"]=void 0);const U=ER(p),z=f&&U?"".concat(U,"-helper-text"):void 0,V=b&&U?"".concat(U,"-label"):void 0,B=bO[O],q=(0,iC.jsx)(B,WI({"aria-describedby":z,autoComplete:r,autoFocus:i,defaultValue:l,fullWidth:h,multiline:S,name:E,rows:A,maxRows:w,minRows:_,type:N,value:D,id:U,inputRef:y,onBlur:I,onChange:k,onFocus:T,placeholder:x,inputProps:g},j,v));return(0,iC.jsxs)(wO,WI({className:HI(F.root,a),disabled:c,error:u,fullWidth:h,ref:t,required:C,color:s,variant:O,ownerState:M},L,{children:[null!=b&&""!==b&&(0,iC.jsx)(FP,WI({htmlFor:U,id:V},m,{children:b})),R?(0,iC.jsx)(gO,WI({"aria-describedby":z,id:U,labelId:V,value:D,input:q},P,{children:o})):q,f&&(0,iC.jsx)($P,WI({id:z},d,{children:f}))]}))})),SO=_O;function EO(e){let{usersRef:n,user:r,firestore:i,firebase:o}=e;const[a,s]=(0,t.useState)(""),[l,c]=(0,t.useState)(!1);return(0,iC.jsxs)(iC.Fragment,{children:[(0,iC.jsxs)(wR,{children:["Enter a username to use for ",r.email]}),(0,iC.jsx)(SO,{id:"username-input",label:"Username",variant:"outlined",onInput:e=>{s(e.target.value),c(e.target.value.length>=3)},value:a}),(0,iC.jsx)(cR,{onClick:async()=>{l&&await n.add({email:r.email,username:a,nickname:a,createdOn:o.firestore.FieldValue.serverTimestamp()}).then((e=>e)).catch((e=>{console.log(e)}))},disabled:!l,children:"Submit"})]})}function IO(e){let{usersRef:n,user:r,userData:i,getUserId:o,firestore:a,firebase:s,setPage:l}=e;const[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(i.username),f=()=>{u(!1)};return(0,iC.jsxs)(iC.Fragment,{children:[c?(0,iC.jsxs)(iC.Fragment,{children:[(0,iC.jsx)(SO,{id:"change-username-input",label:"Username",variant:"outlined",onInput:e=>{h(e.target.value)},value:d}),(0,iC.jsx)(cR,{onClick:async()=>{const e=o();if(e){const t=Om(n,e);return await tv(t,{username:d,nickname:d}).then(f).catch((e=>{console.log(e)}))}},children:"OK"}),(0,iC.jsx)(cR,{onClick:f,children:"Cancel"})]}):(0,iC.jsxs)(iC.Fragment,{children:[(0,iC.jsx)(wR,{children:i.username}),(0,iC.jsx)(cR,{onClick:()=>{u(!0)},children:"Edit"})]}),(0,iC.jsx)(cR,{onClick:()=>{l("host")},children:"Host Game"})]})}var kO=function(){return kO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kO.apply(this,arguments)},TO=function(e){return{loading:void 0===e||null===e,value:e}},xO=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return kO(kO({},e),{error:t.error,loading:!1,value:void 0});case"reset":return TO(t.defaultValue);case"value":return kO(kO({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),TO(n)),i=r[0],o=r[1],a=(0,t.useCallback)((function(){var t=e?e():void 0;o({type:"reset",defaultValue:t})}),[e]),s=(0,t.useCallback)((function(e){o({type:"error",error:e})}),[]),l=(0,t.useCallback)((function(e){o({type:"value",value:e})}),[]);return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:a,setError:s,setValue:l,value:i.value}}),[i.error,i.loading,a,s,l,i.value])},CO=function(e,n,r){var i=(0,t.useRef)(e);return(0,t.useEffect)((function(){n(e,i.current)||(i.current=e,r&&r())})),i},AO=function(e,t){var n=!e&&!t,r=!!e&&!!t&&Lm(e,t);return n||r},RO=function(e,t){return CO(e,AO,t)},PO=function(e,t){var n=!e&&!t,r=!!e&&!!t&&Mm(e,t);return n||r},NO=function(e,t){return CO(e,PO,t)},DO=function(e,n){var r=function(e,n){var r=xO(),i=r.error,o=r.loading,a=r.reset,s=r.setError,l=r.setValue,c=r.value,u=NO(e,a);return(0,t.useEffect)((function(){if(u.current){var e=(null===n||void 0===n?void 0:n.snapshotListenOptions)?nv(u.current,n.snapshotListenOptions,l,s):nv(u.current,l,s);return function(){e()}}l(void 0)}),[u.current]),[c,o,i]}(e,n),i=r[0],o=r[1],a=r[2];return[OO(i,null===n||void 0===n?void 0:n.snapshotOptions,null===n||void 0===n?void 0:n.initialValue),o,a,i]},OO=function(e,n,r){return(0,t.useMemo)((function(){var t;return null!==(t=null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(n)})))&&void 0!==t?t:r}),[e,n])},LO=function(e,n){var r=function(e,n){var r=xO(),i=r.error,o=r.loading,a=r.reset,s=r.setError,l=r.setValue,c=r.value,u=RO(e,a);return(0,t.useEffect)((function(){if(u.current){var e=(null===n||void 0===n?void 0:n.snapshotListenOptions)?nv(u.current,n.snapshotListenOptions,l,s):nv(u.current,l,s);return function(){e()}}l(void 0)}),[u.current]),[c,o,i]}(e,n),i=r[0],o=r[1],a=r[2];return[MO(i,null===n||void 0===n?void 0:n.snapshotOptions,null===n||void 0===n?void 0:n.initialValue),o,a,i]},MO=function(e,n,r){return(0,t.useMemo)((function(){var t;return null!==(t=null===e||void 0===e?void 0:e.data(n))&&void 0!==t?t:r}),[e,n,r])};function FO(e){return JI("MuiFormGroup",e)}AA("MuiFormGroup",["root","row","error"]);const jO=["className","row"],UO=YC("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})((e=>{let{ownerState:t}=e;return WI({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),zO=t.forwardRef((function(e,t){const n=XC({props:e,name:"MuiFormGroup"}),{className:r,row:i=!1}=n,o=qI(n,jO),a=WI({},n,{row:i,error:LR({props:n,muiFormControl:FR(),states:["error"]}).error}),s=(e=>{const{classes:t,row:n,error:r}=e;return ZI({root:["root",n&&"row",r&&"error"]},FO,t)})(a);return(0,iC.jsx)(UO,WI({className:HI(s.root,r),ownerState:a,ref:t},o))}));const VO=t.createContext(void 0),BO=ER,qO=["actions","children","defaultValue","name","onChange","value"],WO=t.forwardRef((function(e,n){const{actions:r,children:i,defaultValue:o,name:a,onChange:s,value:l}=e,c=qI(e,qO),u=t.useRef(null),[d,h]=WD({controlled:l,default:o,name:"RadioGroup"});t.useImperativeHandle(r,(()=>({focus:()=>{let e=u.current.querySelector("input:not(:disabled):checked");e||(e=u.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const f=nA(n,u),p=BO(a),m=t.useMemo((()=>({name:p,onChange(e){h(e.target.value),s&&s(e,e.target.value)},value:d})),[p,s,h,d]);return(0,iC.jsx)(VO.Provider,{value:m,children:(0,iC.jsx)(zO,WI({role:"radiogroup",ref:f},c,{children:i}))})})),KO=["component","direction","spacing","divider","children","className","useFlexGap"],HO=cT(),GO=rC("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function QO(e){return Ox({props:e,name:"MuiStack",defaultTheme:HO})}function $O(e,n){const r=t.Children.toArray(e).filter(Boolean);return r.reduce(((e,i,o)=>(e.push(i),o<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(o)})),e)),[])}const YO=e=>{let{ownerState:t,theme:n}=e,r=WI({display:"flex",flexDirection:"column"},ck({theme:n},hk({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=kk(n),i=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),o=hk({values:t.direction,base:i}),a=hk({values:t.spacing,base:i});"object"===typeof o&&Object.keys(o).forEach(((e,t,n)=>{if(!o[e]){const r=t>0?o[n[t-1]]:"column";o[e]=r}}));r=rk(r,ck({theme:n},a,((n,r)=>{return t.useFlexGap?{gap:Tk(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((i=r?o[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i]))]:Tk(e,n)}};var i})))}return r=function(e){const t=uk(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=[t,...r].reduce(((e,t)=>rk(e,t)),{});return dk(Object.keys(t),o)}(n.breakpoints,r),r};const XO=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=GO,useThemeProps:r=QO,componentName:i="MuiStack"}=e,o=n(YO),a=t.forwardRef((function(e,t){const n=fR(r(e)),{component:a="div",direction:s="column",spacing:l=0,divider:c,children:u,className:d,useFlexGap:h=!1}=n,f=qI(n,KO),p={direction:s,spacing:l,useFlexGap:h},m=ZI({root:["root"]},(e=>JI(i,e)),{});return(0,iC.jsx)(o,WI({as:a,ownerState:p,ref:t,className:HI(m.root,d)},f,{children:c?$O(u,c):u}))}));return a}({createStyledComponent:YC("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>XC({props:e,name:"MuiStack"})}),JO=XO;function ZO(e){return JI("MuiFormControlLabel",e)}const eL=AA("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),tL=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],nL=YC("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(eL.label)]:t.label},t.root,t["labelPlacement".concat(cC(n.labelPlacement))]]}})((e=>{let{theme:t,ownerState:n}=e;return WI({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(eL.disabled)]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(eL.label)]:{["&.".concat(eL.disabled)]:{color:(t.vars||t).palette.text.disabled}}})})),rL=YC("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(eL.error)]:{color:(t.vars||t).palette.error.main}}})),iL=t.forwardRef((function(e,n){var r,i;const o=XC({props:e,name:"MuiFormControlLabel"}),{className:a,componentsProps:s={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:h="end",required:f,slotProps:p={}}=o,m=qI(o,tL),g=FR(),v=null!=(r=null!=c?c:l.props.disabled)?r:null==g?void 0:g.disabled,y=null!=f?f:l.props.required,b={disabled:v,required:y};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof l.props[e]&&"undefined"!==typeof o[e]&&(b[e]=o[e])}));const w=LR({props:o,muiFormControl:g,states:["error"]}),_=WI({},o,{disabled:v,labelPlacement:h,required:y,error:w.error}),S=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e;return ZI({root:["root",n&&"disabled","labelPlacement".concat(cC(r)),i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]},ZO,t)})(_),E=null!=(i=p.typography)?i:s.typography;let I=d;return null==I||I.type===wR||u||(I=(0,iC.jsx)(wR,WI({component:"span"},E,{className:HI(S.label,null==E?void 0:E.className),children:I}))),(0,iC.jsxs)(nL,WI({className:HI(S.root,a),ownerState:_,ref:n},m,{children:[t.cloneElement(l,b),y?(0,iC.jsxs)(JO,{display:"block",children:[I,(0,iC.jsxs)(rL,{ownerState:_,"aria-hidden":!0,className:S.asterisk,children:["\u2009","*"]})]}):I]}))}));function oL(e){return JI("PrivateSwitchBase",e)}AA("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const aL=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],sL=YC(JA)((e=>{let{ownerState:t}=e;return WI({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),lL=YC("input",{shouldForwardProp:QC})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),cL=t.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:i,className:o,defaultChecked:a,disabled:s,disableFocusRipple:l=!1,edge:c=!1,icon:u,id:d,inputProps:h,inputRef:f,name:p,onBlur:m,onChange:g,onFocus:v,readOnly:y,required:b=!1,tabIndex:w,type:_,value:S}=e,E=qI(e,aL),[I,k]=WD({controlled:r,default:Boolean(a),name:"SwitchBase",state:"checked"}),T=FR();let x=s;T&&"undefined"===typeof x&&(x=T.disabled);const C="checkbox"===_||"radio"===_,A=WI({},e,{checked:I,disabled:x,disableFocusRipple:l,edge:c}),R=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e;return ZI({root:["root",n&&"checked",r&&"disabled",i&&"edge".concat(cC(i))],input:["input"]},oL,t)})(A);return(0,iC.jsxs)(sL,WI({component:"span",className:HI(R.root,o),centerRipple:!0,focusRipple:!l,disabled:x,tabIndex:null,role:void 0,onFocus:e=>{v&&v(e),T&&T.onFocus&&T.onFocus(e)},onBlur:e=>{m&&m(e),T&&T.onBlur&&T.onBlur(e)},ownerState:A,ref:t},E,{children:[(0,iC.jsx)(lL,WI({autoFocus:n,checked:r,defaultChecked:a,className:R.input,disabled:x,id:C?d:void 0,name:p,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;k(t),g&&g(e,t)},readOnly:y,ref:f,required:b,ownerState:A,tabIndex:w,type:_},"checkbox"===_&&void 0===S?{}:{value:S},h)),I?i:u]}))})),uL=cL,dL=sO((0,iC.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),hL=sO((0,iC.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),fL=YC("span",{shouldForwardProp:QC})({position:"relative",display:"flex"}),pL=YC(dL)({transform:"scale(1)"}),mL=YC(hL)((e=>{let{theme:t,ownerState:n}=e;return WI({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));const gL=function(e){const{checked:t=!1,classes:n={},fontSize:r}=e,i=WI({},e,{checked:t});return(0,iC.jsxs)(fL,{className:n.root,ownerState:i,children:[(0,iC.jsx)(pL,{fontSize:r,className:n.background,ownerState:i}),(0,iC.jsx)(mL,{fontSize:r,className:n.dot,ownerState:i})]})},vL=LN;function yL(e){return JI("MuiRadio",e)}const bL=AA("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),wL=["checked","checkedIcon","color","icon","name","onChange","size","className"],_L=YC(uL,{shouldForwardProp:e=>QC(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"medium"!==n.size&&t["size".concat(cC(n.size))],t["color".concat(cC(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;return WI({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):mC("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(bL.checked)]:{color:(t.vars||t).palette[n.color].main}},{["&.".concat(bL.disabled)]:{color:(t.vars||t).palette.action.disabled}})}));const SL=(0,iC.jsx)(gL,{checked:!0}),EL=(0,iC.jsx)(gL,{}),IL=t.forwardRef((function(e,n){var r,i;const o=XC({props:e,name:"MuiRadio"}),{checked:a,checkedIcon:s=SL,color:l="primary",icon:c=EL,name:u,onChange:d,size:h="medium",className:f}=o,p=qI(o,wL),m=WI({},o,{color:l,size:h}),g=(e=>{const{classes:t,color:n,size:r}=e;return WI({},t,ZI({root:["root","color".concat(cC(n)),"medium"!==r&&"size".concat(cC(r))]},yL,t))})(m),v=t.useContext(VO);let y=a;const b=vL(d,v&&v.onChange);let w=u;return v&&("undefined"===typeof y&&(y=function(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}(v.value,o.value)),"undefined"===typeof w&&(w=v.name)),(0,iC.jsx)(_L,WI({type:"radio",icon:t.cloneElement(c,{fontSize:null!=(r=EL.props.fontSize)?r:h}),checkedIcon:t.cloneElement(s,{fontSize:null!=(i=SL.props.fontSize)?i:h}),ownerState:m,classes:g,name:w,checked:y,onChange:b,ref:n,className:HI(g.root,f)},p))})),kL=IL;function TL(e){let{userData:n,getUserId:r,firestore:i,setPage:o,setGameId:a,sessionsRef:s}=e;const l=r(),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(!0);return(0,iC.jsxs)(iC.Fragment,{children:[(0,iC.jsx)(SO,{id:"host-title-input",onInput:e=>{u(e.target.value)},value:c,label:"Game Name"}),(0,iC.jsx)("br",{}),(0,iC.jsx)("br",{}),(0,iC.jsx)(SO,{id:"host-joinphrase-input",onInput:e=>{h(e.target.value)},value:d,label:"Join Phrase"}),(0,iC.jsx)("br",{}),(0,iC.jsx)("br",{}),(0,iC.jsxs)(qP,{children:[(0,iC.jsx)(NP,{id:"demo-radio-buttons-group-label",children:"Use this device as a..."}),(0,iC.jsxs)(WO,{"aria-labelledby":"demo-radio-buttons-group-label",value:f,name:"radio-buttons-group",onChange:e=>{p(e.target.value)},children:[(0,iC.jsx)(iL,{value:!0,control:(0,iC.jsx)(kL,{}),label:"Player"}),(0,iC.jsx)(iL,{value:!1,control:(0,iC.jsx)(kL,{}),label:"Display"})]})]}),(0,iC.jsx)("br",{}),(0,iC.jsx)("br",{}),(0,iC.jsx)(cR,{onClick:async()=>{await s.add({title:c,joinPhrase:d,hostId:l,hostName:n.username,players:f?[{type:"user",id:l,nickname:n.nickname}]:[],spectators:f?[]:[{id:l,nickname:n.nickname}],mode:"",chat:[]}).then((e=>{const t=(e=>{const t=e._delegate._key.path.segments;return t[t.length-1]})(e);a(t),o("lobby")})).catch((e=>{console.log(e)}))},children:"Start Session"}),(0,iC.jsx)("br",{}),(0,iC.jsx)("br",{})]})}function xL(e){let{userData:t,getUserId:n,firestore:r,setPage:i,gameId:o,sessionsRef:a}=e;const s=Om(a,o),[l,c,u,d]=LO(s);c||(console.log("sessionDoc values:"),console.log(l))}function CL(e){let{user:n,firebase:r,firestore:i}=e;const o=i.collection("Sessions"),a=i.collection("Users"),s=a.where("email","==",n.email).limit(1),[l,c,u,d]=DO(s),[h,f]=(0,t.useState)("dash"),[p,m]=(0,t.useState)(!1),g=()=>{const e=!!d&&d._snapshot.docs.sortedSet.root.key.key.path.segments;return!!e&&e[e.length-1]};return(0,iC.jsxs)(iC.Fragment,{children:[(0,iC.jsxs)(iC.Fragment,{children:[" ","dash"===h&&(c?(0,iC.jsx)("p",{children:"Loading..."}):l[0]?(0,iC.jsx)(IO,{usersRef:a,user:n,userData:l[0],getUserId:g,firestore:i,firebase:r,setPage:f}):(0,iC.jsx)(EO,{usersRef:a,user:n,firestore:i,firebase:r}))," "]}),(0,iC.jsxs)(iC.Fragment,{children:[" ","host"===h&&(0,iC.jsx)(TL,{userData:l[0],getUserId:g,firestore:i,setPage:f,setGameId:m,sessionsRef:o})," "]}),(0,iC.jsxs)(iC.Fragment,{children:[" ","lobby"===h&&(0,iC.jsx)(xL,{userData:l[0],getUserId:g,firestore:i,setPage:f,gameId:p,sessionsRef:o})," "]})]})}function AL(e){let{auth:t,firebase:n}=e;return(0,iC.jsx)(iC.Fragment,{children:(0,iC.jsx)(cR,{className:"login-btn",onClick:()=>{const e=new n.auth.GoogleAuthProvider;t.signInWithPopup(e)},children:"Sign in with Google"})})}function RL(e){let{auth:t,firebase:n,firestore:r,page:i,setPage:o}=e;return(0,iC.jsxs)(iC.Fragment,{children:[(0,iC.jsx)(AL,{auth:t,firebase:n}),(0,iC.jsx)("br",{}),(0,iC.jsx)("br",{}),(0,iC.jsx)(cR,{onClick:()=>{o("join")},children:"Join Game"})]})}function PL(){return PL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PL.apply(this,arguments)}var NL;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(NL||(NL={}));const DL="popstate";function OL(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function LL(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function ML(e,t){return{usr:e.state,key:e.key,idx:t}}function FL(e,t,n,r){return void 0===n&&(n=null),PL({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?UL(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function jL(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function UL(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function zL(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=NL.Pop,l=null,c=u();function u(){return(a.state||{idx:null}).idx}function d(){s=NL.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:f.location,delta:t})}function h(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:jL(e);return OL(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,a.replaceState(PL({},a.state,{idx:c}),""));let f={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(DL,d),l=e,()=>{i.removeEventListener(DL,d),l=null}},createHref:e=>t(i,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=NL.Push;let r=FL(f.location,e,t);n&&n(r,e),c=u()+1;let d=ML(r,c),h=f.createHref(r);try{a.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}o&&l&&l({action:s,location:f.location,delta:1})},replace:function(e,t){s=NL.Replace;let r=FL(f.location,e,t);n&&n(r,e),c=u();let i=ML(r,c),d=f.createHref(r);a.replaceState(i,"",d),o&&l&&l({action:s,location:f.location,delta:0})},go:e=>a.go(e)};return f}var VL;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(VL||(VL={}));const BL=new Set(["lazy","caseSensitive","path","id","index","children"]);function qL(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,i)=>{let o=[...n,i],a="string"===typeof e.id?e.id:o.join("-");if(OL(!0!==e.index||!e.children,"Cannot specify children on an index route"),OL(!r[a],'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=PL({},e,t(e),{id:a});return r[a]=n,n}{let n=PL({},e,t(e),{id:a,children:void 0});return r[a]=n,e.children&&(n.children=qL(e.children,t,o,r)),n}}))}function WL(e,t,n){void 0===n&&(n="/");let r=iM(("string"===typeof t?UL(t):t).pathname||"/",n);if(null==r)return null;let i=KL(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a)o=tM(i[a],rM(r));return o}function KL(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(OL(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=cM([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(OL(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),KL(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:eM(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of HL(e.path))i(e,t,r);else i(e,t)})),t}function HL(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=HL(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const GL=/^:[\w-]+$/,QL=3,$L=2,YL=1,XL=10,JL=-2,ZL=e=>"*"===e;function eM(e,t){let n=e.split("/"),r=n.length;return n.some(ZL)&&(r+=JL),t&&(r+=$L),n.filter((e=>!ZL(e))).reduce(((e,t)=>e+(GL.test(t)?QL:""===t?YL:XL)),r)}function tM(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=nM({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:cM([i,c.pathname]),pathnameBase:uM(cM([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=cM([i,c.pathnameBase]))}return o}function nM(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);LL("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return LL(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function rM(e){try{return decodeURI(e)}catch(t){return LL(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function iM(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function oM(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function aM(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function sM(e,t){let n=aM(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function lM(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=UL(e):(i=PL({},e),OL(!i.pathname||!i.pathname.includes("?"),oM("?","pathname","search",i)),OL(!i.pathname||!i.pathname.includes("#"),oM("#","pathname","hash",i)),OL(!i.search||!i.search.includes("#"),oM("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?UL(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:dM(r),hash:hM(i)}}(i,o),c=s&&"/"!==s&&s.endsWith("/"),u=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const cM=e=>e.join("/").replace(/\/\/+/g,"/"),uM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dM=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",hM=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class fM{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function pM(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const mM=["post","put","patch","delete"],gM=new Set(mM),vM=["get",...mM],yM=new Set(vM),bM=new Set([301,302,303,307,308]),wM=new Set([307,308]),_M={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},SM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},EM={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},IM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kM=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),TM="remix-router-transitions";function xM(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,r=!n;let i;if(OL(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;i=e=>({hasErrorBoundary:t(e)})}else i=kM;let o,a,s={},l=qL(e.routes,i,void 0,s),c=e.basename||"/",u=PL({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),d=null,h=new Set,f=null,p=null,m=null,g=null!=e.hydrationData,v=WL(l,e.history.location,c),y=null;if(null==v){let t=WM(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=qM(l);v=n,y={[r.id]:t}}let b,w=v.some((e=>e.route.lazy)),_=v.some((e=>e.route.loader));if(w)a=!1;else if(_)if(u.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;a=v.every((e=>e.route.loader&&!0!==e.route.loader.hydrate&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id])))}else a=null!=e.hydrationData;else a=!0;let S,E={historyAction:e.history.action,location:e.history.location,matches:v,initialized:a,navigation:_M,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||y,fetchers:new Map,blockers:new Map},I=NL.Pop,k=!1,T=!1,x=new Map,C=null,A=!1,R=!1,P=[],N=[],D=new Map,O=0,L=-1,M=new Map,F=new Set,j=new Map,U=new Map,z=new Set,V=new Map,B=new Map,q=!1;function W(e,t){void 0===t&&(t={}),E=PL({},E,e);let n=[],r=[];u.v7_fetcherPersist&&E.fetchers.forEach(((e,t)=>{"idle"===e.state&&(z.has(t)?r.push(t):n.push(t))})),[...h].forEach((e=>e(E,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),u.v7_fetcherPersist&&(n.forEach((e=>E.fetchers.delete(e))),r.forEach((e=>Z(e))))}function K(t,n,r){var i,a;let s,{flushSync:c}=void 0===r?{}:r,u=null!=E.actionData&&null!=E.navigation.formMethod&&JM(E.navigation.formMethod)&&"loading"===E.navigation.state&&!0!==(null==(i=t.state)?void 0:i._isRedirect);s=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:u?E.actionData:null;let d=n.loaderData?VM(E.loaderData,n.loaderData,n.matches||[],n.errors):E.loaderData,h=E.blockers;h.size>0&&(h=new Map(h),h.forEach(((e,t)=>h.set(t,EM))));let f,p=!0===k||null!=E.navigation.formMethod&&JM(E.navigation.formMethod)&&!0!==(null==(a=t.state)?void 0:a._isRedirect);if(o&&(l=o,o=void 0),A||I===NL.Pop||(I===NL.Push?e.history.push(t,t.state):I===NL.Replace&&e.history.replace(t,t.state)),I===NL.Pop){let e=x.get(E.location.pathname);e&&e.has(t.pathname)?f={currentLocation:E.location,nextLocation:t}:x.has(t.pathname)&&(f={currentLocation:t,nextLocation:E.location})}else if(T){let e=x.get(E.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),x.set(E.location.pathname,e)),f={currentLocation:E.location,nextLocation:t}}W(PL({},n,{actionData:s,loaderData:d,historyAction:I,location:t,initialized:!0,navigation:_M,revalidation:"idle",restoreScrollPosition:ce(t,n.matches||E.matches),preventScrollReset:p,blockers:h}),{viewTransitionOpts:f,flushSync:!0===c}),I=NL.Pop,k=!1,T=!1,A=!1,R=!1,P=[],N=[]}async function H(t,n,r){S&&S.abort(),S=null,I=t,A=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(f&&m){let n=le(e,t);f[n]=m()}}(E.location,E.matches),k=!0===(r&&r.preventScrollReset),T=!0===(r&&r.enableViewTransition);let a=o||l,d=r&&r.overrideNavigation,h=WL(a,n,c),p=!0===(r&&r.flushSync);if(!h){let e=WM(404,{pathname:n.pathname}),{matches:t,route:r}=qM(a);return se(),void K(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:p})}if(E.initialized&&!R&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(E.location,n)&&!(r&&r.submission&&JM(r.submission.formMethod)))return void K(n,{matches:h},{flushSync:p});S=new AbortController;let g,v,y=MM(e.history,n,S.signal,r&&r.submission);if(r&&r.pendingError)v={[BM(h).route.id]:r.pendingError};else if(r&&r.submission&&JM(r.submission.formMethod)){let e=await async function(e,t,n,r,o){void 0===o&&(o={});$();let a,l=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);W({navigation:l},{flushSync:!0===o.flushSync});let d=nF(r,t);if(d.route.action||d.route.lazy){if(a=await LM("action",e,d,r,s,i,c,u.v7_relativeSplatPath),e.signal.aborted)return{shortCircuited:!0}}else a={type:VL.error,error:WM(405,{method:e.method,pathname:t.pathname,routeId:d.route.id})};if($M(a)){let e;return e=o&&null!=o.replace?o.replace:a.location===E.location.pathname+E.location.search,await G(E,a,{submission:n,replace:e}),{shortCircuited:!0}}if(QM(a)){let e=BM(r,d.route.id);return!0!==(o&&o.replace)&&(I=NL.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:a.error}}}if(GM(a))throw WM(400,{type:"defer-action"});return{pendingActionData:{[d.route.id]:a.data}}}(y,n,r.submission,h,{replace:r.replace,flushSync:p});if(e.shortCircuited)return;g=e.pendingActionData,v=e.pendingActionError,d=iF(n,r.submission),p=!1,y=new Request(y.url,{signal:y.signal})}let{shortCircuited:b,loaderData:w,errors:_}=await async function(t,n,r,i,a,s,d,h,f,p,m){let g=i||iF(n,a),v=a||s||rF(g),y=o||l,[b,w]=PM(e.history,E,r,v,n,u.v7_partialHydration&&!0===h,R,P,N,z,j,F,y,c,p,m);if(se((e=>!(r&&r.some((t=>t.route.id===e)))||b&&b.some((t=>t.route.id===e)))),L=++O,0===b.length&&0===w.length){let e=ne();return K(n,PL({matches:r,loaderData:{},errors:m||null},p?{actionData:p}:{},e?{fetchers:new Map(E.fetchers)}:{}),{flushSync:f}),{shortCircuited:!0}}if(!A&&(!u.v7_partialHydration||!h)){w.forEach((e=>{let t=E.fetchers.get(e.key),n=oF(void 0,t?t.data:void 0);E.fetchers.set(e.key,n)}));let e=p||E.actionData;W(PL({navigation:g},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},w.length>0?{fetchers:new Map(E.fetchers)}:{}),{flushSync:f})}w.forEach((e=>{D.has(e.key)&&ee(e.key),e.controller&&D.set(e.key,e.controller)}));let _=()=>w.forEach((e=>ee(e.key)));S&&S.signal.addEventListener("abort",_);let{results:I,loaderResults:k,fetcherResults:T}=await Q(E.matches,r,b,w,t);if(t.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",_);w.forEach((e=>D.delete(e.key)));let x=KM(I);if(x){if(x.idx>=b.length){let e=w[x.idx-b.length].key;F.add(e)}return await G(E,x.result,{replace:d}),{shortCircuited:!0}}let{loaderData:C,errors:M}=zM(E,r,b,k,m,w,T,V);V.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&V.delete(t)}))}));let U=ne(),B=re(L),q=U||B||w.length>0;return PL({loaderData:C,errors:M},q?{fetchers:new Map(E.fetchers)}:{})}(y,n,h,d,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,r&&!0===r.initialHydration,p,g,v);b||(S=null,K(n,PL({matches:h},g?{actionData:g}:{},{loaderData:w,errors:_})))}async function G(r,i,o){let{submission:a,fetcherSubmission:s,replace:l}=void 0===o?{}:o;i.revalidate&&(R=!0);let u=FL(r.location,i.location,{_isRedirect:!0});if(OL(u,"Expected a location on the redirect navigation"),n){let n=!1;if(i.reloadDocument)n=!0;else if(IM.test(i.location)){const r=e.history.createURL(i.location);n=r.origin!==t.location.origin||null==iM(r.pathname,c)}if(n)return void(l?t.location.replace(i.location):t.location.assign(i.location))}S=null;let d=!0===l?NL.Replace:NL.Push,{formMethod:h,formAction:f,formEncType:p}=r.navigation;!a&&!s&&h&&f&&p&&(a=rF(r.navigation));let m=a||s;if(wM.has(i.status)&&m&&JM(m.formMethod))await H(d,u,{submission:PL({},m,{formAction:i.location}),preventScrollReset:k});else{let e=iF(u,a);await H(d,u,{overrideNavigation:e,fetcherSubmission:s,preventScrollReset:k})}}async function Q(t,n,r,o,a){let l=await Promise.all([...r.map((e=>LM("loader",a,e,n,s,i,c,u.v7_relativeSplatPath))),...o.map((t=>{if(t.matches&&t.match&&t.controller)return LM("loader",MM(e.history,t.path,t.controller.signal),t.match,t.matches,s,i,c,u.v7_relativeSplatPath);return{type:VL.error,error:WM(404,{pathname:t.path})}}))]),d=l.slice(0,r.length),h=l.slice(r.length);return await Promise.all([ZM(t,r,d,d.map((()=>a.signal)),!1,E.loaderData),ZM(t,o.map((e=>e.match)),h,o.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:l,loaderResults:d,fetcherResults:h}}function $(){R=!0,P.push(...se()),j.forEach(((e,t)=>{D.has(t)&&(N.push(t),ee(t))}))}function Y(e,t,n){void 0===n&&(n={}),E.fetchers.set(e,t),W({fetchers:new Map(E.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function X(e,t,n,r){void 0===r&&(r={});let i=BM(E.matches,t);Z(e),W({errors:{[i.route.id]:n},fetchers:new Map(E.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function J(e){return u.v7_fetcherPersist&&(U.set(e,(U.get(e)||0)+1),z.has(e)&&z.delete(e)),E.fetchers.get(e)||SM}function Z(e){let t=E.fetchers.get(e);!D.has(e)||t&&"loading"===t.state&&M.has(e)||ee(e),j.delete(e),M.delete(e),F.delete(e),z.delete(e),E.fetchers.delete(e)}function ee(e){let t=D.get(e);OL(t,"Expected fetch controller: "+e),t.abort(),D.delete(e)}function te(e){for(let t of e){let e=aF(J(t).data);E.fetchers.set(t,e)}}function ne(){let e=[],t=!1;for(let n of F){let r=E.fetchers.get(n);OL(r,"Expected fetcher: "+n),"loading"===r.state&&(F.delete(n),e.push(n),t=!0)}return te(e),t}function re(e){let t=[];for(let[n,r]of M)if(r<e){let e=E.fetchers.get(n);OL(e,"Expected fetcher: "+n),"loading"===e.state&&(ee(n),M.delete(n),t.push(n))}return te(t),t.length>0}function ie(e){E.blockers.delete(e),B.delete(e)}function oe(e,t){let n=E.blockers.get(e)||EM;OL("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(E.blockers);r.set(e,t),W({blockers:r})}function ae(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===B.size)return;B.size>1&&LL(!1,"A router only supports one blocker at a time");let i=Array.from(B.entries()),[o,a]=i[i.length-1],s=E.blockers.get(o);return s&&"proceeding"===s.state?void 0:a({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}function se(e){let t=[];return V.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),V.delete(r))})),t}function le(e,t){if(p){return p(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,E.loaderData))))||e.key}return e.key}function ce(e,t){if(f){let n=le(e,t),r=f[n];if("number"===typeof r)return r}return null}return b={get basename(){return c},get future(){return u},get state(){return E},get routes(){return l},get window(){return t},initialize:function(){if(d=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(q)return void(q=!1);LL(0===B.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=ae({currentLocation:E.location,nextLocation:r,historyAction:n});return o&&null!=i?(q=!0,e.history.go(-1*i),void oe(o,{state:"blocked",location:r,proceed(){oe(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(E.blockers);e.set(o,EM),W({blockers:e})}})):H(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(TM);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(t,x);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(TM,JSON.stringify(r))}catch(n){LL(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(t,x);t.addEventListener("pagehide",e),C=()=>t.removeEventListener("pagehide",e)}return E.initialized||H(NL.Pop,E.location,{initialHydration:!0}),b},subscribe:function(e){return h.add(e),()=>h.delete(e)},enableScrollRestoration:function(e,t,n){if(f=e,m=t,p=n||null,!g&&E.navigation===_M){g=!0;let e=ce(E.location,E.matches);null!=e&&W({restoreScrollPosition:e})}return()=>{f=null,m=null,p=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let i=CM(E.location,E.matches,c,u.v7_prependBasename,n,u.v7_relativeSplatPath,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:o,submission:a,error:s}=AM(u.v7_normalizeFormMethod,!1,i,r),l=E.location,d=FL(E.location,o,r&&r.state);d=PL({},d,e.history.encodeLocation(d));let h=r&&null!=r.replace?r.replace:void 0,f=NL.Push;!0===h?f=NL.Replace:!1===h||null!=a&&JM(a.formMethod)&&a.formAction===E.location.pathname+E.location.search&&(f=NL.Replace);let p=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,m=!0===(r&&r.unstable_flushSync),g=ae({currentLocation:l,nextLocation:d,historyAction:f});if(!g)return await H(f,d,{submission:a,pendingError:s,preventScrollReset:p,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition,flushSync:m});oe(g,{state:"blocked",location:d,proceed(){oe(g,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),t(n,r)},reset(){let e=new Map(E.blockers);e.set(g,EM),W({blockers:e})}})},fetch:function(t,n,a,d){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");D.has(t)&&ee(t);let h=!0===(d&&d.unstable_flushSync),f=o||l,p=CM(E.location,E.matches,c,u.v7_prependBasename,a,u.v7_relativeSplatPath,n,null==d?void 0:d.relative),m=WL(f,p,c);if(!m)return void X(t,n,WM(404,{pathname:p}),{flushSync:h});let{path:g,submission:v,error:y}=AM(u.v7_normalizeFormMethod,!0,p,d);if(y)return void X(t,n,y,{flushSync:h});let b=nF(m,g);k=!0===(d&&d.preventScrollReset),v&&JM(v.formMethod)?async function(t,n,r,a,d,h,f){if($(),j.delete(t),!a.route.action&&!a.route.lazy){let e=WM(405,{method:f.formMethod,pathname:r,routeId:n});return void X(t,n,e,{flushSync:h})}let p=E.fetchers.get(t);Y(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(f,p),{flushSync:h});let m=new AbortController,g=MM(e.history,r,m.signal,f);D.set(t,m);let v=O,y=await LM("action",g,a,d,s,i,c,u.v7_relativeSplatPath);if(g.signal.aborted)return void(D.get(t)===m&&D.delete(t));if(u.v7_fetcherPersist&&z.has(t)){if($M(y)||QM(y))return void Y(t,aF(void 0))}else{if($M(y))return D.delete(t),L>v?void Y(t,aF(void 0)):(F.add(t),Y(t,oF(f)),G(E,y,{fetcherSubmission:f}));if(QM(y))return void X(t,n,y.error)}if(GM(y))throw WM(400,{type:"defer-action"});let b=E.navigation.location||E.location,w=MM(e.history,b,m.signal),_=o||l,k="idle"!==E.navigation.state?WL(_,E.navigation.location,c):E.matches;OL(k,"Didn't find any matches after fetcher action");let T=++O;M.set(t,T);let x=oF(f,y.data);E.fetchers.set(t,x);let[C,A]=PM(e.history,E,k,f,b,!1,R,P,N,z,j,F,_,c,{[a.route.id]:y.data},void 0);A.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=E.fetchers.get(t),r=oF(void 0,n?n.data:void 0);E.fetchers.set(t,r),D.has(t)&&ee(t),e.controller&&D.set(t,e.controller)})),W({fetchers:new Map(E.fetchers)});let U=()=>A.forEach((e=>ee(e.key)));m.signal.addEventListener("abort",U);let{results:B,loaderResults:q,fetcherResults:H}=await Q(E.matches,k,C,A,w);if(m.signal.aborted)return;m.signal.removeEventListener("abort",U),M.delete(t),D.delete(t),A.forEach((e=>D.delete(e.key)));let J=KM(B);if(J){if(J.idx>=C.length){let e=A[J.idx-C.length].key;F.add(e)}return G(E,J.result)}let{loaderData:Z,errors:te}=zM(E,E.matches,C,q,void 0,A,H,V);if(E.fetchers.has(t)){let e=aF(y.data);E.fetchers.set(t,e)}re(T),"loading"===E.navigation.state&&T>L?(OL(I,"Expected pending action"),S&&S.abort(),K(E.navigation.location,{matches:k,loaderData:Z,errors:te,fetchers:new Map(E.fetchers)})):(W({errors:te,loaderData:VM(E.loaderData,Z,k,te),fetchers:new Map(E.fetchers)}),R=!1)}(t,n,g,b,m,h,v):(j.set(t,{routeId:n,path:g}),async function(t,n,r,o,a,l,d){let h=E.fetchers.get(t);Y(t,oF(d,h?h.data:void 0),{flushSync:l});let f=new AbortController,p=MM(e.history,r,f.signal);D.set(t,f);let m=O,g=await LM("loader",p,o,a,s,i,c,u.v7_relativeSplatPath);GM(g)&&(g=await eF(g,p.signal,!0)||g);D.get(t)===f&&D.delete(t);if(p.signal.aborted)return;if(z.has(t))return void Y(t,aF(void 0));if($M(g))return L>m?void Y(t,aF(void 0)):(F.add(t),void await G(E,g));if(QM(g))return void X(t,n,g.error);OL(!GM(g),"Unhandled fetcher deferred data"),Y(t,aF(g.data))}(t,n,g,b,m,h,v))},revalidate:function(){$(),W({revalidation:"loading"}),"submitting"!==E.navigation.state&&("idle"!==E.navigation.state?H(I||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation}):H(E.historyAction,E.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:J,deleteFetcher:function(e){if(u.v7_fetcherPersist){let t=(U.get(e)||0)-1;t<=0?(U.delete(e),z.add(e)):U.set(e,t)}else Z(e);W({fetchers:new Map(E.fetchers)})},dispose:function(){d&&d(),C&&C(),h.clear(),S&&S.abort(),E.fetchers.forEach(((e,t)=>Z(t))),E.blockers.forEach(((e,t)=>ie(t)))},getBlocker:function(e,t){let n=E.blockers.get(e)||EM;return B.get(e)!==t&&B.set(e,t),n},deleteBlocker:ie,_internalFetchControllers:D,_internalActiveDeferreds:V,_internalSetRoutes:function(e){s={},o=qL(e,i,void 0,s)}},b}Symbol("deferred");function CM(e,t,n,r,i,o,a,s){let l,c;if(a){l=[];for(let e of t)if(l.push(e),e.route.id===a){c=e;break}}else l=t,c=t[t.length-1];let u=lM(i||".",sM(l,o),iM(e.pathname,n)||e.pathname,"path"===s);return null==i&&(u.search=e.search,u.hash=e.hash),null!=i&&""!==i&&"."!==i||!c||!c.route.index||tF(u.search)||(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(u.pathname="/"===u.pathname?n:cM([n,u.pathname])),jL(u)}function AM(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!XM(r.formMethod))return{path:n,error:WM(405,{method:r.formMethod})};let i,o,a=()=>({path:n,error:WM(400,{type:"invalid-body"})}),s=r.formMethod||"get",l=e?s.toUpperCase():s.toLowerCase(),c=HM(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!JM(l))return a();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!JM(l))return a();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(h){return a()}}}if(OL("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=FM(r.formData),o=r.formData;else if(r.body instanceof FormData)i=FM(r.body),o=r.body;else if(r.body instanceof URLSearchParams)i=r.body,o=jM(i);else if(null==r.body)i=new URLSearchParams,o=new FormData;else try{i=new URLSearchParams(r.body),o=jM(i)}catch(h){return a()}let u={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if(JM(u.formMethod))return{path:n,submission:u};let d=UL(n);return t&&d.search&&tF(d.search)&&i.append("index",""),d.search="?"+i,{path:jL(d),submission:u}}function RM(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function PM(e,t,n,r,i,o,a,s,l,c,u,d,h,f,p,m){let g=m?Object.values(m)[0]:p?Object.values(p)[0]:void 0,v=e.createURL(t.location),y=e.createURL(i),b=m?Object.keys(m)[0]:void 0,w=RM(n,b).filter(((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(o)return!!i.loader.hydrate||void 0===t.loaderData[i.id]&&(!t.errors||void 0===t.errors[i.id]);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||s.some((t=>t===e.route.id)))return!0;let l=t.matches[n],c=e;return DM(e,PL({currentUrl:v,currentParams:l.params,nextUrl:y,nextParams:c.params},r,{actionResult:g,defaultShouldRevalidate:a||v.pathname+v.search===y.pathname+y.search||v.search!==y.search||NM(l,c)}))})),_=[];return u.forEach(((e,i)=>{if(o||!n.some((t=>t.route.id===e.routeId))||c.has(i))return;let s=WL(h,e.path,f);if(!s)return void _.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let u=t.fetchers.get(i),p=nF(s,e.path),m=!1;m=!d.has(i)&&(!!l.includes(i)||(u&&"idle"!==u.state&&void 0===u.data?a:DM(p,PL({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:a})))),m&&_.push({key:i,routeId:e.routeId,path:e.path,matches:s,match:p,controller:new AbortController})})),[w,_]}function NM(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function DM(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function OM(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];OL(i,"No route found in manifest");let o={};for(let a in r){let e=void 0!==i[a]&&"hasErrorBoundary"!==a;LL(!e,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+a+'" will be ignored.'),e||BL.has(a)||(o[a]=r[a])}Object.assign(i,o),Object.assign(i,PL({},t(i),{lazy:void 0}))}async function LM(e,t,n,r,i,o,a,s,l){let c,u,d;void 0===l&&(l={});let h=e=>{let r,i=new Promise(((e,t)=>r=t));return d=()=>r(),t.signal.addEventListener("abort",d),Promise.race([e({request:t,params:n.params,context:l.requestContext}),i])};try{let r=n.route[e];if(n.route.lazy)if(r){let e,t=await Promise.all([h(r).catch((t=>{e=t})),OM(n.route,o,i)]);if(e)throw e;u=t[0]}else{if(await OM(n.route,o,i),r=n.route[e],!r){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw WM(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:VL.data,data:void 0}}u=await h(r)}else{if(!r){let e=new URL(t.url);throw WM(404,{pathname:e.pathname+e.search})}u=await h(r)}OL(void 0!==u,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(m){c=VL.error,u=m}finally{d&&t.signal.removeEventListener("abort",d)}if(YM(u)){let e,i=u.status;if(bM.has(i)){let e=u.headers.get("Location");if(OL(e,"Redirects returned/thrown from loaders/actions must have a Location header"),IM.test(e)){if(!l.isStaticRequest){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e),i=null!=iM(r.pathname,a);r.origin===n.origin&&i&&(e=r.pathname+r.search+r.hash)}}else e=CM(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,e,s);if(l.isStaticRequest)throw u.headers.set("Location",e),u;return{type:VL.redirect,status:i,location:e,revalidate:null!==u.headers.get("X-Remix-Revalidate"),reloadDocument:null!==u.headers.get("X-Remix-Reload-Document")}}if(l.isRouteRequest){throw{type:c===VL.error?VL.error:VL.data,response:u}}try{let t=u.headers.get("Content-Type");e=t&&/\bapplication\/json\b/.test(t)?null==u.body?null:await u.json():await u.text()}catch(m){return{type:VL.error,error:m}}return c===VL.error?{type:c,error:new fM(i,u.statusText,e),headers:u.headers}:{type:VL.data,data:e,statusCode:u.status,headers:u.headers}}return c===VL.error?{type:c,error:u}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(u)?{type:VL.deferred,deferredData:u,statusCode:null==(f=u.init)?void 0:f.status,headers:(null==(p=u.init)?void 0:p.headers)&&new Headers(u.init.headers)}:{type:VL.data,data:u};var f,p}function MM(e,t,n,r){let i=e.createURL(HM(t)).toString(),o={signal:n};if(r&&JM(r.formMethod)){let{formMethod:e,formEncType:t}=r;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(r.json)):"text/plain"===t?o.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?o.body=FM(r.formData):o.body=r.formData}return new Request(i,o)}function FM(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function jM(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function UM(e,t,n,r,i){let o,a={},s=null,l=!1,c={};return n.forEach(((n,u)=>{let d=t[u].route.id;if(OL(!$M(n),"Cannot handle redirect results in processLoaderData"),QM(n)){let t=BM(e,d),i=n.error;r&&(i=Object.values(r)[0],r=void 0),s=s||{},null==s[t.route.id]&&(s[t.route.id]=i),a[d]=void 0,l||(l=!0,o=pM(n.error)?n.error.status:500),n.headers&&(c[d]=n.headers)}else GM(n)?(i.set(d,n.deferredData),a[d]=n.deferredData.data):a[d]=n.data,null==n.statusCode||200===n.statusCode||l||(o=n.statusCode),n.headers&&(c[d]=n.headers)})),r&&(s=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:c}}function zM(e,t,n,r,i,o,a,s){let{loaderData:l,errors:c}=UM(t,n,r,i,s);for(let u=0;u<o.length;u++){let{key:t,match:n,controller:r}=o[u];OL(void 0!==a&&void 0!==a[u],"Did not find corresponding fetcher result");let i=a[u];if(!r||!r.signal.aborted)if(QM(i)){let r=BM(e.matches,null==n?void 0:n.route.id);c&&c[r.route.id]||(c=PL({},c,{[r.route.id]:i.error})),e.fetchers.delete(t)}else if($M(i))OL(!1,"Unhandled fetcher revalidation redirect");else if(GM(i))OL(!1,"Unhandled fetcher deferred data");else{let n=aF(i.data);e.fetchers.set(t,n)}}return{loaderData:l,errors:c}}function VM(e,t,n,r){let i=PL({},t);for(let o of n){let n=o.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&o.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function BM(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function qM(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function WM(e,t){let{pathname:n,routeId:r,method:i,type:o}=void 0===t?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(a="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===o?s="defer() is not supported in actions":"invalid-body"===o&&(s="Unable to encode submission body")):403===e?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):404===e?(a="Not Found",s='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new fM(e||500,a,new Error(s),!0)}function KM(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if($M(n))return{result:n,idx:t}}}function HM(e){return jL(PL({},"string"===typeof e?UL(e):e,{hash:""}))}function GM(e){return e.type===VL.deferred}function QM(e){return e.type===VL.error}function $M(e){return(e&&e.type)===VL.redirect}function YM(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function XM(e){return yM.has(e.toLowerCase())}function JM(e){return gM.has(e.toLowerCase())}async function ZM(e,t,n,r,i,o){for(let a=0;a<n.length;a++){let s=n[a],l=t[a];if(!l)continue;let c=e.find((e=>e.route.id===l.route.id)),u=null!=c&&!NM(c,l)&&void 0!==(o&&o[l.route.id]);if(GM(s)&&(i||u)){let e=r[a];OL(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await eF(s,e,i).then((e=>{e&&(n[a]=e||n[a])}))}}}async function eF(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:VL.data,data:e.deferredData.unwrappedData}}catch(r){return{type:VL.error,error:r}}return{type:VL.data,data:e.deferredData.data}}}function tF(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function nF(e,t){let n="string"===typeof t?UL(t).search:t.search;if(e[e.length-1].route.index&&tF(n||""))return e[e.length-1];let r=aM(e);return r[r.length-1]}function rF(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0}:void 0!==a?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}:void 0}function iF(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function oF(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function aF(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function sF(){return sF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sF.apply(this,arguments)}const lF=t.createContext(null);const cF=t.createContext(null);const uF=t.createContext(null);const dF=t.createContext(null);const hF=t.createContext({outlet:null,matches:[],isDataRoute:!1});const fF=t.createContext(null);function pF(){return null!=t.useContext(dF)}function mF(){return pF()||OL(!1),t.useContext(dF).location}function gF(e){t.useContext(uF).static||t.useLayoutEffect(e)}function vF(){let{isDataRoute:e}=t.useContext(hF);return e?function(){let{router:e}=TF(IF.UseNavigateStable),n=CF(kF.UseNavigateStable),r=t.useRef(!1);gF((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,sF({fromRouteId:n},i)))}),[e,n]);return i}():function(){pF()||OL(!1);let e=t.useContext(lF),{basename:n,future:r,navigator:i}=t.useContext(uF),{matches:o}=t.useContext(hF),{pathname:a}=mF(),s=JSON.stringify(sM(o,r.v7_relativeSplatPath)),l=t.useRef(!1);return gF((()=>{l.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let o=lM(t,JSON.parse(s),a,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:cM([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,s,a,e])}()}function yF(e,n,r,i){pF()||OL(!1);let{navigator:o}=t.useContext(uF),{matches:a}=t.useContext(hF),s=a[a.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let u,d=mF();if(n){var h;let e="string"===typeof n?UL(n):n;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||OL(!1),u=e}else u=d;let f=u.pathname||"/",p=WL(e,{pathname:"/"===c?f:f.slice(c.length)||"/"});let m=EF(p&&p.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:cM([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:cM([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,i);return n&&m?t.createElement(dF.Provider,{value:{location:sF({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:NL.Pop}},m):m}function bF(){let e=function(){var e;let n=t.useContext(fF),r=xF(kF.UseRouteError),i=CF(kF.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=pM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const wF=t.createElement(bF,null);class _F extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(hF.Provider,{value:this.props.routeContext},t.createElement(fF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SF(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(lF);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(hF.Provider,{value:n},i)}function EF(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}let s=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||OL(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,i,o)=>{let a,d=!1,h=null,f=null;var p;r&&(a=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||wF,c&&(u<0&&0===o?(p="route-fallback",!1||AF[p]||(AF[p]=!0),d=!0,f=null):u===o&&(d=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(s.slice(0,o+1)),g=()=>{let n;return n=a?h:d?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(SF,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(_F,{location:r.location,revalidation:r.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var IF=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(IF||{}),kF=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kF||{});function TF(e){let n=t.useContext(lF);return n||OL(!1),n}function xF(e){let n=t.useContext(cF);return n||OL(!1),n}function CF(e){let n=function(e){let n=t.useContext(hF);return n||OL(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||OL(!1),r.route.id}const AF={};r.startTransition;function RF(e){let{to:n,replace:r,state:i,relative:o}=e;pF()||OL(!1);let{future:a,static:s}=t.useContext(uF),{matches:l}=t.useContext(hF),{pathname:c}=mF(),u=vF(),d=lM(n,sM(l,a.v7_relativeSplatPath),c,"path"===o),h=JSON.stringify(d);return t.useEffect((()=>u(JSON.parse(h),{replace:r,state:i,relative:o})),[u,h,o,r,i]),null}function PF(e){let{basename:n="/",children:r=null,location:i,navigationType:o=NL.Pop,navigator:a,static:s=!1,future:l}=e;pF()&&OL(!1);let c=n.replace(/^\/*/,"/"),u=t.useMemo((()=>({basename:c,navigator:a,static:s,future:sF({v7_relativeSplatPath:!1},l)})),[c,l,a,s]);"string"===typeof i&&(i=UL(i));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=i,g=t.useMemo((()=>{let e=iM(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:o}}),[c,d,h,f,p,m,o]);return null==g?null:t.createElement(uF.Provider,{value:u},t.createElement(dF.Provider,{children:r,value:g}))}new Promise((()=>{}));t.Component;function NF(e){let n={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(n,{element:t.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(n,{hydrateFallbackElement:t.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(n,{errorElement:t.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),n}function DF(e){let{sessionsRef:n,joinPhrase:r,validPhrase:i}=e;const o=n.where("joinPhrase","==",r).limit(1),[a,s,l,c]=DO(o),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1);return h&&!s&&(l?m(l):a[0]?d((()=>{if(l||!c)return!1;console.log(c);const e=!!c&&c._snapshot.docs.sortedSet.root.key.key.path.segments;return!!e&&e[e.length-1]})()):m("No games matched that Join Phrase."),f(!1)),(0,iC.jsxs)(iC.Fragment,{children:[h&&(0,iC.jsx)(iC.Fragment,{children:s?(0,iC.jsx)(wR,{color:"darkblue",children:"Searching..."}):(0,iC.jsx)(iC.Fragment,{children:a[0]&&!l&&(0,iC.jsx)(wR,{color:"darkgreen",children:"FOUND GAME!"})})}),(0,iC.jsx)("br",{}),(0,iC.jsx)("br",{}),p&&(0,iC.jsxs)(iC.Fragment,{children:[(0,iC.jsx)(wR,{color:"darkred",children:p}),(0,iC.jsx)("br",{})]}),(0,iC.jsx)(cR,{onClick:()=>{f(!0)},variant:"contained",disabled:h||!i,children:"Find Game"}),u&&(0,iC.jsx)(RF,{to:"/game/".concat(u),replace:!0})]})}function OF(e){let{auth:n,firebase:r,firestore:i,page:o,setPage:a,guestsRef:s,sessionsRef:l}=e;const[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(!1);return(0,iC.jsxs)(iC.Fragment,{children:[(0,iC.jsx)("br",{}),(0,iC.jsx)("br",{}),(0,iC.jsx)(SO,{id:"guest-joinphrase-input",onInput:e=>{const t=e.target.value;u(t),h(t.length>=3)},value:c,label:"Join Phrase",variant:"outlined"}),(0,iC.jsx)("br",{}),!d&&(0,iC.jsx)(wR,{color:"darkred",children:"Join Phrase must be at least 3 characters."}),(0,iC.jsx)("br",{}),(0,iC.jsx)(DF,{sessionsRef:l,joinPhrase:c,validPhrase:d}),(0,iC.jsx)("br",{}),(0,iC.jsx)("br",{}),(0,iC.jsx)(cR,{variant:"outlined",onClick:()=>{a("home")},children:"Back"})]})}function LF(e){let{auth:n,firebase:r,firestore:i}=e;const[o,a]=(0,t.useState)("home"),s=i.collection("Sessions"),l=i.collection("Guests"),c={home:(0,iC.jsx)(RL,{auth:n,firebase:r,page:o,setPage:a}),join:(0,iC.jsx)(OF,{auth:n,firebase:r,page:o,setPage:a,sessionsRef:s,guestsRef:l})};return(0,iC.jsx)(iC.Fragment,{children:c[o]})}function MF(e){let{auth:t,user:n,firebase:r,firestore:i,authSignout:o}=e;return(0,iC.jsxs)(iC.Fragment,{children:[(0,iC.jsx)(ZC,{children:n?(0,iC.jsx)(CL,{user:n,firebase:r,firestore:i}):(0,iC.jsx)(LF,{auth:t,firebase:r,firestore:i})}),(0,iC.jsx)(ZC,{children:(0,iC.jsx)(uR,{user:n,authSignout:o})})]})}function FF(e){let{game_id:n,auth:r,user:i,firebase:o,firestore:a,authSignout:s}=e;const[l,c]=(0,t.useState)("join");return(0,iC.jsxs)(iC.Fragment,{children:[(0,iC.jsx)("h4",{children:"GAME"}),(0,iC.jsx)("p",{children:n})]})}nt.initializeApp({apiKey:"AIzaSyBQ7DwkcP7WXWg54DuahrA9cYAUhidewD4",authDomain:"we-are-the-walrus.firebaseapp.com",projectId:"we-are-the-walrus",storageBucket:"we-are-the-walrus.appspot.com",messagingSenderId:"267097892790",appId:"1:267097892790:web:a1f659386044f338200317",measurementId:"G-67YXPTTKRG"});const jF=nt.auth(),UF=nt.firestore();function zF(e){let{currentView:n}=e;const[r,i,o]=BI(jF),{game_id:a}=function(){let{matches:e}=t.useContext(hF),n=e[e.length-1];return n?n.params:{}}(),s=()=>{jF.signOut()};return console.log(n),(0,iC.jsxs)("div",{className:"App",children:[(0,iC.jsx)(iC.Fragment,{children:"site"===n&&(0,iC.jsx)(MF,{auth:jF,user:r,firebase:nt,firestore:UF,authSignout:s})}),(0,iC.jsx)(iC.Fragment,{children:"game"===n&&(0,iC.jsx)(FF,{game_id:a,auth:jF,user:r,firebase:nt,firestore:UF,authSignout:s})})]})}function VF(){return VF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VF.apply(this,arguments)}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function BF(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=VF({},t,{errors:qF(t.errors)})),t}function qF(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,o]of t)if(o&&"RouteErrorResponse"===o.__type)n[i]=new fM(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){if(o.__subType){let e=window[o.__subType];if("function"===typeof e)try{let t=new e(o.message);t.stack="",n[i]=t}catch(r){}}if(null==n[i]){let e=new Error(o.message);e.stack="",n[i]=e}}else n[i]=o;return n}const WF=t.createContext({isTransitioning:!1});const KF=t.createContext(new Map);const HF=r.startTransition,GF=kR.flushSync;r.useId;function QF(e){GF?GF(e):e()}class $F{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function YF(e){let{fallbackElement:n,router:r,future:i}=e,[o,a]=t.useState(r.state),[s,l]=t.useState(),[c,u]=t.useState({isTransitioning:!1}),[d,h]=t.useState(),[f,p]=t.useState(),[m,g]=t.useState(),v=t.useRef(new Map),{v7_startTransition:y}=i||{},b=t.useCallback((e=>{y?function(e){HF?HF(e):e()}(e):e()}),[y]),w=t.useCallback(((e,t)=>{let{deletedFetchers:n,unstable_flushSync:i,unstable_viewTransitionOpts:o}=t;n.forEach((e=>v.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&v.current.set(t,e.data)}));let s=null==r.window||"function"!==typeof r.window.document.startViewTransition;if(o&&!s){if(i){QF((()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:o.currentLocation,nextLocation:o.nextLocation})}));let t=r.window.document.startViewTransition((()=>{QF((()=>a(e)))}));return t.finished.finally((()=>{QF((()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}))})),void QF((()=>p(t)))}f?(d&&d.resolve(),f.skipTransition(),g({state:e,currentLocation:o.currentLocation,nextLocation:o.nextLocation})):(l(e),u({isTransitioning:!0,flushSync:!1,currentLocation:o.currentLocation,nextLocation:o.nextLocation}))}else i?QF((()=>a(e))):b((()=>a(e)))}),[r.window,f,d,v,b]);t.useLayoutEffect((()=>r.subscribe(w)),[r,w]),t.useEffect((()=>{c.isTransitioning&&!c.flushSync&&h(new $F)}),[c]),t.useEffect((()=>{if(d&&s&&r.window){let e=s,t=d.promise,n=r.window.document.startViewTransition((async()=>{b((()=>a(e))),await t}));n.finished.finally((()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})),p(n)}}),[b,s,d,r.window]),t.useEffect((()=>{d&&s&&o.location.key===s.location.key&&d.resolve()}),[d,f,o.location,s]),t.useEffect((()=>{!c.isTransitioning&&m&&(l(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))}),[c.isTransitioning,m]),t.useEffect((()=>{}),[]);let _=t.useMemo((()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,t,n)=>r.navigate(e,{state:t,preventScrollReset:null==n?void 0:n.preventScrollReset}),replace:(e,t,n)=>r.navigate(e,{replace:!0,state:t,preventScrollReset:null==n?void 0:n.preventScrollReset})})),[r]),S=r.basename||"/",E=t.useMemo((()=>({router:r,navigator:_,static:!1,basename:S})),[r,_,S]);return t.createElement(t.Fragment,null,t.createElement(lF.Provider,{value:E},t.createElement(cF.Provider,{value:o},t.createElement(KF.Provider,{value:v.current},t.createElement(WF.Provider,{value:c},t.createElement(PF,{basename:S,location:o.location,navigationType:o.historyAction,navigator:_,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},o.initialized||r.future.v7_partialHydration?t.createElement(XF,{routes:r.routes,future:r.future,state:o}):n))))),null)}function XF(e){let{routes:t,future:n,state:r}=e;return yF(t,void 0,r,n)}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var JF,ZF;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(JF||(JF={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ZF||(ZF={}));const ej=function(e,t){return xM({basename:null==t?void 0:t.basename,future:VF({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),zL((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return FL("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:jL(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||BF(),routes:e,mapRouteProperties:NF,window:null==t?void 0:t.window}).initialize();var n}([{path:"game/:game_id",element:(0,iC.jsx)(zF,{currentView:"game"}),loader:e=>{let{params:t}=e;return t.game_id}},{path:"/",element:(0,iC.jsx)(zF,{currentView:"site"}),loader:e=>{let{params:t}=e;return!1}}],{basename:"/"});console.log("/");i.createRoot(document.getElementById("root")).render((0,iC.jsx)(t.StrictMode,{children:(0,iC.jsx)(YF,{router:ej})}))})()})();
//# sourceMappingURL=main.19d1051b.js.map